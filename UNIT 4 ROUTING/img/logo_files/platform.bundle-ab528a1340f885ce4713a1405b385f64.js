webpackJsonp([6],[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}var i=n(712),o=r(i),a=n(48),s=r(a);new s["default"]({Platform:o["default"]})},,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){var r;r=function(e,t,n){"use strict";var r="/stats/v1/batch",i=function(e){e=e||{},this.FLUSH_INTERVAL=1e3*(e.flushInterval||10),this.QUEUE_LIMIT=e.queueLimit||10,this.flushUrl=e.flushUrl,this._statsdQueue=[],this._beforeUnloadQueue={},this._flushTimeout=null,e.stopped||this._startIntervalFlush(),this._registerBeforeUnload()};(function(){this._preparedData=function(){return{data:this._statsdQueue}},this._flush=function(){var e=new XMLHttpRequest;e.open("POST",this.flushUrl,!0),e.setRequestHeader("Content-Type","application/json;charset=UTF-8"),e.send(JSON.stringify(this._preparedData())),this._statsdQueue=[]},this._flushIfNecessary=function(){this._statsdQueue.length>0&&this._flush()},this._flushBeforeOnload=function(){for(var e in this._beforeUnloadQueue)this._beforeUnloadQueue[e]();this._flushIfNecessary()},this._record=function(e,t,n,r){var i={name:e,payload:{measurement:t,action:n}};null!=r&&(i.payload.value=r),this._statsdQueue.push(i),setTimeout(this._flushIfOverflow.bind(this),0)},this._flushIfOverflow=function(){if(this._statsdQueue.length>=this.QUEUE_LIMIT){var e=!1;null!==this._flushTimeout&&(this._stopIntervalFlush(),e=!0),this._flush(),e&&this._startIntervalFlush()}},this._stopIntervalFlush=function(){clearTimeout(this._flushTimeout),this._flushTimeout=null},this._startIntervalFlush=function(){this._flushIfNecessary(),this._flushTimeout=setTimeout(this._startIntervalFlush.bind(this),this.FLUSH_INTERVAL)},this._registerBeforeUnload=function(){window.addEventListener("beforeunload",this._flushBeforeOnload.bind(this),!1)},this.increment=function(e,t){this._record(e,t,"increment",null)},this.decrement=function(e,t){this._record(e,t,"decrement",null)},this.gauge=function(e,t,n){this._record(e,t,"gauge",n)},this.timing=function(e,t,n){this._record(e,t,"timing",n)},this.set=function(e,t,n){this._record(e,t,"set",n)},this.registerUnloadAction=function(e,t){this._beforeUnloadQueue[e]=t}}).call(i.prototype),n.exports=new i({flushUrl:r})}.call(t,n,t,e),!(void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0;var i=n(5),o=r(i),a=o["default"].createActions([]);a.persist=o["default"].createAction({asyncResult:!0}),a.setWorkspace=o["default"].createAction({asyncResult:!0}),a.updateFiles=o["default"].createAction({asyncResult:!0}),a.createDirectories=o["default"].createAction({asyncResult:!0}),a.getFile=o["default"].createAction({asyncResult:!0}),a.getFiles=o["default"].createAction({asyncResult:!0}),a.deleteFile=o["default"].createAction({asyncResult:!0}),a.rename=o["default"].createAction({asyncResult:!0}),a.getFileTree=o["default"].createAction({asyncResult:!0}),a.ready=o["default"].createAction(),t["default"]=a,e.exports=t["default"]},,,,,,,,,,,function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0;var i=n(35),o=r(i);t["default"]=function(e,t){o["default"][e]?o["default"][e]({event:t},"learner_activity"):console.warn("Tried to log activity using ${type} type, which doesn't exist")},e.exports=t["default"]},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0;var i=n(5),o=r(i),a=o["default"].createActions([]);a.closeFile=o["default"].createAction(),a.openFile=o["default"].createAction(),a.setCurrentOpenFile=o["default"].createAction(),a.updateCurrentFile=o["default"].createAction(),a.saveFiles=o["default"].createAction({asyncResult:!0}),a.reloadFile=o["default"].createAction({asyncResult:!0}),t["default"]=a,e.exports=t["default"]},,function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0;var i=n(5),o=r(i),a=n(27),s=r(a),l=n(744),u=r(l),c=n(745),d=r(c),p=n(26),f=r(p),h=n(38),m=r(h);t["default"]=o["default"].createStore({init:function(){this.listenToMany({persist:s["default"].persist,setWorkspace:s["default"].setWorkspace,updateFiles:s["default"].updateFiles,createDirectories:s["default"].createDirectories,deleteFile:s["default"].deleteFile,rename:s["default"].rename,getFileTree:s["default"].getFileTree,getFile:s["default"].getFile,getFiles:s["default"].getFiles}),this.dirty=!1},setWorkspace:function(e){var t=this;return this.slug=e.slug,e.backend?this["interface"]=new u["default"](e.slug):this["interface"]=new d["default"](e.slug),this["interface"].initialize().then(function(){s["default"].setWorkspace.completed(t.workspace)},function(e){s["default"].setWorkspace.failed(e)})},getSlug:function(){return this.slug},persist:function(){var e=this;return this.dirty?(m["default"]("info","Persisting workspace '"+this.slug+"'"),new Promise(function(t,n){e._attemptToPersist(t,n)})):void s["default"].persist.completed()},_attemptToPersist:function(e,t){var n=this,r=new Date,i="francine.workspace."+this["interface"].workspace.backend+".persist";this["interface"].persist().then(function(){n._persistAttempts=0,e(),m["default"]("info","Successfully persisted workspace '"+n.slug+"'"),f["default"].increment(i,"success")},function(o){n._persistAttempts++,f["default"].increment(i,"error"),f["default"].timing(i,(new Date).valueOf()-r.valueOf()),m["default"]("error","Error while persisting workspace "+n.slug+": "+o),n._persistAttempts<3?(m["default"]("info","Giving up trying to persist workspace"),f["default"].increment(i,"give-up"),n._attemptToPersist(e,t)):t("Failed to persist 3 times in a row")})},getFileTree:function(){var e=this;return this["interface"].getFileTree().then(function(){e.trigger(e["interface"].workspace)})},getFiles:function(e){var t=this;return this["interface"].getFiles(e).then(function(){t.trigger(t["interface"].workspace)})},getFile:function(e,t){var n=this;return this["interface"].getFile(e,t).then(function(){n.trigger(n["interface"].workspace)})},deleteFile:function(e){var t=this;return this["interface"].deleteFile(e).then(function(){t.dirty=!0,t.trigger(t["interface"].workspace)})},updateFiles:function(e){var t=this;return this["interface"].updateFiles(e).then(function(){t.dirty=!0,t.trigger(t["interface"].workspace)})},createDirectories:function(e){var t=this;return this["interface"].createDirectories(e).then(function(){t.dirty=!0,t.trigger(t["interface"].workspace)})},rename:function(e,t,n){var r=this;return this["interface"].rename(e,t,n).then(function(){r["interface"].getFileTree().then(function(){r.dirty=!0,r.trigger(r["interface"].workspace)})})}}),e.exports=t["default"]},,,,,,,,function(e,t,n){var r;r=function(e,t,n){n.exports={extname:function(e){return e?(e.split(".").slice(-1)[0]||"").toLowerCase():void 0},contentEncoding:function(e){var t=e.toLowerCase()||"";switch(t){case"jpg":case"jpeg":case"png":case"gif":return"base64";default:return"text"}}}}.call(t,n,t,e),!(void 0!==r&&(e.exports=r))},,,,function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0;var i=n(1),o=r(i),a=n(921),s=r(a),l=n(204),u=r(l),c=n(547),d=r(c);d["default"].setOptions({highlight:function(e,t){var n=o["default"].createElement(u["default"],{language:t},e);return s["default"].renderToString(n)}}),t["default"]=function(e){return d["default"](e)},e.exports=t["default"]},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0;var i=n(5),o=r(i),a=o["default"].createActions([]);a.publishFilenames=o["default"].createAction(),a.loadFiles=o["default"].createAction({asyncResult:!0}),t["default"]=a,e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0;var i=n(5),o=r(i);t["default"]=o["default"].createActions(["resized","resizing","cueSeen"]),e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0;var i=n(5),o=r(i),a=n(200),s=r(a),l=n(35),u=r(l);t["default"]=o["default"].createStore({init:function(){this.listenToMany({isLoading:s["default"].load,isReady:s["default"].ready})},isLoading:function(){u["default"].info("Backend loading"),this.ready=!1,this.trigger(this.ready)},isReady:function(){u["default"].info("Backend ready"),this.ready=!0,this.trigger(this.ready)}}),e.exports=t["default"]},,,,,,,,,,function(e,t){function n(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function r(e){return"function"==typeof e}function i(e){return"number"==typeof e}function o(e){return"object"==typeof e&&null!==e}function a(e){return void 0===e}e.exports=n,n.EventEmitter=n,n.prototype._events=void 0,n.prototype._maxListeners=void 0,n.defaultMaxListeners=10,n.prototype.setMaxListeners=function(e){if(!i(e)||0>e||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this},n.prototype.emit=function(e){var t,n,i,s,l,u;if(this._events||(this._events={}),"error"===e&&(!this._events.error||o(this._events.error)&&!this._events.error.length)){if(t=arguments[1],t instanceof Error)throw t;throw TypeError('Uncaught, unspecified "error" event.')}if(n=this._events[e],a(n))return!1;if(r(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:s=Array.prototype.slice.call(arguments,1),n.apply(this,s)}else if(o(n))for(s=Array.prototype.slice.call(arguments,1),u=n.slice(),i=u.length,l=0;i>l;l++)u[l].apply(this,s);return!0},n.prototype.addListener=function(e,t){var i;if(!r(t))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,r(t.listener)?t.listener:t),this._events[e]?o(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,o(this._events[e])&&!this._events[e].warned&&(i=a(this._maxListeners)?n.defaultMaxListeners:this._maxListeners,i&&i>0&&this._events[e].length>i&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),"function"==typeof console.trace&&console.trace())),this},n.prototype.on=n.prototype.addListener,n.prototype.once=function(e,t){function n(){this.removeListener(e,n),i||(i=!0,t.apply(this,arguments))}if(!r(t))throw TypeError("listener must be a function");var i=!1;return n.listener=t,this.on(e,n),this},n.prototype.removeListener=function(e,t){var n,i,a,s;if(!r(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(n=this._events[e],a=n.length,i=-1,n===t||r(n.listener)&&n.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(o(n)){for(s=a;s-->0;)if(n[s]===t||n[s].listener&&n[s].listener===t){i=s;break}if(0>i)return this;1===n.length?(n.length=0,delete this._events[e]):n.splice(i,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this},n.prototype.removeAllListeners=function(e){var t,n;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events)"removeListener"!==t&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(n=this._events[e],r(n))this.removeListener(e,n);else if(n)for(;n.length;)this.removeListener(e,n[n.length-1]);return delete this._events[e],this},n.prototype.listeners=function(e){var t;return t=this._events&&this._events[e]?r(this._events[e])?[this._events[e]]:this._events[e].slice():[]},n.prototype.listenerCount=function(e){if(this._events){var t=this._events[e];if(r(t))return 1;if(t)return t.length}return 0},n.listenerCount=function(e,t){return e.listenerCount(t)}},,,,,,,,function(e,t,n){(function(e,r){function i(e,n){var r={seen:[],stylize:a};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),m(n)?r.showHidden=n:n&&t._extend(r,n),x(r.showHidden)&&(r.showHidden=!1),x(r.depth)&&(r.depth=2),x(r.colors)&&(r.colors=!1),x(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=o),l(r,e,r.depth)}function o(e,t){var n=i.styles[t];return n?"["+i.colors[n][0]+"m"+e+"["+i.colors[n][1]+"m":e}function a(e,t){return e}function s(e){var t={};return e.forEach(function(e,n){t[e]=!0}),t}function l(e,n,r){if(e.customInspect&&n&&T(n.inspect)&&n.inspect!==t.inspect&&(!n.constructor||n.constructor.prototype!==n)){var i=n.inspect(r,e);return _(i)||(i=l(e,i,r)),i}var o=u(e,n);if(o)return o;var a=Object.keys(n),m=s(a);if(e.showHidden&&(a=Object.getOwnPropertyNames(n)),M(n)&&(a.indexOf("message")>=0||a.indexOf("description")>=0))return c(n);if(0===a.length){if(T(n)){var g=n.name?": "+n.name:"";return e.stylize("[Function"+g+"]","special")}if(w(n))return e.stylize(RegExp.prototype.toString.call(n),"regexp");if(C(n))return e.stylize(Date.prototype.toString.call(n),"date");if(M(n))return c(n)}var v="",y=!1,b=["{","}"];if(h(n)&&(y=!0,b=["[","]"]),T(n)){var x=n.name?": "+n.name:"";v=" [Function"+x+"]"}if(w(n)&&(v=" "+RegExp.prototype.toString.call(n)),C(n)&&(v=" "+Date.prototype.toUTCString.call(n)),M(n)&&(v=" "+c(n)),0===a.length&&(!y||0==n.length))return b[0]+v+b[1];if(0>r)return w(n)?e.stylize(RegExp.prototype.toString.call(n),"regexp"):e.stylize("[Object]","special");e.seen.push(n);var k;return k=y?d(e,n,r,m,a):a.map(function(t){return p(e,n,r,m,t,y)}),e.seen.pop(),f(k,v,b)}function u(e,t){if(x(t))return e.stylize("undefined","undefined");if(_(t)){var n="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(n,"string")}return y(t)?e.stylize(""+t,"number"):m(t)?e.stylize(""+t,"boolean"):g(t)?e.stylize("null","null"):void 0}function c(e){return"["+Error.prototype.toString.call(e)+"]"}function d(e,t,n,r,i){for(var o=[],a=0,s=t.length;s>a;++a)P(t,String(a))?o.push(p(e,t,n,r,String(a),!0)):o.push("");return i.forEach(function(i){i.match(/^\d+$/)||o.push(p(e,t,n,r,i,!0))}),o}function p(e,t,n,r,i,o){var a,s,u;if(u=Object.getOwnPropertyDescriptor(t,i)||{value:t[i]},u.get?s=u.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):u.set&&(s=e.stylize("[Setter]","special")),P(r,i)||(a="["+i+"]"),s||(e.seen.indexOf(u.value)<0?(s=g(n)?l(e,u.value,null):l(e,u.value,n-1),s.indexOf("\n")>-1&&(s=o?s.split("\n").map(function(e){return"  "+e}).join("\n").substr(2):"\n"+s.split("\n").map(function(e){return"   "+e}).join("\n"))):s=e.stylize("[Circular]","special")),x(a)){if(o&&i.match(/^\d+$/))return s;a=JSON.stringify(""+i),a.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(a=a.substr(1,a.length-2),a=e.stylize(a,"name")):(a=a.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),a=e.stylize(a,"string"))}return a+": "+s}function f(e,t,n){var r=0,i=e.reduce(function(e,t){return r++,t.indexOf("\n")>=0&&r++,e+t.replace(/\u001b\[\d\d?m/g,"").length+1},0);return i>60?n[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+n[1]:n[0]+t+" "+e.join(", ")+" "+n[1]}function h(e){return Array.isArray(e)}function m(e){return"boolean"==typeof e}function g(e){return null===e}function v(e){return null==e}function y(e){return"number"==typeof e}function _(e){return"string"==typeof e}function b(e){return"symbol"==typeof e}function x(e){return void 0===e}function w(e){return k(e)&&"[object RegExp]"===E(e)}function k(e){return"object"==typeof e&&null!==e}function C(e){return k(e)&&"[object Date]"===E(e)}function M(e){return k(e)&&("[object Error]"===E(e)||e instanceof Error)}function T(e){return"function"==typeof e}function S(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||"undefined"==typeof e}function E(e){return Object.prototype.toString.call(e)}function D(e){return 10>e?"0"+e.toString(10):e.toString(10)}function L(){var e=new Date,t=[D(e.getHours()),D(e.getMinutes()),D(e.getSeconds())].join(":");return[e.getDate(),I[e.getMonth()],t].join(" ")}function P(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var N=/%[sdj%]/g;t.format=function(e){if(!_(e)){for(var t=[],n=0;n<arguments.length;n++)t.push(i(arguments[n]));return t.join(" ")}for(var n=1,r=arguments,o=r.length,a=String(e).replace(N,function(e){if("%%"===e)return"%";if(n>=o)return e;switch(e){case"%s":return String(r[n++]);case"%d":return Number(r[n++]);case"%j":try{return JSON.stringify(r[n++])}catch(t){return"[Circular]"}default:return e}}),s=r[n];o>n;s=r[++n])a+=g(s)||!k(s)?" "+s:" "+i(s);return a},t.deprecate=function(n,i){function o(){if(!a){if(r.throwDeprecation)throw new Error(i);r.traceDeprecation?console.trace(i):console.error(i),a=!0}return n.apply(this,arguments)}if(x(e.process))return function(){return t.deprecate(n,i).apply(this,arguments)};if(r.noDeprecation===!0)return n;var a=!1;return o};var A,R={};t.debuglog=function(e){if(x(A)&&(A=r.env.NODE_DEBUG||""),e=e.toUpperCase(),!R[e])if(new RegExp("\\b"+e+"\\b","i").test(A)){var n=r.pid;R[e]=function(){var r=t.format.apply(t,arguments);console.error("%s %d: %s",e,n,r)}}else R[e]=function(){};return R[e]},t.inspect=i,i.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},i.styles={special:"cyan",number:"yellow","boolean":"yellow",undefined:"grey","null":"bold",string:"green",date:"magenta",regexp:"red"},t.isArray=h,t.isBoolean=m,t.isNull=g,t.isNullOrUndefined=v,t.isNumber=y,t.isString=_,t.isSymbol=b,t.isUndefined=x,t.isRegExp=w,t.isObject=k,t.isDate=C,t.isError=M,t.isFunction=T,t.isPrimitive=S,t.isBuffer=n(957);var I=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];t.log=function(){console.log("%s - %s",L(),t.format.apply(t,arguments))},t.inherits=n(902),t._extend=function(e,t){if(!t||!k(t))return e;for(var n=Object.keys(t),r=n.length;r--;)e[n[r]]=t[n[r]];return e}}).call(t,function(){return this}(),n(247))},,,,,,,,,,,,,function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0;var i=n(5),o=r(i);t["default"]=o["default"].createActions(["load","ready"]),e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0;var i=n(5),o=r(i),a=o["default"].createActions([]);a.setPreviewFilepath=o["default"].createAction(),a.previewFile=o["default"].createAction(),a.clearPreviewFile=o["default"].createAction(),t["default"]=a,e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0;var i=n(5),o=r(i);t["default"]=o["default"].createActions(["checkAssessment","resetProject"]),e.exports=t["default"]},,,,,,function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0;var i=n(1),o=r(i),a=n(588),s=r(a),l=n(2),u=r(l),c=n(30),d=r(c),p=o["default"].createClass({displayName:"FriendlyError",mixins:[d["default"]],propTypes:{error:o["default"].PropTypes.string.isRequired},render:function(){return o["default"].createElement("span",null,this.props.error)}}),f=o["default"].createClass({displayName:"ToolError",mixins:[d["default"]],propTypes:{error:o["default"].PropTypes.string.isRequired},render:function(){return o["default"].createElement("div",null,"Oops! The test returned an error. Maybe you have a syntax error, or a typo.",o["default"].createElement(s["default"],{ref:"showTrace",expandText:"See full error.",closeText:"Hide error."},o["default"].createElement("span",{style:{fontStyle:"italic"}},this.props.error)))}});t["default"]=o["default"].createClass({displayName:"component_error_display",mixins:[d["default"]],propTypes:{visible:o["default"].PropTypes.bool.isRequired,timestamp:o["default"].PropTypes.number,friendly:o["default"].PropTypes.string,tool:o["default"].PropTypes.string},getInitialState:function(){return{visible:!1,timestamp:(new Date).valueOf()}},close:function(){this.setState({visible:!1})},componentWillReceiveProps:function(e){e.timestamp>this.state.timestamp&&this.setState({visible:e.visible,timestamp:e.timestamp})},renderError:function(e,t){var n="friendly"===t?o["default"].createElement(p,{error:e}):o["default"].createElement(f,{error:e});return o["default"].createElement("div",{className:"fcn-component__error fcn-component__"+t+"-error"},o["default"].createElement("div",{className:"fcn-component__error__message"},n),o["default"].createElement("span",{className:"fcn-icon fcn-icon-close fcn-component__error-display__close",onClick:this.close}))},render:function(){var e=u["default"]({"fcn-component__error-display":!0,"fcn-component__error-display--hidden":!this.state.visible}),t=null;return this.props.tool?t=this.renderError(this.props.tool,"tool"):this.props.friendly&&(t=this.renderError(this.props.friendly,"friendly")),o["default"].createElement("div",{className:e},t)}}),e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0;var i=n(541),o=r(i),a=n(540),s=r(a),l=n(3),u=r(l),c=n(548),d=r(c),p=n(1),f=r(p),h=n(15),m=r(h),g=s["default"].secureSandboxIndex();t["default"]=f["default"].createClass({displayName:"iframe_preview",getInitialState:function(){return{}},componentDidMount:function(){this.state.container=m["default"].findDOMNode(this),this._loadFiles(this.props.presenter.files),$(window).on("resize",u["default"].debounce(this._handleResize,100))},componentWillUnmount:function(){$(window).off("resize")},componentWillReceiveProps:function(e){this._shouldLoadFiles(e)&&this._loadFiles(e.presenter.files)},_loadFiles:function(e){var t=this,n=void 0,r=new RegExp(".*.html$");if(e)for(var i=0;i<e.length;i++)e[i].filename.match(r)&&(n=e[i]);n?o["default"]({files:e,extScripts:["//ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js",CCDATA.assets_compiled?"/assets/jquery.expect.js":"/assets/vendor/jquery.expect.js"]},function(e){t._loadHTML(e)}):console.warn("Preview: Can't render files; no HTML file found.")},_loadHTML:function(e){var t=this;this._withStuffContext(function(n){n.once("size",function(e){t._unscale(),t._scale(e.width)}),n.load(e,function(){t._handleResize()})})},_handleResize:function(){this._withStuffContext(function(e){e.evaljs("window.broadcastSize();"),e.iframe.setAttribute("width","100%"),e.iframe.setAttribute("height","100%")})},runLegacySCT:function(e,t){var n=this;this._withStuffContext(function(){this.evaljs("window.__runner.testWeb("+JSON.stringify(e)+","+JSON.stringify(n.props.presenter.files)+")",function(e,r){e?t(n.props.presenter.files,!1,e.message):"string"==typeof r?t(n.props.presenter.files,!1,r):t(n.props.presenter.files,!0,"")}.bind(this))})},_unscale:function(){$(".iframe-preview").find("iframe").css({"-moz-transform":"none","-webkit-transform":"none",transform:"none",width:"",height:""})},_scale:function(e){e&&(this.state.contentWidth=e);var t=$(".iframe-preview").find("iframe"),n=t.width(),r=n/this.state.contentWidth;r=Math.min(1,r),this.state.factor=r;var i={"-moz-transform":"scale("+r+")","-webkit-transform":"scale("+r+")",transform:"scale("+r+")","-moz-transform-origin":"top left","-webkit-transform-origin":"top left","transform-origin":"top left",width:1/r*100+"%",height:1/r*100+"%"};t.css(i)},_withStuffContext:function(e){return void 0===this.state.context?d["default"](g,this.state.container,function(t){this.state.context=t,e.call(this,t)}.bind(this)):e.call(this,this.state.context),this},_shouldLoadFiles:function(e){var t=this.props.presenter.files,n=e.presenter.files;return JSON.stringify(t)!=JSON.stringify(n)},render:function(){return f["default"].createElement("div",{className:"iframe-preview"},f["default"].createElement("div",{className:"cc-preview__overlay"},f["default"].createElement("div",{className:"widget-spinner widget-spinner--small widget-spinner--blue"}),f["default"].createElement("div",{className:"cc-preview__controls"},f["default"].createElement("a",{className:"js-preview-minimize cc-preview__control cc-preview__control--minimize"}))),f["default"].createElement("div",{className:"cc-preview__stuff no-fadein"}))}}),e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e){for(var t=new f({slug:e.Files[0].Name,root:{files:[],directories:[]}}),n=[e];n.length>0;){var r=n.shift();if(r.Files)for(var i=r.Files,o=Array.isArray(i),a=0,i=o?i:i[Symbol.iterator]();;){var s;if(o){if(a>=i.length)break;s=i[a++]}else{if(a=i.next(),a.done)break;s=a.value}var l=s;l.IsDir?(t.createDirectory(l.Path),n.push(l)):t.updateFile(new c["default"]({path:l.Path,name:l.Name,content:""}))}}return t}function a(e){void 0!==e.FileName&&(e.fileName=e.FileName),void 0!==e.Content&&(e.content=e.Content);var t=e.fileName.split("/").slice(-1)[0],n=e.fileName;return/(jpe?g|png|gif)$/.test(e.fileName)?new c["default"]({path:n,name:t,encodedContent:e.content}):new c["default"]({path:n,name:t,content:e.content})}function s(e){return{fileName:e.path,content:e.content,isDir:!1}}function l(e){return{fileName:e.path,content:"",isDir:!0}}t.__esModule=!0,t.GodexFileTreeToWorkspace=o,t.GodexFileToWorkspaceFile=a,t.WorkspaceFileToGodexFile=s,t.WorkspaceDirectoryToGodexDirectory=l;var u=n(359),c=r(u),d=n(358),p=r(d),f=function(){function e(t){i(this,e),this._workspace=t,this.slug=t.slug,this.root=t.root,this._index={},this.root=this._indexDirectory(this.root,[])}return e.prototype.getFile=function(e){var t=this._index[e];return void 0===t?void 0:t.clone()},e.prototype.getFiles=function(e){var t=this;return e.map(function(e){return t.getFile(e)})},e.prototype.getDirectory=function(e){return this._index[e].clone()},e.prototype.get=function(e){return this._index[e].clone()},e.prototype.exists=function(e){return void 0!==this._index[e]},e.prototype.getDirectories=function(e){var t=this;return e.map(function(e){return t.getDirectory(e)})},e.prototype.createDirectory=function(e){for(var t=[],n=e.split("/"),r=Array.isArray(n),i=0,n=r?n:n[Symbol.iterator]();;){var o;if(r){if(i>=n.length)break;o=n[i++]}else{if(i=n.next(),i.done)break;o=i.value}var a=o;t.push(a);var s=t.join("/");if(void 0===this._index[s]){var l=new p["default"]({name:a,path:s,files:[],directories:[]});this._getParentOf(l.path).directories.push(l),this._index[s]=l}}},e.prototype.createDirectories=function(e){for(var t=e,n=Array.isArray(t),r=0,t=n?t:t[Symbol.iterator]();;){var i;if(n){if(r>=t.length)break;i=t[r++]}else{if(r=t.next(),r.done)break;i=r.value}var o=i;this.createDirectory(o)}},e.prototype.updateFile=function(e){if(!e instanceof c["default"])throw new Error("Expecting file to be instance of File class");var t=this._index[e.path];this._getParentOf(e.path);if(t)t.content=e.content;else{var n=this._getParentOf(e.path);n.files.push(e),this._index[e.path]=e}},e.prototype.updateFiles=function(e){for(var t=e,n=Array.isArray(t),r=0,t=n?t:t[Symbol.iterator]();;){var i;if(n){if(r>=t.length)break;i=t[r++]}else{if(r=t.next(),r.done)break;i=r.value}var o=i;this.updateFile(o)}},e.prototype.deleteFile=function(e){var t=this._getParentOf(e),n=e.split("/").slice(-1)[0];t.files=t.files.filter(function(e){return e.name!==n}),t.directories=t.directories.filter(function(e){return e.name!==n}),delete this._index[e]},e.prototype.rename=function(e,t){var n=this.get(e);n.path=t,n.name=t.split("/").slice(-1)[0],delete this._index[e],this._index[t]=n},e.prototype.getFileTree=function(){return this._workspace.root},e.prototype.asJSON=function(){return{slug:this.slug,root:this.root.asJSON()}},e.prototype._getParentOf=function(e){var t=e.split("/").slice(0,-1).join("/"),n=this._index[t];return n?n:(this.createDirectory(t),n=this._index[t])},e.prototype._indexDirectory=function(e,t){e=new p["default"](e),e.files=e.files.map(function(e){return new c["default"](e)});for(var n=e.files,r=Array.isArray(n),i=0,n=r?n:n[Symbol.iterator]();;){var o;if(r){if(i>=n.length)break;o=n[i++]}else{if(i=n.next(),i.done)break;o=i.value}var a=o,s=""+t.slice(0).concat([a.name]).join("/");this._index[s]=a}for(var l=0;l<e.directories.length;l++){var u=e.directories[l],s=t.slice(0).concat([u.name]);e.directories[l]=this._indexDirectory(u,s)}return this._index[""+t.join("/")]=e,e},e}();t["default"]=f},function(e,t){"use strict";t.__esModule=!0,t["default"]={getInitialState:function(){return{__listenerAdded:!1}},listenForLinkClicks:function(e){var t=this;!this.state.__listenerAdded&&$(e).length>0&&($(e).click(function(e){""===e.target.target&&(e.preventDefault(),t.props.broadcast("navigateToURL",e.target.href))}),this.state.__listenerAdded=!0,this.setState({__listenerAdded:!0}))}},e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0;var i=n(5),o=r(i),a=n(27),s=r(a),l=n(101),u=r(l),c=n(213),d=r(c),p=n(906),f=(r(p),n(3)),h=r(f);t["default"]=o["default"].createStore({init:function(){this.files=[],this.active=null,this.pendingFiles=[],this.listenTo(s["default"].deleteFile,this.closeFileByName),this.listenTo(u["default"].openFile,this.openFile),this.listenTo(u["default"].updateCurrentFile,this.updateCurrentFile),this.listenTo(u["default"].closeFile,this.closeFile),this.listenTo(u["default"].setCurrentOpenFile,this.setActive),this.listenTo(u["default"].saveFiles,this.saveFiles),this.listenTo(u["default"].reloadFile,this.reloadFile),this.listenTo(d["default"],this.setCurrentFiles)},openFile:function(e){this.isOpen(e.name)?this.active=h["default"].pluck(this.files,"name").indexOf(e.name):this.active=this.files.push(e)-1,this._trigger()},closeFile:function(e){this.files.splice(e,1),this.active>=e&&(this.active=Math.max(this.active-1,0)),this._trigger()},closeFileByName:function(e,t){if(this.isOpen(t)){var n=h["default"].pluck(this.files,"fileName").indexOf(t),r=this.active==n;this.closeFile(n,r)}},setCurrentFiles:function(e){this.files=e,this.active=0,this._trigger()},setActive:function(e){this.active=e,this._trigger()},isOpen:function(e){return this.files.some(function(t){return t.name==e})},updateCurrentFile:function(e){this.files[this.active].content=e,this._trigger()},reloadFile:function(e,t){s["default"].getFile(e,t).then(this.updateFile.bind(this,e))},updateFile:function(e,t){if(e===t.name){var n=this.files.findIndex(function(t){return t.name===e});n>-1&&(this.files[n].content=t.content,this._trigger())}},saveFiles:function(){s["default"].updateFiles(this.files).then(u["default"].saveFiles.completed)["catch"](u["default"].saveFiles.failed)},_trigger:function(){this.trigger({files:this.files,active:this.active})}}),e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0;var i=n(5),o=r(i),a=n(27),s=r(a),l=n(103),u=(r(l),n(167)),c=r(u),d=n(200),p=r(d),f=n(169),h=r(f),m=n(3),g=r(m);t["default"]=o["default"].createStore({init:function(){this.files=[],this.pendingFiles=[],this.joinTrailing(p["default"].ready,c["default"].publishFilenames,this.setDefaultFiles),this.listenTo(c["default"].loadFiles,this.getDefaultFiles)},setDefaultFiles:function(e,t){this.files=g["default"].pluck(t[0],"name"),h["default"].ready&&this.getDefaultFiles()},getDefaultFiles:function(){var e=this;this.pendingFiles=this.files.slice(0),s["default"].getFiles(this.pendingFiles).then(function(t){e.trigger(t)})}}),e.exports=t["default"]},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){var r;r=function(e,t,r){"use strict";function i(){this.initialize.apply(this,arguments)}var o=n(374),a=n(3);i.extend=o.View.extend,i.prototype={},a.extend(i.prototype,o.Events),r.exports=i}.call(t,n,t,e),!(void 0!==r&&(e.exports=r))},,,,function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0;
var i=n(5),o=r(i);t["default"]=o["default"].createActions(["setGodexClient"]),e.exports=t["default"]},,,,,,function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0;var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=n(1),a=r(o),s=n(322),l=r(s),u=n(197),c=r(u),d=n(341),p=r(d),f=n(2),h=r(f),m=n(880),g=r(m),v=a["default"].createClass({displayName:"Footer",propTypes:{disabled:a["default"].PropTypes.bool,course:a["default"].PropTypes.object.isRequired,initialUnit:a["default"].PropTypes.string,initialLesson:a["default"].PropTypes.string,initialExercise:a["default"].PropTypes.string,progress:a["default"].PropTypes.object,className:a["default"].PropTypes.string,children:a["default"].PropTypes.node,unlockAll:a["default"].PropTypes.bool},getDefaultProps:function(){return{disabled:!1}},getInitialState:function(){return{showNavigation:!1}},getCourseNavigator:function(){return a["default"].createElement(l["default"],{isOpen:this.state.showNavigation,course:this.props.course,titleRoute:this.props.titleRoute,initialUnit:this.props.initialUnit,initialLesson:this.props.initialLesson,initialExercise:this.props.initialExercise,progress:this.props.progress,onOutsideClick:this.toggleCourseNavigator,onCloseClick:this.toggleCourseNavigator,unlockAll:this.props.unlockAll})},toggleCourseNavigator:function(){this.setState({showNavigation:!this.state.showNavigation})},render:function(){var e,t=h["default"]((e={},e[g["default"].disabled]=this.props.disabled,e[this.props.className]=!!this.props.className,e));return a["default"].createElement(c["default"],i({},this.props,{className:t}),a["default"].createElement(u.FooterSection,{position:"left"},a["default"].createElement(u.FooterTab,null,a["default"].createElement(p["default"],{title:this.props.title,onClick:this.toggleCourseNavigator,active:this.state.showNavigation}))),this.props.children,this.getCourseNavigator())}});t.Footer=v,t.FooterTab=u.FooterTab,t.FooterSection=u.FooterSection,t["default"]=v},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0;var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=n(3),a=r(o),s=n(1),l=r(s),u=n(17),c=r(u),d=n(328),p=n(632),f=r(p),h=n(656),m=r(h),g=l["default"].createClass({displayName:"PlatformHeader",propTypes:{title:l["default"].PropTypes.string.isRequired,exitPaths:l["default"].PropTypes.object.isRequired,logoRoute:l["default"].PropTypes.string.isRequired,"private":l["default"].PropTypes.bool.isRequired,profileImage:l["default"].PropTypes.string.isRequired,godexStatus:l["default"].PropTypes.object.isRequired,onAdminChange:l["default"].PropTypes.func.isRequired,uploadInitialSavepoint:l["default"].PropTypes.func.isRequired,setProgressToCurrentExercise:l["default"].PropTypes.func,currentExercise:l["default"].PropTypes.object.isRequired,prerender:l["default"].PropTypes.object,serverUrl:l["default"].PropTypes.string,contentStudioURL:l["default"].PropTypes.string},getDefaultProps:function(){return{logoRoute:"/"}},render:function(){var e=[];c["default"].hasGodMode()&&e.push(l["default"].createElement(d.HeaderTab,{button:!0},l["default"].createElement(f["default"],{onAdminChange:this.props.onAdminChange,setProgressToCurrentExercise:this.props.setProgressToCurrentExercise,uploadInitialSavepoint:this.props.uploadInitialSavepoint,prerender:this.props.prerender,currentWorkspace:this.props.currentExercise.workspace,serverUrl:this.props.serverUrl,contentStudioURL:this.props.contentStudioURL,isAdmin:c["default"].isAdmin()})));var t=l["default"].createElement(m["default"],{status:this.props.godexStatus});return l["default"].createElement(d.Header,i({},this.props,{titleRoute:a["default"].get(this.props,"exitPaths.back"),tabs:e,statusDisplay:t}))}});t["default"]=g,e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0;var i=n(3),o=r(i),a=n(1),s=r(a),l=n(330),u=n(361),c=r(u),d=n(65),p=r(d),f=n(161),h=n(799),m=r(h),g=n(883),v=r(g),y=m["default"].bind(v["default"]),_={CLICKABLE:0,SUBMITTABLE:1,SUBMITTING:2,THANKING:3},b={enter:{animation:{opacity:[1,0],translateY:[0,"-10px"]},easing:"easeInOutQuad",duration:250},leave:{animation:{opacity:[0,1],translateY:["-10px",0]},easing:"easeInOutQuad",duration:250}},x={OPTIONS:"Required: Please select one of the options above",DESCRIPTION:"Required: Please provide a description of the issue"},w=s["default"].createClass({displayName:"ReportBug",getInitialState:function(){return{type:null,value:"",errors:{options:null,description:null},reportingState:_.CLICKABLE}},_showConfirmation:function(){var e=this;this.setState({reportingState:_.THANKING}),window.setTimeout(function(){e.setState(e.getInitialState())},3e3)},_handleTextChange:function(e){var t=o["default"].clone(this.state.errors);e.target.value&&(t.description=null),this.setState({value:e.target.value,errors:t})},validate:function(){var e={};return this.canSubmit()||(this.state.type||(e.options=x.OPTIONS),this.state.value.length||(e.description=x.DESCRIPTION),this.setState({errors:e})),o["default"].isEmpty(e)},_submit:function(){var e=this;this.validate()&&(this.setState({reportingState:_.SUBMITTING}),c["default"].report({preface:this.state.value,error:{message:""},type:this.state.type}).success(function(){e._showConfirmation()}).error(function(){console.warn("Failed to report problem to bug tracker."),e._showConfirmation()}))},_cancel:function(){this.setState({reportingState:_.CLICKABLE})},_selectType:function(e){var t=o["default"].clone(this.state.errors);t.options=null,this.setState({type:e,errors:t})},canSubmit:function(){return null===this.state.type||0===this.state.value.length||this.state.reportingState!==_.SUBMITTABLE?!1:!0},showForm:function(e){e.preventDefault(),this.setState({reportingState:_.SUBMITTABLE})},render:function(){var e=y({"accordion-section-body__no-bg":!0,"accordion-section-body__padded":!0,reportForm:!0}),t=y({reportFormText:!0}),n=y({formButton:!0,reportFormButton:!0,reportFormDisabled:!this.canSubmit()}),r=null;switch(this.state.reportingState){case _.SUBMITTABLE:r=s["default"].createElement("div",{key:"report",className:y("formInputs")},s["default"].createElement("span",{className:y("optionsTitle")},"Please select one:"),s["default"].createElement(l.RadioGroup,{name:"bugtype",handleChange:this._selectType,selected:this.state.type},s["default"].createElement(l.RadioOption,{id:"errormsg",className:y("radioOption")},"I don't understand this error message"),s["default"].createElement(l.RadioOption,{id:"interface",className:y("radioOption")},"There's a problem with the interface"),s["default"].createElement(l.RadioOption,{id:"instructions",className:y("radioOption")},"There's something wrong with the instructions"),s["default"].createElement(l.RadioOption,{id:"other",className:y("radioOption")},"Other")),s["default"].createElement("span",{className:y("errorMessage")},this.state.errors.options),s["default"].createElement("textarea",{value:this.state.value,className:t,placeholder:"Please describe the issue",onChange:this._handleTextChange}),s["default"].createElement("span",{className:y("errorMessage")},this.state.errors.description),s["default"].createElement("p",{className:y("helpText")},"Please be as descriptive as possible. The more detail you provide the better we can solve the issue."),s["default"].createElement("div",{className:y("formButtonWrapper")},s["default"].createElement(p["default"],{className:y("formButton"),onClick:this._cancel},"Cancel"),s["default"].createElement(p["default"],{className:n,type:"index",onClick:this._submit},"Submit Bug Report")));break;case _.CLICKABLE:r=s["default"].createElement("div",{className:y("reportFormIntroText")},"If you see a bug or any other issue with this page, please report it ",s["default"].createElement("a",{className:y("reportFormIntroLink"),href:"#",onClick:this.showForm},"here"),".");break;case _.THANKING:r=s["default"].createElement("div",{className:y("reportFormIntroText")},"Thank you for letting us know! We will review your report soon.");break;default:r=null}return s["default"].createElement("div",{className:e},s["default"].createElement(f.VelocityTransitionGroup,b,r))}});t["default"]=w,e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0;var i=n(1),o=r(i);t["default"]=o["default"].createClass({displayName:"container",render:function(){return o["default"].createElement("div",{className:"fcn-tabs"},this.props.children)}}),e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0;var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=n(3),a=r(o),s=n(1),l=r(s),u=n(2),c=r(u),d=l["default"].createClass({displayName:"Tab",propTypes:{tabId:l["default"].PropTypes.oneOfType([l["default"].PropTypes.string,l["default"].PropTypes.number]),size:l["default"].PropTypes.number,title:l["default"].PropTypes.string,clickHandler:l["default"].PropTypes.func.isRequired,closeHandler:l["default"].PropTypes.func,canClose:l["default"].PropTypes.bool,isActive:l["default"].PropTypes.bool,isDisabled:l["default"].PropTypes.bool,overflow:l["default"].PropTypes.bool,align:l["default"].PropTypes.string},getDefaultProps:function(){return{isActive:!1,overflow:!0}},getInitialState:function(){return{canClose:this.props.canClose||!1}},onClick:function(e){this.props.clickHandler(this.props.tabId,e)},onClose:function(e){e.stopPropagation(),this.props.isDisabled||this.props.closeHandler(this.props.tabId,e)},render:function(){var e=a["default"].omit(this.props,"title"),t={maxWidth:"200px"};this.props.size&&(t.width=this.props.size+"%");var n={"fcn-tabs__tab":!0,"fcn-tabs__tab--can-close":this.state.canClose,"fcn-tabs__tab--align-right":"right"===this.props.align,"fcn-tabs__tab--align-left":"left"===this.props.align,"fcn-button":!0,"fcn-button--tab":!0,"fcn-button--tab--active":this.props.isActive,"fcn-button--tab--inactive":!this.props.isActive,"fcn-button--tab--disabled":this.props.isDisabled},r="fcn-control fcn-icon fcn-icon-close "+n,o=this.state.canClose?l["default"].createElement("span",{className:r,onClick:this.onClose,ref:"closeButton"}):!1;this.props.className&&(n[this.props.className]=!0),n=c["default"](n);var s=this.props.overflow?l["default"].createElement("span",{className:"fcn-tab__gradient"}):!1;return l["default"].createElement("span",i({},e,{className:n,onClick:this.onClick,style:t}),this.props.children,o,this.props.title,s)}});t["default"]=d,e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0;var i=n(9),o=r(i),a=n(3),s=r(a),l=n(1),u=r(l),c=n(15),d=r(c),p=n(2),f=r(p);t["default"]=u["default"].createClass({displayName:"accordion",propTypes:{content:u["default"].PropTypes.array.isRequired},getInitialState:function(){var e=[!0,!0,!0];return{topStickies:e,bottomStickies:e}},componentDidMount:function(){s["default"].defer(function(){this.checkOffsets(),this.hideOrShowStickies()}.bind(this)),o["default"](window).on("resize",function(e){this.checkOffsets()}.bind(this))},componentDidUpdate:function(e){this.props.content!=e.content&&this.checkOffsets()},checkOffsets:function(){if(this.refs.accordionScroller){var e=[],t=[],n=d["default"].findDOMNode(this.refs.accordionScroller).offsetHeight,r=[!0,!0,!0],i=0,o=39;this.props.content.forEach(function(e,t){var n=d["default"].findDOMNode(this.refs["accordionSection"+t]).offsetHeight;i+=n}.bind(this)),this.props.content.forEach(function(i,a){var s=d["default"].findDOMNode(this.refs["accordionSection"+a]).offsetTop-o*a;e.push(s),t.push(e[a]-(n-120)),e[a]>n&&(r[a]=!1)}.bind(this));var a=this.props.content.length-1,s=d["default"].findDOMNode(this.refs["accordionSection"+a]).offsetHeight;n>s&&(i+=n-s-a*o),d["default"].findDOMNode(this.refs.accordionContent).style.height=i+"px",this.setState({thresholdsTop:e,thresholdsBottom:t,bottomStickies:r}),this.hideOrShowStickies()}},hideOrShowStickies:function(){var e=d["default"].findDOMNode(this.refs.accordionScroller).scrollTop,t=this.state.thresholdsBottom,n=this.state.thresholdsTop,r=[!0,!0,!0],i=[!0,!0,!0];o["default"].each(i,function(n,r){void 0!=t&&e<t[n]&&(i[n]=!1)}.bind(this)),i[0]=!0,o["default"].each(r,function(t){void 0!=n&&e>n[t]&&(r[t]=!1)}),this.setState({topStickies:r,bottomStickies:i})},handleScroll:function(e){s["default"].defer(function(){this.hideOrShowStickies()}.bind(this))},openSection:function(e){for(var t=0;t<this.props.content.length;t++){var n=this.props.content[t].key;if(n===e&&this.refs["accordionSection"+t]){this.handleClick(t);break}}},handleClick:function(e){var t=d["default"].findDOMNode(this.refs.accordionScroller);t.style.overflow="auto",o["default"](t).animate({scrollTop:this.state.thresholdsTop[e]+3},300),this.hideOrShowStickies()},render:function(){var e=[],t=[],n=[];return this.props.content.forEach(function(r,i){var o=f["default"]({"accordion-section-heading":!0,invisible:this.state.topStickies[i]}),a=f["default"]({"accordion-section-heading":!0,invisible:!this.state.topStickies[i]}),s=f["default"]({"accordion-section-heading":!0,invisible:this.state.bottomStickies[i]}),l=u["default"].createElement("div",{className:o,onClick:this.handleClick.bind(null,i)},r.heading),c=u["default"].createElement("div",{className:s,onClick:this.handleClick.bind(null,i)},r.heading);t.push(l),n.push(c);var d=u["default"].createElement("div",{className:"accordion-section",ref:"accordionSection"+i,key:"accordion"+i},u["default"].createElement("div",{onClick:this.handleClick.bind(null,i),className:a},r.heading),u["default"].createElement("div",{className:"accordion-section-body"},r.content));e.push(d)}.bind(this)),u["default"].createElement("div",null,u["default"].createElement("div",{className:"accordion-container",ref:"accordionScroller",onScroll:this.handleScroll,onWheel:this.handleScroll},u["default"].createElement("div",{className:"accordion",ref:"accordionContent"},e)),u["default"].createElement("div",{className:"sticky-bottom"},n),u["default"].createElement("div",{className:"sticky-top"},t))}}),e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0;var i=n(664),o=r(i),a=n(732),s=r(a),l=n(722),u=r(l),c=n(9),d=r(c),p=n(655),f=r(p),h=n(647),m=r(h),g=n(360),v=n(711),y=r(v),b=n(1),x=r(b),w=n(15),k=r(w),C=n(2),M=r(C),T=n(717),S=r(T),E=n(713),D=r(E),L={Terminal:"terminal",OutputTerminal:"terminal",PersistentCodeEditor:"editor",NonPersistentCodeEditor:"editor",Image:"image",Narrative:"learn",WebBrowser:"browser"};t["default"]=x["default"].createClass({displayName:"component_grid",mixins:[s["default"],u["default"]],getInitialState:function(){var e={collapsedColumnKeys:[],fullscreenSlot:void 0,oneIsCollapsed:!1,config:new y["default"],cursor:"auto",grid:new g.Grid(3,2),collapsedSlots:[],slotArrangements:{}},t=this.props.components;for(var n in t){var r=e.config.arrangementAmong(t[n],t);e.grid.registerSlot(r.slots)}return void 0!==this.props.gridSetup&&this.props.gridSetup(e.grid),e},componentDidMount:function(){var e=this;this.state.grid.registerDOMNode(k["default"].findDOMNode(this)),D["default"]("toggleGridWireframe",function(){e.setState({showDebugWireframe:!e.state.showDebugWireframe})})},componentWillUpdate:function(e,t){t.grid&&(t.fullscreenSlot=t.grid.fullscreenSlot())},componentDidUpdate:function(){this.state.resizing&&this.props.adapter.trigger("interface:resized"),this.state.resizing=!1},buildComponents:function(){var e=[],t=this.props.components;for(var n in t){var r=m["default"][t[n]._schema],i=this.state.config.arrangementAmong(t[n],t),a=this.props.helpers.componentShouldBeDisabled(n);this.state.slotArrangements[n]=i.slots;var s=x["default"].createElement(f["default"],{toggleFullscreen:this.toggleFullscreenSlot.bind(this,i.slots),isFullscreen:!!this.state.fullscreenSlot}),l={readonly:this.props.modifiers.readonly,disabled:a,fullscreen:i.slots===this.state.fullscreenSlot,oneIsCollapsed:this.state.oneIsCollapsed,fileNavReady:this.props.modifiers.fileNavReady,isProject:this.props.modifiers.isProject,dragging:this.state.dragging,assessments:this.props.modifiers.assessments},u={fullscreenButton:s,hasCheckpoints:void 0!==this.props.adapter.checkpoints&&this.props.adapter.checkpoints.length>0};d["default"].extend(u,this.props.presenter),this.props.presenter.errors&&this.props.presenter.errors.component!==n&&(u.errors={visible:!1}),u=d["default"].extend({},t[n],u);var c={arrangement:i,wall:this.props.presenter.wall,geometry:this.state.grid.slots[i.slots]},p={toggleFullscreen:this.toggleFullscreenSlot.bind(this,i.slots)},h={constructor:r,presenter:u,name:n,icon:L[n]};e.push(x["default"].createElement(o["default"],{locations:i.slots,component:h,slot:c,modifiers:l,helpers:p,adapter:this.props.adapter,user:this.props.user,expandSlot:this.expandSlot,fullscreenSlot:this.fullscreenSlot,key:"slot:"+n}))}return e},expandSlot:function(e){this.state.grid.expandSlot(e),this.setState({grid:this.state.grid,resizing:!0})},expandSlotByName:function(e){var t=this.state.slotArrangements[e];if(!t)throw new Error("No arrangement for "+e);this.state.grid.expandSlot(t),this.setState({grid:this.state.grid,resizing:!0})},toggleFullscreenSlot:function(e){this.state.grid.toggleFullscreenSlot(e),this.setState({grid:this.state.grid,resizing:!0})},handleMouseMove:function(e,t){if(this.state.dragging){if(e.preventDefault(),this.props.adapter.trigger("interface:resizing"),t){var n=void 0;switch(this.state.focusedGutter.edge){case"right":var r=this.state.grid.DOMNodeRect().left+this.state.grid.percentageToPx("x",this.state.focusedGutter.slot.right());n=e.pagePosn.x-r,this.state.focusedGutter.slot.push("right",this.state.grid.pxToPercentage("x",n)),this.setState({grid:this.state.grid});break;case"bottom":var i=this.state.grid.DOMNodeRect().top+this.state.grid.percentageToPx("y",this.state.focusedGutter.slot.bottom());n=e.pagePosn.y-i,this.state.focusedGutter.slot.push("bottom",this.state.grid.pxToPercentage("y",n)),this.setState({grid:this.state.grid})}}}else{var o=this.state.grid.gutterUnderPosn(e.pagePosn),a=void 0;a=void 0!==o?{right:"ew-resize",bottom:"ns-resize"}[o.edge]:"auto",S["default"].save(),(this.state.focusedGutter!==o||this.state.cursor!==a)&&this.setState({focusedGutter:o,cursor:a})}},handleMouseDown:function(e){this.state.focusedGutter&&this.setState({dragging:!0})},handleMouseUp:function(e,t){this.state.dragging&&(this.state.grid.snapSlots(this.state.focusedGutter.slot.origin()),e.stopPropagation(),e.preventDefault(),_.defer(S["default"].restore)),this.setState({grid:this.state.grid,dragging:!1,resizing:this.state.dragging})},render:function(){var e=M["default"]({"fcn-grid":!0,"fcn-grid--dragging":!!this.state.dragging}),t={cursor:this.state.cursor};return window.grid=this,x["default"].createElement("div",{className:e,onMouseMove:this.onMouseMove,onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp,style:t},this.buildComponents(),this.props.presenter.wall,this.renderDebugLayer())}}),e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0;var i=n(5),o=(r(i),n(39)),a=r(o),s=n(731),l=r(s),u=n(71),c=r(u),d=n(26),p=(r(d),n(111)),f=(r(p),n(1)),h=r(f),m=n(2),g=(r(m),n(351)),v=r(g),y=n(654),_=r(y);t["default"]=h["default"].createClass({displayName:"GlobalModal",mixins:[a["default"],l["default"]],propTypes:{broadcast:h["default"].PropTypes.func.isRequired,environment:h["default"].PropTypes.string.isRequired},getInitialState:function(){return{open:!1,secondaryModal:void 0,secondaryModalContent:void 0,confirmationCB:void 0}},setCurrentFiles:function(e){this.setState({currentFiles:e.files})},onEscapeKey:function(e){this.setState({open:!1}),this.state.secondaryModalContent&&this.cancelAndCloseSecondaryModal()},toggleModal:function(e){var t=!this.state.open;this.setState({open:t,modal:e}),this.state.secondaryModalContent&&this.cancelAndCloseSecondaryModal()},openSecondaryModal:function(e){this.setState({secondaryModalContent:e,open:!0})},closeAddFileTool:function(){this.state.open&&this.refs.fileTool.toggleAddFileState()},confirmAndCloseSecondaryModal:function(){this.state.confirmationCB(),this.setState({secondaryModalContent:void 0})},cancelAndCloseSecondaryModal:function(){this.setState({secondaryModalContent:void 0}),this.refs.fileTool?this.refs.fileTool.setIsDeleting(!1):this.setState({open:!1})},render:function(){return h["default"].createElement(c["default"],{isOpen:this.state.open,onOutsideClick:this.toggleModal,overlayType:"screen",cover:!0},h["default"].createElement("div",{className:"global-modal"},h["default"].createElement(v["default"],{ref:"fileTool",useViewer:"true",broadcast:this.props.broadcast,toggle:this.toggleModal,addFileTool:this.state.addFileToolOpen,environment:this.props.environment,autoAdd:!1})),this.state.secondaryModalContent?h["default"].createElement(_["default"],{confirmAndClose:this.confirmAndCloseSecondaryModal,cancelAndClose:this.cancelAndCloseSecondaryModal,secondaryModalContent:this.state.secondaryModalContent}):null)}}),e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0;var i=n(1),o=r(i),a=n(30),s=r(a);t["default"]=o["default"].createClass({displayName:"DefaultDialogButtons",propTypes:{cancelAndClose:o["default"].PropTypes.func.isRequired,confirmAndClose:o["default"].PropTypes.func.isRequired},mixins:[s["default"]],render:function(){return o["default"].createElement("div",null,o["default"].createElement("div",{className:"fcn-button fcn-button--blast",onClick:this.props.cancelAndClose},"Cancel"),o["default"].createElement("div",{className:"fcn-button fcn-button--neutral",onClick:this.props.confirmAndClose},"Confirm"))}}),e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0;var i=n(649),o=r(i),a=n(652),s=r(a),l=n(39),u=(r(l),n(111)),c=(r(u),n(1)),d=r(c),p=n(2),f=r(p),h=n(362),m=r(h),g=n(653),v=r(g),y=n(356),_=n(17),b=r(_),x=n(359),w=r(x),k=n(358),C=r(k),M=n(212),T=(r(M),n(101)),S=r(T),E=n(27),D=r(E),L=n(103),P=r(L);t["default"]=d["default"].createClass({displayName:"FileTool",mixins:[m["default"]],propTypes:{broadcast:d["default"].PropTypes.func.isRequired,autoAdd:d["default"].PropTypes.bool.isRequired,tree:d["default"].PropTypes.object,environment:d["default"].PropTypes.string.isRequired,useClickOutside:d["default"].PropTypes.bool},getInitialState:function(){return{openFile:void 0,loading:!1,error:void 0,currentItemPath:"",currentSavePath:void 0,newDirectory:!1,isAddingFiles:!1,isDeletingFiles:!1,openPaths:new Set([])}},componentDidMount:function(){var e=this;this.props.useClickOutside&&(this.props.autoAdd?this.listenForOutsideClick(".file-tool",function(){e.props.toggle()}):this.listenForOutsideClick(".global-modal__container",function(){e.props.toggle()}))},onEscapeKey:function(){this.setState({open:!1}),this.stopListeningForOutsideClicks()},_setCurrentItem:function(e,t){t?this.setState({currentSavePath:e}):this.setState({currentSavePath:void 0}),this.setState({currentItemPath:e})},_addOrRemoveOpenPath:function(e){var t=this.state.openPaths;t.has(e)?t["delete"](e):t.add(e),this.setState({openPaths:t})},_forceAddOpenPath:function(e){var t=this.state.openPaths;t.has(e)||(t.add(e),this.setState({openPaths:this.state.openPaths}))},_clearMediaViewer:function(){this.setState({openFile:void 0,currentSavePath:void 0})},setIsDeleting:function(e){this.setState({isDeletingFiles:e})},toggleAddFileState:function(){this.setState({isAddingFiles:!this.state.isAddingFiles}),this.refs.newFileTool.toggleAddFileTool()},updateTree:function(){this.props.broadcast("getFileTree")},_createNewFile:function(e,t){this.setState({isAddingFiles:!0});var n=this.state.currentSavePath?this.state.currentSavePath+"/"+e:e;if(t){var r=new C["default"]({name:e,path:n,files:[],directories:[]});D["default"].createDirectories([r])}else{var i=new w["default"]({name:e,path:n,content:""});D["default"].updateFiles([i]),D["default"].getFile(e),S["default"].openFile(i)}this._setCurrentItem(e,t),this.state.currentSavePath&&this._forceAddOpenPath(this.state.currentSavePath)},_setError:function(e){this.setState({error:e})},_clearError:function(){this.setState({error:void 0})},render:function(){var e=f["default"]({"file-tool":!0,"file-tool--auto-add":this.props.autoAdd,"file-tool--is-adding":this.state.isAddingFiles}),t=f["default"]({"file-tool__error":!0,"file-tool__error--shown":this.state.error,"file-tool__error-isdir":!this.state.openFile&&!this.props.autoAdd&&this.state.newDirectory});return d["default"].createElement("div",{className:e},d["default"].createElement("div",{className:"file-tool__container"},d["default"].createElement("div",{className:"file-tool__container--left"},d["default"].createElement("p",{className:t},this.state.error),d["default"].createElement(v["default"],{ref:"newFileTool",autoAdd:this.props.autoAdd,toggleAddFileState:this.toggleAddFileState,isAddingFiles:this.state.isAddingFiles,isDeletingFiles:this.state.isDeletingFiles,setIsDeleting:this.setIsDeleting,setError:this._setError,clearError:this._clearError,createNewFile:this._createNewFile,broadcast:this.props.broadcast,currentSavePath:this.state.currentSavePath,currentItemPath:this.state.currentItemPath,clearMediaViewer:this._clearMediaViewer}),d["default"].createElement(o["default"],{ref:"fileTree",setCurrentItem:this._setCurrentItem,setError:this._setError,clearError:this._clearError,currentItemPath:this.state.currentItemPath,addOrRemoveOpenPath:this._addOrRemoveOpenPath,forceAddOpenPath:this._forceAddOpenPath,openPaths:this.state.openPaths,broadcast:this.props.broadcast,isAddingFiles:this.state.isAddingFiles||this.props.autoAdd,isDeletingFiles:this.state.isDeletingFiles,newDirectory:this.state.newDirectory,environment:this.props.environment}),b["default"].isAdmin()?d["default"].createElement("div",{className:"workspaceDownloadMenu"},d["default"].createElement("form",{method:"POST",action:y.LIBRARY_ROOT+"/users/"+b["default"].get("_id")+"/workspaces/"+P["default"].slug+"/download"},d["default"].createElement("input",{type:"hidden",name:"attachment",value:"true"}),d["default"].createElement("input",{type:"hidden",name:"auth_token",value:b["default"].get("authentication_token")}),d["default"].createElement("input",{type:"submit",value:"Download workspace"}))):null),this.props.useViewer?d["default"].createElement(s["default"],{ref:"mediaViewer",loading:this.state.loading,broadcast:this.props.broadcast}):void 0,d["default"].createElement("div",{className:"fcn-icon fcn-icon-close fcn-button--everyday fcn-control",onClick:this.props.toggle})))}}),e.exports=t["default"]},function(e,t){"use strict";t.__esModule=!0,t["default"]=new Set(["css","html","js","min.js","erb","html.erb","db","json","php","py","rb","scss","txt","yml"]),e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0;var i=n(3),o=r(i),a=n(1),s=r(a),l=n(202),u=r(l),c=n(115),d=r(c),p=n(347),f=r(p),h=n(670),m=r(h),g=n(354),v=r(g),y=n(344),_=r(y),b=n(211),x=r(b);t["default"]=s["default"].createClass({displayName:"Brief",mixins:[x["default"]],propTypes:{broadcast:s["default"].PropTypes.func.isRequired,user:s["default"].PropTypes.object.isRequired,modifiers:s["default"].PropTypes.object.isRequired,presenter:s["default"].PropTypes.object.isRequired},getInitialState:function(){return{hideReportForm:!0,showReportConfirmation:!1,objective:d["default"](this.props.presenter.objective)}},componentDidUpdate:function(){this.listenForLinkClicks(".task--markdown a")},setTask:function(e,t,n){var r=this.props.modifiers.assessments,i=r[e].tasks[t];u["default"].checkAssessment(i.key,n)},scrollToSupport:function(){this.refs.accordion&&this.refs.accordion.openSection("support")},_onStart:function(){this.props.broadcast("start")},render:function(){var e=[{heading:s["default"].createElement("span",{className:"learn-header"},s["default"].createElement("span",{className:"fcn-icon fcn-icon-objective"}),"Objective"),content:s["default"].createElement("div",{className:"accordion-section-body__padded task--markdown"},s["default"].createElement("div",{dangerouslySetInnerHTML:{__html:this.state.objective}}),this.props.presenter.progress.status<1?s["default"].createElement("center",{className:"accordion-section-control-container"},s["default"].createElement("div",{className:"fcn-button fcn-button--neutral",onClick:this._onStart},"Start")):void 0),key:"objective"}];if(this.props.presenter.progress.status>0){var t=o["default"](this.props.modifiers.assessments).pluck("tasks").flatten().value();e.push({heading:s["default"].createElement("span",{className:"fcn-task-section__header"},s["default"].createElement("span",{className:"fcn-icon fcn-icon-instructions"}),"Tasks",s["default"].createElement(v["default"],{total:t.length,complete:o["default"].where(t,{done:!0}).length})),content:s["default"].createElement(m["default"],{tasks:this.props.modifiers.assessments,setTask:this.setTask,broadcast:this.props.broadcast}),key:"selfAssessments"}),e.push({heading:s["default"].createElement("span",{className:"support-header"},s["default"].createElement("div",{className:"fcn-icon fcn-icon-support"}),"Report a Bug"),content:s["default"].createElement(_["default"],null),key:"support"})}return s["default"].createElement("div",null,s["default"].createElement(f["default"],{content:e,ref:"accordion"}))}}),e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0;var i=n(1),o=r(i),a=n(2),s=r(a),l=o["default"].createClass({displayName:"TaskListCounter",propTypes:{total:o["default"].PropTypes.number,complete:o["default"].PropTypes.number,separator:o["default"].PropTypes.string,text:o["default"].PropTypes.string},getDefaultProps:function(){return{separator:"/",text:"Complete"}},isComplete:function(){return this.props.complete===this.props.total},render:function(){var e=s["default"]({"fcn-task-counter":!0,"fcn-task-counter--complete":this.isComplete()});return o["default"].createElement("div",{className:e},o["default"].createElement("span",{className:"fcn-task-counter__count",style:{marginRight:3}},this.props.complete,this.props.separator,this.props.total),this.props.text)}});t["default"]=l,e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0;var i=n(680),o=r(i),a=n(684),s=r(a),l=n(701),u=r(l),c=n(683),d=r(c),p=n(682),f=r(p),h=n(699),m=r(h),g=n(691),v=r(g),y=n(689),_=r(y),b=n(681),x=r(b),w=n(696),k=r(w),C=n(697),M=r(C),T=n(687),S=r(T),E=n(692),D=r(E),L=n(694),P=r(L),N=n(678),A=r(N),R=n(693),I=r(R),O=n(690),F=r(O),j=n(688),Y=r(j),H=n(685),B=r(H),U=n(698),W=r(U),z=n(700),q=r(z),K=n(695),V=r(K),G=n(686),X=r(G),$=n(679),J=r($),Q={FullWebPreview:[o["default"]],PersistentCodeEditor:[s["default"],x["default"]],PresetTemplatedWebPreview:[B["default"]],OutputTerminal:[d["default"]],TemplatedWebPreview:[S["default"]],Terminal:[Y["default"]],SQLPreview:[X["default"]],WebBrowser:[_["default"]],NonPersistentCodeEditor:[f["default"]],Brief:[J["default"]]},Z={WebBrowser:[D["default"]],PersistentCodeEditor:[F["default"]],Terminal:[v["default"]]},ee={WebBrowser:[P["default"]],PersistentCodeEditor:[I["default"]]},te=["PersistentCodeEditor","Terminal","WebBrowser"],ne=["Godexer","Lifesaver"],re={Lifesaver:[m["default"],W["default"]],Godexer:[k["default"],M["default"]]},ie={Lifesaver:[m["default"],q["default"]],Godexer:[k["default"]]},oe=[u["default"]];t["default"]={forComponents:function(e){var t=this._getBaseMixins(e).concat(oe).concat(this._getComponentMixins(e,Z)).concat(this._getPersistentMixins(e,re));
return A["default"]({mixins:t})()},forProjectsWithComponents:function(e){return A["default"]({mixins:this._getBaseMixins(e).concat(this._getComponentMixins(e,ee)).concat(this._getPersistentMixins(e,ie))})()},_hasOneOf:function(e,t){var n=Object.keys(e);return t.some(function(e){return n.indexOf(e)>=0}.bind(this))},_getPersistentMixins:function(e,t){var n=[];return this._hasOneOf(e,te)&&ne.forEach(function(e){n=n.concat(t[e])}.bind(this)),n},_getComponentMixins:function(e,t){var n=Object.keys(e),r=[];return n.forEach(function(e){e in t&&(r=r.concat(t[e]))}.bind(this)),r},_getBaseMixins:function(e){return[V["default"]].concat(this._getComponentMixins(e,Q))}},e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}t.__esModule=!0;var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(210),s=r(a),l=void 0;switch(CCDATA.env){case"development":t.LIBRARY_ROOT=l="http://localhost:8012";break;default:t.LIBRARY_ROOT=l="https://library.codecademy.com"}var u=function(){function e(t,n){i(this,e),this._userId=t,this._authToken=n}return e.prototype.initialize=function(){this.fetch()},e.prototype.fetch=function(e){var t=this;return new Promise(function(n,r){t._call("workspaces/"+e+"/download",{workspace:e}).done(function(e,t,r){n(new s["default"](e.workspace))}).fail(function(e,t,n){r(n)})})},e.prototype.persist=function(e){var t=this;return new Promise(function(n,r){t._call("workspaces/"+e.slug+"/upload",{workspace:e}).done(function(e,t,r){n()}).fail(function(e,t,n){r(n)})})},e.prototype._call=function(e,t){return t=$.extend({auth_token:this._authToken},t),$.ajax({type:"POST",url:l+"/users/"+this._userId+"/"+e,data:t})},o(e,[{key:"backend",get:function(){return"library"}}]),e}();t["default"]=u,t.LIBRARY_ROOT=l},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0;var i=n(728),o=r(i),a=n(730),s=r(a),l=n(719),u=r(l),c=n(726),d=r(c),p=n(721),f=r(p),h=n(734),m=r(h),g=n(729),v=r(g),y=n(735),_=r(y),b=n(720),x=r(b),w=[o["default"],s["default"],u["default"],d["default"],f["default"],m["default"],v["default"],_["default"],x["default"]];t.LearnMixins=w},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}t.__esModule=!0;var r=function(){function e(t){n(this,e),this.name=t.name,this.path=t.path,this.files=t.files,this.directories=t.directories}return e.prototype.asJSON=function(){return{name:this.name,path:this.path,files:this.files.map(function(e){return e.asJSON()}),directories:this.directories.map(function(e){return e.asJSON()})}},e.prototype.clone=function(){return new e({name:this.name,path:this.path,files:this.files.map(function(e){return e.clone()}),directories:this.directories.map(function(e){return e.clone()})})},e}();t["default"]=r,e.exports=t["default"]},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}t.__esModule=!0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=1;t.PLAINTEXT_ENCODING=i;var o=2;t.BASE64_ENCODING=o;var a=["jpeg","jpg","gif","png"];t.BINARY_FILE_EXTENSIONS=a;var s=/[\u00A0-\u2666]/g,l=function(){function e(t){n(this,e),this.name=t.name,this.path=t.path,void 0!==t.encodedContent?this._encodedContent=t.encodedContent:void 0!==t.content&&(this.content=t.content)}return e.prototype.clone=function(){return new e({name:this.name,path:this.path,encodedContent:this._encodedContent})},e.prototype.asJSON=function(){return{name:this.name,path:this.path,encodedContent:this.contentBase64}},e.prototype.toJSON=function(){return JSON.stringify(this.asJSON())},r(e,[{key:"encoding",get:function(){return a.indexOf(this.extension)>-1?o:i}},{key:"type",get:function(){switch(this.extension){case"jpeg":case"jpg":case"png":case"gif":case"svg":return"image";default:return"code"}}},{key:"extension",get:function(){return this.name.split(".").slice(-1)[0].toLowerCase()}},{key:"content",get:function(){return atob(this._encodedContent)},set:function(e){var t=e.replace(s,"");this._encodedContent=btoa(t)}},{key:"contentBase64",get:function(){return this._encodedContent}}]),e}();t["default"]=l},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}t.__esModule=!0;var r=14,i=.1,o=.17,a=.04,s=.06,l=["x","y"],u={right:"x",bottom:"y",left:"x",top:"y"},c={top:"bottom",right:"left",bottom:"top",left:"right"},d=function(){function e(t,r){n(this,e),this.min=t,this.max=r,this.length=r-t+1}return e.prototype.contains=function(e){var t=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],n=t.buffer||0;return this.min-n<=e&&this.max+n>=e},e}();t.Range=d;var p=function(){function e(t,r){n(this,e),this.x=t,this.y=r}return e.prototype.clone=function(){return new e(this.x,this.y,this.context)},e.prototype.gte=function(e){return this.x>=e.x&&this.y>=e.y},e.prototype.lte=function(e){return this.x<=e.x&&this.y<=e.y},e}();t.Posn=p;var f=function(){function e(t,r,i,o){n(this,e),this.x=t,this.y=r,this.id=i,this.neighbors={},this.grid=o,this._right={value:t/o.width+1/o.width},this._bottom={value:r/o.height+1/o.height}}return e.prototype.left=function(){return 0===this.x?0:this.neighbors.left.right()},e.prototype.right=function(){return this._right.value},e.prototype.top=function(){return 0===this.y?0:this.neighbors.top.bottom()},e.prototype.bottom=function(){return this._bottom.value},e.prototype.soloEdges=function(){return{top:void 0===this.neighbors.top,right:void 0===this.neighbors.right,bottom:void 0===this.neighbors.bottom,left:void 0===this.neighbors.left}},e.prototype.set=function(e,t){switch(e){case"top":if(0===this.y)throw new Error("Cannot set 'top' on top-most cell");this.neighbors.top._bottom.value=t;break;case"right":if(this.x===this.grid.width-1)throw new Error("Cannot set 'right' on right-most cell");this._right.value=t;break;case"bottom":if(this.y===this.grid.height-1)throw new Error("Cannot set 'bottom' on bottom-most cell");this._bottom.value=t;break;case"left":if(0===this.x)throw new Error("Cannot set 'left' on left-most cell");this.neighbors.left._right.value=t}},e}(),h=function(){function e(t,r){n(this,e),this.id=t,this.grid=r,this.cells={},this.lastEdgeSet={x:void 0,y:void 0}}return e.prototype.registerCells=function(e){for(var t=e,n=Array.isArray(t),r=0,t=n?t:t[Symbol.iterator]();;){var i;if(n){if(r>=t.length)break;i=t[r++]}else{if(r=t.next(),r.done)break;i=r.value}var o=i;if(this.cells[o.id]=o,void 0!==o.slot)throw new Error("Can't register slot "+this.id+"; cell "+o.id+" already belongs to slot "+o.slot.id+"!");o.slot=this}this.calculateEdges(),this.mergePointers(),this.cacheNeighbors()},e.prototype.calculateEdges=function(){this.edgeCells={top:[],right:[],bottom:[],left:[]},this.edges={top:1,right:0,bottom:0,left:1};for(var e=Object.values(this.cells),t=["top","right","bottom","left"],n=0;n<t.length;n++)for(var r=t[n],i=e,o=Array.isArray(i),a=0,i=o?i:i[Symbol.iterator]();;){var s;if(o){if(a>=i.length)break;s=i[a++]}else{if(a=i.next(),a.done)break;s=a.value}var l=s,u=l[r]();0===this.edgeCells[r].length||u===this.edges[r]?(this.edgeCells[r].push(l),this.edges[r]=u):("left"===r||"top"===r)&&u<this.edges[r]?(this.edgeCells[r]=[l],this.edges[r]=u):("right"===r||"bottom"===r)&&u>this.edges[r]&&(this.edgeCells[r]=[l],this.edges[r]=u)}this.edgeExtents={};var c=this.sharedEdges();for(var p in c)if(c[p]){var f=this.edgeCells[p];this.edgeExtents[p]={x:new d(Math.min.apply(Math,f.map(function(e){return e.left()})),Math.max.apply(Math,f.map(function(e){return e.right()}))),y:new d(Math.min.apply(Math,f.map(function(e){return e.top()})),Math.max.apply(Math,f.map(function(e){return e.bottom()})))}}},e.prototype.mergePointers=function(){for(var e in c)for(var t=c[e],n=this.edgeCells[e][0],r=this.edgeCells[e],i=Array.isArray(r),o=0,r=i?r:r[Symbol.iterator]();;){var a;if(i){if(o>=r.length)break;a=r[o++]}else{if(o=r.next(),o.done)break;a=o.value}var s=a;s["_"+e]=n["_"+e];var l=s.neighbors[t];l&&(l["_"+t]=n.neighbors[t]["_"+t])}},e.prototype.cacheNeighbors=function(){for(var e={top:[],right:[],bottom:[],left:[]},t=Object.values(this.cells),n=Array.isArray(t),r=0,t=n?t:t[Symbol.iterator]();;){var i;if(n){if(r>=t.length)break;i=t[r++]}else{if(r=t.next(),r.done)break;i=r.value}var o=i;o.neighbors.top&&o.top()===this.edges.top&&-1===e.top.indexOf(o.neighbors.top.slot)&&e.top.push(o.neighbors.top.slot),o.neighbors.right&&o.right()===this.edges.right&&-1===e.right.indexOf(o.neighbors.right.slot)&&e.right.push(o.neighbors.right.slot),o.neighbors.bottom&&o.bottom()===this.edges.bottom&&-1===e.bottom.indexOf(o.neighbors.bottom.slot)&&e.bottom.push(o.neighbors.bottom.slot),o.neighbors.left&&o.left()===this.edges.left&&-1===e.left.indexOf(o.neighbors.left.slot)&&e.left.push(o.neighbors.left.slot)}this.neighbors=e},e.prototype.soloEdges=function(){return{top:this.edgeCells.top[0].soloEdges().top,right:this.edgeCells.right[0].soloEdges().right,bottom:this.edgeCells.bottom[0].soloEdges().bottom,left:this.edgeCells.left[0].soloEdges().left}},e.prototype.sharedEdges=function(){return{top:!this.edgeCells.top[0].soloEdges().top,right:!this.edgeCells.right[0].soloEdges().right,bottom:!this.edgeCells.bottom[0].soloEdges().bottom,left:!this.edgeCells.left[0].soloEdges().left}},e.prototype.top=function(){return this.edgeCells.top[0].top()},e.prototype.right=function(){return this.edgeCells.right[0].right()},e.prototype.bottom=function(){return this.edgeCells.bottom[0].bottom()},e.prototype.origin=function(){return new p(this.left(),this.top())},e.prototype.left=function(){return this.edgeCells.left[0].left()},e.prototype.width=function(){return this.right()-this.left()},e.prototype.roundedWidth=function(){return Math.round(100*this.width())/100},e.prototype.height=function(){return this.bottom()-this.top()},e.prototype.roundedHeight=function(){return Math.round(100*this.height())/100},e.prototype.coordExtent=function(){return{x:new d(this.edgeCells.left[0].x,this.edgeCells.right[0].x),y:new d(this.edgeCells.top[0].y,this.edgeCells.bottom[0].y)}},e.prototype.collapsed=function(e){switch(e){case"x":return this.roundedWidth()<=a;case"y":return this.roundedHeight()<=s;case void 0:return this.collapsed("x")||this.collapsed("y")}},e.prototype.elgibileToSnap=function(e){switch(e){case"x":var t=this.roundedWidth();return t>a&&i>=t;case"y":var n=this.roundedHeight();return n>s&&o>=n}},e.prototype.withinCollapseThreshold=function(e){switch(e){case"x":return this.roundedWidth()<=i;case"y":return this.roundedHeight()<=o}},e.prototype.slack=function(e){switch(e){case"x":return this.roundedWidth()-a;case"y":return this.roundedHeight()-s}},e.prototype.firstSlotWithSlackInDirection=function(e){var t=u[e];return this.slack(t)>0?this:0===this.neighbors[e].length?null:this.neighbors[e][0].firstSlotWithSlackInDirection(e)},e.prototype.neighborWithSlackInDirection=function(e){switch(e){case"top":case"left":return this.firstSlotWithSlackInDirection(e);case"right":case"bottom":return this.neighbors[e][0].firstSlotWithSlackInDirection(e)}},e.prototype.firstDirectionWithSlack=function(e){for(var t=e,n=Array.isArray(t),r=0,t=n?t:t[Symbol.iterator]();;){var i;if(n){if(r>=t.length)break;i=t[r++]}else{if(r=t.next(),r.done)break;i=r.value}var o=i;if(this.neighborWithSlackInDirection(o))return o}return null},e.prototype.set=function(e,t){for(var n=this,r=(arguments.length<=2||void 0===arguments[2]?!1:arguments[2],this.edgeCells[e]),i=Array.isArray(r),o=0,r=i?r:r[Symbol.iterator]();;){var a;if(i){if(o>=r.length)break;a=r[o++]}else{if(o=r.next(),o.done)break;a=o.value}var s=a;s.set(e,t)}var l=u[e];this.lastEdgeSet[l]=e;for(var d=this.neighbors[e],p=Array.isArray(d),f=0,d=p?d:d[Symbol.iterator]();;){var h;if(p){if(f>=d.length)break;h=d[f++]}else{if(f=d.next(),f.done)break;h=f.value}var m=h;m.lastEdgeSet[l]=c[e],m.redistributeCells();for(var g=m.neighbors[c[e]].filter(function(e){return e!==n}),v=g,y=Array.isArray(v),_=0,v=y?v:v[Symbol.iterator]();;){var b;if(y){if(_>=v.length)break;b=v[_++]}else{if(_=v.next(),_.done)break;b=_.value}var x=b;x.lastEdgeSet[l]=e,x.redistributeCells()}}this.redistributeCells()},e.prototype.push=function(e,t){var n=c[e];if(0===this.neighbors[e].length)return!1;if("top"===e){var r=this.neighbors.top[0];return r.push(n,-t)}if("left"===e){var r=this.neighbors.left[0];return r.push(n,-t)}var i=u[e],o=void 0;if(o=t>0?this.neighborWithSlackInDirection(e):this.neighborWithSlackInDirection(n),!o)return!1;var a=0>t;t=Math.min(Math.abs(t),o.slack(i)),a&&(t=-t),this.set(e,this[e]()+t,!0),this.enforceMinimumDimensions(e);var s=this.neighbors[t>0?e:n];if(s)for(var l=s,d=Array.isArray(l),p=0,l=d?l:l[Symbol.iterator]();;){var f;if(d){if(p>=l.length)break;f=l[p++]}else{if(p=l.next(),p.done)break;f=p.value}var r=f;r.enforceMinimumDimensions(n)}return!0},e.prototype.redistributeCells=function(){for(var e=Object.values(this.cells),t=this.coordExtent(),n=e,r=Array.isArray(n),i=0,n=r?n:n[Symbol.iterator]();;){var o;if(r){if(i>=n.length)break;o=n[i++]}else{if(i=n.next(),i.done)break;o=i.value}var a=o;if(t.x.length>1){var s=(a.x-t.x.min)/t.x.length;a.neighbors.right&&a.set("right",this.left()+s*this.width())}if(t.y.length>1){var l=(a.y-t.y.min)/t.y.length;a.neighbors.bottom&&a.set("bottom",this.top()+l*this.height())}}},e.prototype.fullscreen=function(){var e=!1;for(var t in u)for(;this.push(t,1);)e=!0;return e},e.prototype.enforceMinimumDimensions=function(e){var t=this.width(),n=this.height();switch(e){case"left":a>t&&(this.neighbors.right.length?this.set("right",this.left()+a):this.set("left",this.right()-a));break;case"right":a>t&&(this.neighbors.left.length?this.set("left",this.right()-a):this.set("right",this.left()+a));break;case"top":s>n&&(this.neighbors.bottom.length?this.set("bottom",this.top()+s):this.set("top",this.bottom()-s));break;case"bottom":s>n&&(this.neighbors.top.length?this.set("top",this.bottom()-s):this.set("bottom",this.top()+s))}},e}(),m=function(){function e(t,r){n(this,e),this.width=t,this.height=r,this.cells=[],this.slots={};for(var i=0;r>i;i++)for(var o=this.cells[i]=[],a=0;t>a;a++){var s=new f(a,i,i*t+a,this);o[a]=s}for(var i=0;r>i;i++)for(var a=0;t>a;a++){var s=this.getCellByCoords(a,i);i>0&&(s.neighbors.top=this.getCellByCoords(a,i-1)),t-1>a&&(s.neighbors.right=this.getCellByCoords(a+1,i)),r-1>i&&(s.neighbors.bottom=this.getCellByCoords(a,i+1)),a>0&&(s.neighbors.left=this.getCellByCoords(a-1,i))}}return e.prototype.registerSlot=function(e){var t=this,n=new h(e,this);this.slots[e]=n;var r=e.split(""),i=r.map(function(e){return t.getCellById(parseInt(e,10))});n.registerCells(i),this.slotsList=Object.values(this.slots);for(var o=this.slotsList,a=Array.isArray(o),s=0,o=a?o:o[Symbol.iterator]();;){var l;if(a){if(s>=o.length)break;l=o[s++]}else{if(s=o.next(),s.done)break;l=s.value}var u=l;u.cacheNeighbors()}},e.prototype.getSlotById=function(e){return this.slots[e]},e.prototype.getCellByCoords=function(e,t){return this.cells[t][e]},e.prototype.getCellById=function(e){var t=e%this.width,n=Math.floor(e/this.width);return this.cells[n][t]},e.prototype.registerDOMNode=function(e){this.DOMNode=e},e.prototype.DOMNodeRect=function(){return this.DOMNode.getBoundingClientRect()},e.prototype.percentageToPx=function(e,t){if(0===t)return 0;switch(e){case"x":return this.DOMNodeRect().width*t;case"y":return this.DOMNodeRect().height*t}},e.prototype.pxToPercentage=function(e,t){if(0===t)return 0;switch(e){case"x":return t/this.DOMNodeRect().width;case"y":return t/this.DOMNodeRect().height}},e.prototype.gutterUnderPosn=function(e){for(var t=this.DOMNodeRect(),n=new p(e.x-t.left,e.y-t.top),i=this.slotsList,o=Array.isArray(i),a=0,i=o?i:i[Symbol.iterator]();;){var s;if(o){if(a>=i.length)break;s=i[a++]}else{if(a=i.next(),a.done)break;s=a.value}var l=s;for(var u in l.edgeExtents)switch(u){case"right":var c=this.percentageToPx("x",l[u]()),d=this.percentageToPx("y",l.edgeExtents[u].y.min),f=this.percentageToPx("y",l.edgeExtents[u].y.max);if(Math.abs(n.x-c)<r/2&&n.y>=d&&n.y<=f)return{edge:u,slot:l};case"bottom":var h=this.percentageToPx("y",l[u]()),m=this.percentageToPx("x",l.edgeExtents[u].x.min),g=this.percentageToPx("x",l.edgeExtents[u].x.max);if(Math.abs(n.y-h)<r/2&&n.x>=m&&n.x<=g)return{edge:u,slot:l}}}},e.prototype.recalculateEdges=function(){for(var e=this.slotsList,t=Array.isArray(e),n=0,e=t?e:e[Symbol.iterator]();;){var r;if(t){if(n>=e.length)break;r=e[n++]}else{if(n=e.next(),n.done)break;r=n.value}var i=r;i.calculateEdges()}},e.prototype.firstSlotWaitingToCollapse=function(e){for(var t=this.slotsList,n=Array.isArray(t),r=0,t=n?t:t[Symbol.iterator]();;){var i;if(n){if(r>=t.length)break;i=t[r++]}else{if(r=t.next(),r.done)break;i=r.value}var o=i;if(o.elgibileToSnap(e))return o}return null},e.prototype.expandSlot=function(e){for(var t=this.getSlotById(e),n=t.origin(),r=t.coordExtent(),i=l,o=Array.isArray(i),a=0,i=o?i:i[Symbol.iterator]();;){var s;if(o){if(a>=i.length)break;s=i[a++]}else{if(a=i.next(),a.done)break;s=a.value}var u=s,d=t.lastEdgeSet[u],p=t.firstDirectionWithSlack([d,c[d]]);if(p){var f=void 0;if(t.withinCollapseThreshold(u))switch(u){case"x":f=r[u].length/this.width,t.push(p,f-t.width());break;case"y":f=r[u].length/this.height,t.push(p,f-t.height())}}}this.snapSlots(n)},e.prototype.expandSlotInDirection=function(e,t){var n=this.getSlotById(e),r=n.neighbors[t],i=void 0;r.length>0?(i=r[0].slack(u[t]),n.push(t,i)):console.warn("Cannot expand slot "+e+" in direction #{dir}; no neighbors")},e.prototype.toggleFullscreenSlot=function(e){var t=this.slots[e].fullscreen();if(!t){for(var n=1/this.width,r=1/this.height,i=0;i<this.height;i++)for(var o=0;o<this.width;o++){var a=this.cells[i][o];a._right.value=(o+1)*n,a._bottom.value=(i+1)*r}return!1}return!0},e.prototype.fullscreenSlot=function(){var e=this.slotsList.filter(function(e){return!(e.withinCollapseThreshold("x")||e.withinCollapseThreshold("y"))});return 1===e.length?e[0]:null},e.prototype.snapSlots=function(e){this.recalculateEdges();for(var t=[],n={},r=["x","y"],i=0;i<r.length;i++)for(var o=r[i],a=void 0;a=this.firstSlotWaitingToCollapse(o);){var s=void 0,l=-a.slack(o);if(s=n[o]?n[o]:a.origin().lte(e)?{x:"right",y:"bottom"}[o]:{x:"left",y:"top"}[o],(0==a.neighbors[s].length||t.indexOf(a.neighbors[s][0].id)>-1)&&(s=c[s]),0==a.neighbors[s].length||t.indexOf(a.neighbors[s][0].id)>-1)return void console.warn("Cannot snap; infinite loop");n[o]=s,a.push(s,l),t.push(a.id)}},e}();t.Grid=m},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0;var i=n(9),o=r(i);n(22);var a=n(17),s=r(a),l=n(26),u=r(l),c=n(14),d=r(c),p=n(38),f=r(p);t["default"]={report:function(e){var t=window.location.href.split("/");t=t[t.length-1];var n=e.error;return"checkpoint-eval"===e.type&&o["default"].ajax({type:"POST",url:"/learn/report-eval-error",data:{message:e.preface+": "+n.message,uri:window.location.pathname,stack:n.stack,type:n.name,useragent:navigator.userAgent}}),f["default"]("info","Submitting bug report of type "+e.type),u["default"].increment("francine.bug-report","submit"),d["default"].track("action","click",{target:"reportBug",skill:t,url:window.location.href,type:e.type}),o["default"].ajax({type:"POST",url:"https://bugs.codecademy.com/report",data:{type:e.type,user_id:window.CCDATA.current_user._id,user_name:window.CCDATA.current_user.username,user_email:window.CCDATA.current_user.email,is_admin:s["default"].isAdmin(),desc:e.preface,slug:t,timestamp:(new Date).valueOf(),url:window.location.href,useragent:navigator.userAgent}})}},e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0;var i=n(9),o=r(i);n(545),t["default"]={listenForOutsideClick:function(e,t){var n=o["default"](e);o["default"](document).on("click.clickListenerMixin",function(e){o["default"](e.target).insideOf(document.querySelector("body"))&&(o["default"](e.target).insideOf(n[0])||(o["default"](document).off("click"),t(e.target)))})},stopListeningForOutsideClicks:function(){o["default"](document).off("click.clickListenerMixin")},componentWillUnmount:function(){this.stopListeningForOutsideClicks()}},e.exports=t["default"]},function(e,t){"use strict";t.__esModule=!0,t["default"]={fileExists:function(e){return e=this.props.currentSavePath?this.props.currentSavePath+"/"+e:e,this.state.workspace.exists(e)}},e.exports=t["default"]},function(e,t){"use strict";t.__esModule=!0,t["default"]={isLastProject:function(){var e=this.currentUnit();return 0===e.projects.length?!0:this.currentProjectIndex()===e.projects.length-1?!0:!1},isLastLesson:function(){var e=this.currentUnit();return 0===e.lessons.length?!0:this.currentLessonIndex()===e.lessons.length-1?!0:!1},isLastUnit:function(){return this.currentUnitIndex()===this.props.segment.units.length-1},projectIsNext:function(){var e=this.currentUnit();return this.props.project?!this.isLastProject()&&e.projects.length>0:e.projects.length>0?e.projects[0].should_show?this.isLastLesson():!1:void 0},courseIsComplete:function(){return this.props.project?this.isLastProject()&&this.isLastUnit():this.isLastLesson()&&this.isLastUnit()},currentProject:function(){return this.props.segment.projects[this.currentProjectIndex()]},currentUnit:function(){return this.props.segment.units[this.currentUnitIndex()]},currentLesson:function(){return this.props.segment.lessons[this.currentLessonIndex()]},currentLessonIndex:function n(){var e=this.currentUnit(),n=void 0,t=this.state.currentLesson.title;return e.lessons.forEach(function(e,r){e.title===t&&(n=r)}),n},currentProjectTitle:function(){var e=this.currentProject();return e.title},currentLessonTitle:function(){var e=this.currentLesson();return e.title},currentUnitIndex:function r(){var e=this.props.segment,t=e.units,n=this.props.project?this.props.project.title:this.state.currentLesson.title,r=void 0;return t.forEach(function(e,t){e.projects.forEach(function(e){e.title===n&&(r=t)}),e.lessons.forEach(function(e){e.title===n&&(r=t)})}),r},currentProjectIndex:function i(){var e=this.currentUnit(),i=void 0,t=this.props.project.title;return e.projects.forEach(function(e,n){e.title===t&&(i=n)}),i}},e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0;var i=n(5),o=r(i),a=n(113),s=r(a);t["default"]=o["default"].createStore({init:function(){this._adapter=null,this._broadcast=null,this.listenToMany({onBroadcast:s["default"].broadcast,onNewAdapter:s["default"].newAdapter})},onBroadcast:function(){!this._adapter||!this._broadcast||arguments.length<1||this._broadcast.apply(this,Array.prototype.slice.call(arguments,0))},onNewAdapter:function(e){this._adapter=e,this._broadcast=e.createComponentBroadcastFunction("Reflux"),this.trigger()}}),e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0;var i=n(5),o=r(i),a=n(103),s=(r(a),n(201)),l=r(s),u=n(27),c=r(u);t["default"]=o["default"].createStore({init:function(){this.listenTo(l["default"].setPreviewFilepath,this.setPreviewFilepath),this.listenTo(l["default"].clearPreviewFile,this.clearPreviewFile)},setPreviewFilepath:function(e){var t=arguments.length<=1||void 0===arguments[1]?"utf8":arguments[1];c["default"].getFile(e,t).then(this.setPreviewFile),this.trigger({file:null,loading:!0})},setPreviewFile:function(e){this.trigger({file:e,loading:!1})},clearPreviewFile:function(){this.filepath=null,this.trigger({file:null,loading:!1})}}),e.exports=t["default"]},,,,,function(e,t){/*!
	 * @preserve
	 * riveted.js | v0.6.0
	 * Copyright (c) 2015 Rob Flaherty (@robflaherty)
	 * Licensed under the MIT license
	 */
"use strict";t.__esModule=!0;var n=function(){function e(e){e=e||{},m=parseInt(e.reportInterval,10)||5,g=parseInt(e.idleTimeout,10)||30,w=e.gaGlobal||"ga","function"==typeof window[w]&&(y=!0),"undefined"!=typeof _gaq&&"function"==typeof _gaq.push&&(_=!0),"undefined"!=typeof dataLayer&&"function"==typeof dataLayer.push&&(x=!0),b="gaTracker"in e&&"string"==typeof e.gaTracker?e.gaTracker+".send":"send","function"==typeof e.eventHandler&&(f=e.eventHandler),"function"==typeof e.userTimingHandler&&(h=e.userTimingHandler),v="nonInteraction"in e&&(e.nonInteraction===!1||"false"===e.nonInteraction)?!1:!0,n(document,"keydown",p),n(document,"click",p),n(window,"mousemove",t(p,500)),n(window,"scroll",t(p,500)),n(document,"visibilitychange",i),n(document,"webkitvisibilitychange",i)}function t(e,t){var n,r,i,o=null,a=0,s=function(){a=new Date,o=null,i=e.apply(n,r)};return function(){var l=new Date;a||(a=l);var u=t-(l-a);return n=this,r=arguments,0>=u?(clearTimeout(o),o=null,a=l,i=e.apply(n,r)):o||(o=setTimeout(s,u)),i}}function n(e,t,n){e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent?e.attachEvent("on"+t,n):e["on"+t]=n}function r(){clearTimeout(D),a()}function i(){(document.hidden||document.webkitHidden)&&r()}function o(){T+=1,T>0&&T%m===0&&f(T)}function a(){C=!0,clearTimeout(E)}function s(){r(),M=!0}function l(){M=!1}function u(){C=!1,clearTimeout(E),E=setInterval(o,1e3)}function c(){var e=new Date,t=e-S;k=!0,h(t),E=setInterval(o,1e3)}function d(){S=new Date,T=0,k=!1,C=!1,clearTimeout(E),clearTimeout(D)}function p(){M||(k||c(),C&&u(),clearTimeout(D),D=setTimeout(r,1e3*g+100))}var f,h,m,g,v,y,_,b,x,w,k=!1,C=!1,M=!1,T=0,S=new Date,E=null,D=null;return h=function(e){x?dataLayer.push({event:"RivetedTiming",eventCategory:"Riveted",timingVar:"First Interaction",timingValue:e}):(y&&window[w](b,"timing","Riveted","First Interaction",e),_&&_gaq.push(["_trackTiming","Riveted","First Interaction",e,null,100]))},f=function(e){x?dataLayer.push({event:"Riveted",eventCategory:"Riveted",eventAction:"Time Spent",eventLabel:e,eventValue:m,eventNonInteraction:v}):(y&&window[w](b,"event","Riveted","Time Spent",e.toString(),m,{nonInteraction:v}),_&&_gaq.push(["_trackEvent","Riveted","Time Spent",e.toString(),m,v]))},{init:e,trigger:p,setIdle:r,on:l,off:s,reset:d}}();t["default"]=n,e.exports=t["default"]},,,,function(e,t){var n={utf8:{stringToBytes:function(e){return n.bin.stringToBytes(unescape(encodeURIComponent(e)))},bytesToString:function(e){return decodeURIComponent(escape(n.bin.bytesToString(e)))}},bin:{stringToBytes:function(e){for(var t=[],n=0;n<e.length;n++)t.push(255&e.charCodeAt(n));return t},bytesToString:function(e){for(var t=[],n=0;n<e.length;n++)t.push(String.fromCharCode(e[n]));return t.join("")}}};e.exports=n},,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t){e.exports={button:"index__button___3K1ZK",popover:"index__popover___29Pxs",gistLoader:"index__gistLoader___3g3Sp",gistResult:"index__gistResult___3XzFF",gistOpen:"index__gistOpen___W3pBa",gistInput:"index__gistInput___3M3Fr"}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){var r;r=function(e,t,r){var i=n(3);r.exports={_externalOrigin:function(){return i.contains(["development","test"],CCDATA.env)?"//external-dev.codecademy.com:"+window.location.port:"//external-"+CCDATA.env+".codecademy.com"},secureSandboxIndex:function(){if(i.contains(["development","test"],CCDATA.env)){var e=this._externalOrigin()+CCDATA.secureSandboxIndexPath;return e.replace(".html",".dev.html")}var e=CCDATA.secureSandboxIndexPath.replace("cdn","external");return e}}}.call(t,n,t,e),!(void 0!==r&&(e.exports=r))},function(e,t,n){var r;r=function(e,t,r){"use strict";var i=n(543),o=CCDATA.assets_compiled?["/assets/web_libs.js?v5"]:["/assets/env/luke.min.js","/assets/env/runner.js"];r.exports=function(e,t,n){function r(e){return e?(e.split(".").slice(-1)[0]||"").toLowerCase():void 0}var a=(e.extScripts||[]).concat(o),s=e.files||[],l={HTML:"",PHP:null,includes:{JS:{},CSS:{}},external:{JS:a}};s.forEach(function(e){var t;e.filename&&(t=r(e.filename).toUpperCase()),"HTML"!==t&&"PHP"!==t||l[t]?l.includes[t]&&(l.includes[t][e.filename]=e.content):l[t]=e.content}),l.PHP?e.evaluator.php(l.PHP,function(e,r,o){e?l.HTML=e:l.HTML=o,t.call(n,i(l))}):t.call(n,i(l))}}.call(t,n,t,e),!(void 0!==r&&(e.exports=r))},function(e,t,n){var r;r=function(e,t,n){"use strict";n.exports.getSize=function(e){var t=document.createElement("div"),n="NOBODYEXPECTSTHESPANISHINQUISITION";t.appendChild(document.createTextNode(n)),t.style.position="absolute",t.style.visibility="hidden",e.appendChild(t);var r={width:t.offsetWidth/n.length,height:t.offsetHeight};return e.removeChild(t),r}}.call(t,n,t,e),!(void 0!==r&&(e.exports=r))},function(e,t,n){var r;r=function(e,t,r){"use strict";var i=n(546),o=n(3),a=i.DefaultHandler._emptyTags;r.exports=function(e){var t="string"==typeof e?e:e.HTML||"",n=e.includes||{},r=n.JS||{},s=n.CSS||{},l=e.external||{},u=l.JS||[],c=l.CSS||[];e=o.extend(e,{overwriteAnchorTarget:!0});var d=function(e){void 0!==e.attribs&&void 0!==e.attribs.href&&(/^\#.*/.test(e.attribs.href)||(e.attribs.target="_blank",e.raw=e.name+" "+f(e.attribs)))},p=function(t){if(Array.isArray(t))return t.map(p).join("");if(!t)return"";switch(t.type){case"tag":if("a"===t.name&&e.overwriteAnchorTarget&&d(t),a[t.name])return"<"+t.raw+">";case"style":case"script":return"<"+t.raw+">"+p(t.children)+"</"+t.name+">";case"directive":return"<"+t.raw+">";case"comment":return"<!--"+t.raw+"-->";default:return t.raw}},f=function(e){return o.map(e,function(e,t){return t+'="'+e+'"'}).join(" ")};u=u.map(function(e){var t='script src="'+e+'"';return{raw:t,data:t,type:"script",name:"script",attribs:{src:e}}}),c=c.map(function(e){var t='link rel="stylesheet" href="'+e+'"';return{raw:t,data:t,type:"link",name:"link",attribs:{href:e,rel:"stylesheet"}}});var h=null,m=new i.DefaultHandler(function(e,t){if(e)throw e;var n=i.DomUtils.getElements({tag_type:"directive"},t);n.length&&n.filter(function(e){return!!e.name.match(/!DOCTYPE/i)}).length||t.unshift({raw:"!DOCTYPE html",data:"!DOCTYPE html",type:"directive",name:"!DOCTYPE"});var a,l;if(n=i.DomUtils.getElements({tag_name:"html"},t),n.length)a=n[0],Array.isArray(a.children)||(a.children=[]);else{var c=[];l=t.filter(function(e){return"directive"===e.type||"comment"===e.type?(c.push(e),!1):!0}),a={raw:"html",data:"html",type:"tag",name:"html",attribs:{},children:l},c.push(a),t=c}n=i.DomUtils.getElements({tag_name:"head"},t);var d;n.length?d=n[0]:(d={raw:"head",data:"head",type:"tag",name:"head",attribs:{},children:[]},a.children.unshift(d)),d.children=u.concat(d.children),n=i.DomUtils.getElements({tag_name:"body"},t);var m;if(n.length)m=n[0];else{var g=[];l=a.children.filter(function(e,t){return"directive"!==e.type&&"head"!==e.name&&"html"!==e.name?(g.push(t),!0):!1}),a.children=a.children.filter(function(e){return-1===l.indexOf(e)}),m={raw:"body",data:"body",type:"tag",name:"body",attribs:{},children:l},a.children.push(m)}i.DomUtils.getElements({tag_name:"link",rel:"stylesheet",href:function(e){return void 0!==s[e]}},t).forEach(function(e){var t=s[e.attribs.href];o.extend(e,{raw:"style",data:"style",type:"tag",name:"style",attribs:{},children:[{raw:t,data:t,type:"text"}]})}),i.DomUtils.getElements({tag_name:"script",src:function(e){return void 0!==r[e]}},t).forEach(function(e){var t=r[e.attribs.src];delete e.attribs.src;var n="script "+f(e.attribs);o.extend(e,{raw:n,data:n,children:[{raw:t,data:t,type:"text"}]})}),i.DomUtils.getElements({tag_name:"script"},t).forEach(function(e){if(!e.attribs||!e.attribs.src){e.attribs||(e.attribs={}),e.attribs.defer="";var t="script "+f(e.attribs);o.extend(e,{raw:t,data:t})}}),h=p(t)}),g=new i.Parser(m);return g.parseComplete(t),h}}.call(t,n,t,e),!(void 0!==r&&(e.exports=r))},function(e,t,n){var r;r=function(e,t,r){var i=n(549);if(!i)return void console.warn("libs/term failed to initialize");var o;o=window.navigator&&window.navigator.userAgent?!!~window.navigator.userAgent.indexOf("Mac"):!1,i.brokenBold=!0,i.bindKeys=function(e){e.addEventListener("keydown",function(e){if(i.focus&&(!o||!e.metaKey)){var t=e.target||e.srcElement;if(t)return t===i.focus.element||t===i.focus.context||t===i.focus.document||t===i.focus.body||t===i._textarea||t===i.focus.parent?i.focus.keyDown(e):void 0}},!0),e.addEventListener("keypress",function(e){if(i.focus){var t=e.target||e.srcElement;if(t)return t===i.focus.element||t===i.focus.context||t===i.focus.document||t===i.focus.body||t===i._textarea||t===i.focus.parent?i.focus.keyPress(e):void 0}},!0),e.addEventListener("mousedown",function(e){if(i.focus){var t=e.target||e.srcElement;if(t){do if(t===i.focus.element)return;while(t=t.parentNode);i.focus.blur()}}})},i.prototype.handleExtraKeys=function(e){var t;return e.altKey&&e.ctrlKey?55===e.keyCode?t=String.fromCharCode(123):48===e.keyCode?t=String.fromCharCode(125):56===e.keyCode?t=String.fromCharCode(91):57===e.keyCode?t=String.fromCharCode(93):69===e.keyCode?t=String.fromCharCode(8364):81===e.keyCode?t=String.fromCharCode(64):226===e.keyCode?t=String.fromCharCode(124):187===e.keyCode?t=String.fromCharCode(126):219===e.keyCode&&(t=String.fromCharCode(92)):e.altKey&&e.shiftKey?"U+002F"===e.keyIdentifier&&(t=String.fromCharCode(92)):e.altKey&&(this.isMac&&76===e.keyCode?t=String.fromCharCode(64):this.isMac&&69===e.keyCode?t=String.fromCharCode(8364):this.isMac&&"U+0035"===e.keyIdentifier?t=String.fromCharCode(91):this.isMac&&"U+0036"===e.keyIdentifier?t=String.fromCharCode(93):this.isMac&&"U+0037"===e.keyIdentifier?t=String.fromCharCode(124):this.isMac&&"U+0038"===e.keyIdentifier?t=String.fromCharCode(123):this.isMac&&"U+0039"===e.keyIdentifier?t=String.fromCharCode(125):this.isMac&&78===e.keyCode&&(t=String.fromCharCode(126))),t},i.prototype.asText=function(){return this.lines.map(function(e){return e.map(function(e){return e[1]}).join("")}).join("")};var a=i.prototype.open;i.prototype.open=function(e){a.call(this,e),this.options.useFocus||(this.element.addEventListener("focus",function(){this.focus(),this.isMobile&&i._textarea.focus()}.bind(this)),this.element.addEventListener("mousedown",function(){this.focus()}.bind(this)),this.element.addEventListener("mousedown",function(e){var t=null!=e.button?+e.button:null!=e.which?e.which-1:null;self.isMSIE&&(t=1===t?0:4===t?1:t),2===t&&(this.element.contentEditable="true",setTimeout(function(){this.element.contentEditable="inherit"}.bind(this),1))}.bind(this),!0))},r.exports=i}.call(t,n,t,e),!(void 0!==r&&(e.exports=r))},function(e,t){!function(e){e.fn.insideOf=function(t){var n=this[0];return n.parentNode?n==t?!0:e(n.parentNode).insideOf(t):!1}}(jQuery)},function(e,t,n){var r;r=function(e,t,n){!function(){function e(){return!0}function n(e,t){this._options=t?t:{},void 0==this._options.includeLocation&&(this._options.includeLocation=!1),this.validateHandler(e),this._handler=e,this.reset()}function r(e){r.super_.call(this,e,{ignoreWhitespace:!0,verbose:!1,enforceEmptyTags:!1})}function i(e,t){this.reset(),this._options=t?t:{},void 0==this._options.ignoreWhitespace&&(this._options.ignoreWhitespace=!1),void 0==this._options.verbose&&(this._options.verbose=!0),void 0==this._options.enforceEmptyTags&&(this._options.enforceEmptyTags=!0),"function"==typeof e&&(this._callback=e)}function o(e,t){var n=function(){};n.prototype=t.prototype,e.super_=t,e.prototype=new n,e.prototype.constructor=e}if(!e()){if(this.Tautologistics){if(this.Tautologistics.NodeHtmlParser)return}else this.Tautologistics={};this.Tautologistics.NodeHtmlParser={},t=this.Tautologistics.NodeHtmlParser}var a={Text:"text",Directive:"directive",Comment:"comment",Script:"script",Style:"style",Tag:"tag"};n._reTrim=/(^\s+|\s+$)/g,n._reTrimComment=/(^\!--|--$)/g,n._reWhitespace=/\s/g,n._reTagName=/^\s*(\/?)\s*([^\s\/]+)/,n._reAttrib=/([^=<>\"\'\s]+)\s*=\s*"([^"]*)"|([^=<>\"\'\s]+)\s*=\s*'([^']*)'|([^=<>\"\'\s]+)\s*=\s*([^'"\s]+)|([^=<>\"\'\s\/]+)/g,n._reTags=/[\<\>]/g,n.prototype.parseComplete=function(e){this.reset(),this.parseChunk(e),this.done()},n.prototype.parseChunk=function(e){this._done&&this.handleError(new Error("Attempted to parse chunk after parsing already done")),this._buffer+=e,this.parseTags()},n.prototype.done=function(){if(!this._done){if(this._done=!0,this._buffer.length){var e=this._buffer;this._buffer="";var t={raw:e,data:this._parseState==a.Text?e:e.replace(n._reTrim,""),type:this._parseState};(this._parseState==a.Tag||this._parseState==a.Script||this._parseState==a.Style)&&(t.name=this.parseTagName(t.data)),this.parseAttribs(t),this._elements.push(t)}this.writeHandler(),this._handler.done()}},n.prototype.reset=function(){this._buffer="",this._done=!1,this._elements=[],this._elementsCurrent=0,this._current=0,this._next=0,this._location={row:0,col:0,charOffset:0,inBuffer:0},this._parseState=a.Text,this._prevTagSep="",this._tagStack=[],this._handler.reset()},n.prototype._options=null,n.prototype._handler=null,n.prototype._buffer=null,n.prototype._done=!1,n.prototype._elements=null,n.prototype._elementsCurrent=0,n.prototype._current=0,n.prototype._next=0,n.prototype._location=null,n.prototype._parseState=a.Text,n.prototype._prevTagSep="",n.prototype._tagStack=null,n.prototype.parseTagAttribs=function(e){for(var t=e.length,n=0;t>n;){var r=e[n++];(r.type==a.Tag||r.type==a.Script||r.type==a.style)&&this.parseAttribs(r)}return e},n.prototype.parseAttribs=function(e){if(e.type==a.Script||e.type==a.Style||e.type==a.Tag){var t=e.data.split(n._reWhitespace,1)[0],r=e.data.substring(t.length);if(!(r.length<1)){var i;for(n._reAttrib.lastIndex=0;i=n._reAttrib.exec(r);)void 0==e.attribs&&(e.attribs={}),"string"==typeof i[1]&&i[1].length?e.attribs[i[1]]=i[2]:"string"==typeof i[3]&&i[3].length?e.attribs[i[3].toString()]=i[4].toString():"string"==typeof i[5]&&i[5].length?e.attribs[i[5]]=i[6]:"string"==typeof i[7]&&i[7].length&&(e.attribs[i[7]]=i[7])}}},n.prototype.parseTagName=function(e){if(null==e||""==e)return"";var t=n._reTagName.exec(e);return t?(t[1]?"/":"")+t[2]:""},n.prototype.parseTags=function(){for(var e=this._buffer.length-1;n._reTags.test(this._buffer);){this._next=n._reTags.lastIndex-1;var t=this._buffer.charAt(this._next),r=this._buffer.substring(this._current,this._next),i={raw:r,data:this._parseState==a.Text?r:r.replace(n._reTrim,""),type:this._parseState},o=this.parseTagName(i.data);if(this._tagStack.length)if(this._tagStack[this._tagStack.length-1]==a.Script){if("/script"==o.toLowerCase())this._tagStack.pop();else if(0!=i.raw.indexOf("!--")&&(i.type=a.Text,this._elements.length&&this._elements[this._elements.length-1].type==a.Text)){var s=this._elements[this._elements.length-1];s.raw=s.data=s.raw+this._prevTagSep+i.raw,i.raw=i.data=""}}else if(this._tagStack[this._tagStack.length-1]==a.Style){if("/style"==o.toLowerCase())this._tagStack.pop();else if(0!=i.raw.indexOf("!--"))if(i.type=a.Text,this._elements.length&&this._elements[this._elements.length-1].type==a.Text){var s=this._elements[this._elements.length-1];""!=i.raw?(s.raw=s.data=s.raw+this._prevTagSep+i.raw,i.raw=i.data=""):s.raw=s.data=s.raw+this._prevTagSep}else""!=i.raw&&(i.raw=i.data=i.raw)}else if(this._tagStack[this._tagStack.length-1]==a.Comment){var l=i.raw.length;if("-"==i.raw.charAt(l-2)&&"-"==i.raw.charAt(l-1)&&">"==t)if(this._tagStack.pop(),this._elements.length&&this._elements[this._elements.length-1].type==a.Comment){var s=this._elements[this._elements.length-1];s.raw=s.data=(s.raw+i.raw).replace(n._reTrimComment,""),i.raw=i.data="",i.type=a.Text}else i.type=a.Comment;else if(i.type=a.Comment,this._elements.length&&this._elements[this._elements.length-1].type==a.Comment){var s=this._elements[this._elements.length-1];s.raw=s.data=s.raw+i.raw+t,i.raw=i.data="",i.type=a.Text}else i.raw=i.data=i.raw+t}if(i.type==a.Tag){i.name=o;var u=o.toLowerCase();if(0==i.raw.indexOf("!--")){i.type=a.Comment,delete i.name;var l=i.raw.length;"-"==i.raw.charAt(l-1)&&"-"==i.raw.charAt(l-2)&&">"==t?i.raw=i.data=i.raw.replace(n._reTrimComment,""):(i.raw+=t,this._tagStack.push(a.Comment))}else 0==i.raw.indexOf("!")||0==i.raw.indexOf("?")?i.type=a.Directive:"script"==u?(i.type=a.Script,"/"!=i.data.charAt(i.data.length-1)&&this._tagStack.push(a.Script)):"/script"==u?i.type=a.Script:"style"==u?(i.type=a.Style,"/"!=i.data.charAt(i.data.length-1)&&this._tagStack.push(a.Style)):"/style"==u&&(i.type=a.Style);i.name&&"/"==i.name.charAt(0)&&(i.data=i.name)}(""!=i.raw||i.type!=a.Text)&&(this._options.includeLocation&&!i.location&&(i.location=this.getLocation(i.type==a.Tag)),this.parseAttribs(i),this._elements.push(i),i.type!=a.Text&&i.type!=a.Comment&&i.type!=a.Directive&&"/"==i.data.charAt(i.data.length-1)&&this._elements.push({raw:"/"+i.name,data:"/"+i.name,name:"/"+i.name,type:i.type})),this._parseState="<"==t?a.Tag:a.Text,this._current=this._next+1,this._prevTagSep=t}this._options.includeLocation&&(this.getLocation(),this._location.row+=this._location.inBuffer,this._location.inBuffer=0,this._location.charOffset=0),this._buffer=this._current<=e?this._buffer.substring(this._current):"",this._current=0,this.writeHandler()},n.prototype.getLocation=function(e){for(var t,n=this._location,r=this._current-(e?1:0),i=e&&0==n.charOffset&&0==this._current;n.charOffset<r;n.charOffset++)t=this._buffer.charAt(n.charOffset),"\n"==t?(n.inBuffer++,n.col=0):"\r"!=t&&n.col++;return{line:n.row+n.inBuffer+1,col:n.col+(i?0:1)}},n.prototype.validateHandler=function(e){if("object"!=typeof e)throw new Error("Handler is not an object");if("function"!=typeof e.reset)throw new Error("Handler method 'reset' is invalid");if("function"!=typeof e.done)throw new Error("Handler method 'done' is invalid");if("function"!=typeof e.writeTag)throw new Error("Handler method 'writeTag' is invalid");if("function"!=typeof e.writeText)throw new Error("Handler method 'writeText' is invalid");if("function"!=typeof e.writeComment)throw new Error("Handler method 'writeComment' is invalid");if("function"!=typeof e.writeDirective)throw new Error("Handler method 'writeDirective' is invalid")},n.prototype.writeHandler=function(e){if(e=!!e,!this._tagStack.length||e)for(;this._elements.length;){var t=this._elements.shift();switch(t.type){case a.Comment:this._handler.writeComment(t);break;case a.Directive:this._handler.writeDirective(t);break;case a.Text:this._handler.writeText(t);break;default:this._handler.writeTag(t)}}},n.prototype.handleError=function(e){if("function"!=typeof this._handler.error)throw e;this._handler.error(e)},o(r,i),r.prototype.done=function(){var e,t={},n=s.getElementsByTagName(function(e){return"rss"==e||"feed"==e},this.dom,!1);if(n.length&&(e=n[0]),e){if("rss"==e.name){t.type="rss",e=e.children[0],t.id="";try{t.title=s.getElementsByTagName("title",e.children,!1)[0].children[0].data}catch(i){}try{t.link=s.getElementsByTagName("link",e.children,!1)[0].children[0].data}catch(i){}try{t.description=s.getElementsByTagName("description",e.children,!1)[0].children[0].data}catch(i){}try{t.updated=new Date(s.getElementsByTagName("lastBuildDate",e.children,!1)[0].children[0].data)}catch(i){}try{t.author=s.getElementsByTagName("managingEditor",e.children,!1)[0].children[0].data}catch(i){}t.items=[],s.getElementsByTagName("item",e.children).forEach(function(e,n,r){var i={};try{i.id=s.getElementsByTagName("guid",e.children,!1)[0].children[0].data}catch(o){}try{i.title=s.getElementsByTagName("title",e.children,!1)[0].children[0].data}catch(o){}try{i.link=s.getElementsByTagName("link",e.children,!1)[0].children[0].data}catch(o){}try{i.description=s.getElementsByTagName("description",e.children,!1)[0].children[0].data}catch(o){}try{i.pubDate=new Date(s.getElementsByTagName("pubDate",e.children,!1)[0].children[0].data)}catch(o){}t.items.push(i)})}else{t.type="atom";try{t.id=s.getElementsByTagName("id",e.children,!1)[0].children[0].data}catch(i){}try{t.title=s.getElementsByTagName("title",e.children,!1)[0].children[0].data}catch(i){}try{t.link=s.getElementsByTagName("link",e.children,!1)[0].attribs.href}catch(i){}try{t.description=s.getElementsByTagName("subtitle",e.children,!1)[0].children[0].data}catch(i){}try{t.updated=new Date(s.getElementsByTagName("updated",e.children,!1)[0].children[0].data)}catch(i){}try{t.author=s.getElementsByTagName("email",e.children,!0)[0].children[0].data}catch(i){}t.items=[],s.getElementsByTagName("entry",e.children).forEach(function(e,n,r){var i={};try{i.id=s.getElementsByTagName("id",e.children,!1)[0].children[0].data}catch(o){}try{i.title=s.getElementsByTagName("title",e.children,!1)[0].children[0].data}catch(o){}try{i.link=s.getElementsByTagName("link",e.children,!1)[0].attribs.href}catch(o){}try{i.description=s.getElementsByTagName("summary",e.children,!1)[0].children[0].data}catch(o){}try{i.pubDate=new Date(s.getElementsByTagName("updated",e.children,!1)[0].children[0].data)}catch(o){}t.items.push(i)})}this.dom=t}r.super_.prototype.done.call(this)},i._emptyTags={area:1,base:1,basefont:1,br:1,col:1,frame:1,hr:1,img:1,input:1,isindex:1,link:1,meta:1,param:1,embed:1},i.reWhitespace=/^\s*$/,i.prototype.dom=null,i.prototype.reset=function(){this.dom=[],this._done=!1,this._tagStack=[],this._tagStack.last=function(){return this.length?this[this.length-1]:null}},i.prototype.done=function(){this._done=!0,this.handleCallback(null)},i.prototype.writeTag=function(e){this.handleElement(e)},i.prototype.writeText=function(e){this._options.ignoreWhitespace&&i.reWhitespace.test(e.data)||this.handleElement(e)},i.prototype.writeComment=function(e){this.handleElement(e)},i.prototype.writeDirective=function(e){this.handleElement(e)},i.prototype.error=function(e){this.handleCallback(e)},i.prototype._options=null,i.prototype._callback=null,i.prototype._done=!1,i.prototype._tagStack=null,i.prototype.handleCallback=function(e){if("function"==typeof this._callback)this._callback(e,this.dom);else if(e)throw e},i.prototype.isEmptyTag=function(e){var t=e.name.toLowerCase();return"/"==t.charAt(0)&&(t=t.substring(1)),this._options.enforceEmptyTags&&!!i._emptyTags[t]},i.prototype.handleElement=function(e){if(this._done&&this.handleCallback(new Error("Writing to the handler after done() called is not allowed without a reset()")),this._options.verbose||(delete e.raw,("tag"==e.type||"script"==e.type||"style"==e.type)&&delete e.data),this._tagStack.last())if(e.type!=a.Text&&e.type!=a.Comment&&e.type!=a.Directive)if("/"==e.name.charAt(0)){var t=e.name.substring(1);if(!this.isEmptyTag(e)){for(var n=this._tagStack.length-1;n>-1&&this._tagStack[n--].name!=t;);if(n>-1||this._tagStack[0].name==t)for(;n<this._tagStack.length-1;)this._tagStack.pop()}}else this._tagStack.last().children||(this._tagStack.last().children=[]),this._tagStack.last().children.push(e),this.isEmptyTag(e)||this._tagStack.push(e);else this._tagStack.last().children||(this._tagStack.last().children=[]),this._tagStack.last().children.push(e);else e.type!=a.Text&&e.type!=a.Comment&&e.type!=a.Directive?"/"!=e.name.charAt(0)&&(this.dom.push(e),this.isEmptyTag(e)||this._tagStack.push(e)):this.dom.push(e)};var s={testElement:function(e,t){if(!t)return!1;for(var n in e)if("tag_name"==n){if("tag"!=t.type&&"script"!=t.type&&"style"!=t.type)return!1;if(!e.tag_name(t.name))return!1}else if("tag_type"==n){if(!e.tag_type(t.type))return!1}else if("tag_contains"==n){if("text"!=t.type&&"comment"!=t.type&&"directive"!=t.type)return!1;if(!e.tag_contains(t.data))return!1}else if(!t.attribs||!e[n](t.attribs[n]))return!1;return!0},getElements:function(e,t,n,r){function i(e){return function(t){return t==e}}if(n=void 0===n||null===n||!!n,r=isNaN(parseInt(r))?-1:parseInt(r),!t)return[];var o,a=[];for(var l in e)"function"!=typeof e[l]&&(e[l]=i(e[l]));if(s.testElement(e,t)&&a.push(t),r>=0&&a.length>=r)return a;if(n&&t.children)o=t.children;else{if(!(t instanceof Array))return a;o=t}for(var u=0;u<o.length&&(a=a.concat(s.getElements(e,o[u],n,r)),!(r>=0&&a.length>=r));u++);return a},getElementById:function(e,t,n){var r=s.getElements({id:e},t,n,1);return r.length?r[0]:null},getElementsByTagName:function(e,t,n,r){return s.getElements({tag_name:e},t,n,r)},getElementsByTagType:function(e,t,n,r){return s.getElements({tag_type:e},t,n,r)}};t.Parser=n,t.DefaultHandler=i,t.RssHandler=r,t.ElementType=a,t.DomUtils=s}()}.call(t,n,t,e),!(void 0!==r&&(e.exports=r))},function(e,t,n){(function(t){(function(){function t(e){this.tokens=[],this.tokens.links={},this.options=e||c.defaults,this.rules=d.normal,this.options.gfm&&(this.options.tables?this.rules=d.tables:this.rules=d.gfm)}function n(e,t){if(this.options=t||c.defaults,this.links=e,this.rules=p.normal,this.renderer=this.options.renderer||new r,this.renderer.options=this.options,!this.links)throw new Error("Tokens array requires a `links` property.");this.options.gfm?this.options.breaks?this.rules=p.breaks:this.rules=p.gfm:this.options.pedantic&&(this.rules=p.pedantic)}function r(e){this.options=e||{}}function i(e){this.tokens=[],this.token=null,this.options=e||c.defaults,this.options.renderer=this.options.renderer||new r,this.renderer=this.options.renderer,this.renderer.options=this.options}function o(e,t){return e.replace(t?/&/g:/&(?!#?\w+;)/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}function a(e){return e.replace(/&([#\w]+);/g,function(e,t){return t=t.toLowerCase(),"colon"===t?":":"#"===t.charAt(0)?"x"===t.charAt(1)?String.fromCharCode(parseInt(t.substring(2),16)):String.fromCharCode(+t.substring(1)):""})}function s(e,t){return e=e.source,t=t||"",function n(r,i){return r?(i=i.source||i,i=i.replace(/(^|[^\[])\^/g,"$1"),e=e.replace(r,i),n):new RegExp(e,t)}}function l(){}function u(e){for(var t,n,r=1;r<arguments.length;r++){t=arguments[r];for(n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e}function c(e,n,r){if(r||"function"==typeof n){r||(r=n,n=null),n=u({},c.defaults,n||{});var a,s,l=n.highlight,d=0;try{a=t.lex(e,n)}catch(p){return r(p)}s=a.length;var f=function(e){if(e)return n.highlight=l,r(e);var t;try{t=i.parse(a,n)}catch(o){e=o}return n.highlight=l,e?r(e):r(null,t)};if(!l||l.length<3)return f();if(delete n.highlight,!s)return f();for(;d<a.length;d++)!function(e){return"code"!==e.type?--s||f():l(e.text,e.lang,function(t,n){return t?f(t):null==n||n===e.text?--s||f():(e.text=n,e.escaped=!0,void(--s||f()))})}(a[d])}else try{return n&&(n=u({},c.defaults,n)),i.parse(t.lex(e,n),n)}catch(p){if(p.message+="\nPlease report this to https://github.com/chjj/marked.",(n||c.defaults).silent)return"<p>An error occured:</p><pre>"+o(p.message+"",!0)+"</pre>";throw p}}var d={newline:/^\n+/,code:/^( {4}[^\n]+\n*)+/,fences:l,hr:/^( *[-*_]){3,} *(?:\n+|$)/,heading:/^ *(#{1,6}) *([^\n]+?) *#* *(?:\n+|$)/,nptable:l,lheading:/^([^\n]+)\n *(=|-){2,} *(?:\n+|$)/,blockquote:/^( *>[^\n]+(\n(?!def)[^\n]+)*\n*)+/,list:/^( *)(bull) [\s\S]+?(?:hr|def|\n{2,}(?! )(?!\1bull )\n*|\s*$)/,html:/^ *(?:comment *(?:\n|\s*$)|closed *(?:\n{2,}|\s*$)|closing *(?:\n{2,}|\s*$))/,def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +["(]([^\n]+)[")])? *(?:\n+|$)/,table:l,paragraph:/^((?:[^\n]+\n?(?!hr|heading|lheading|blockquote|tag|def))+)\n*/,text:/^[^\n]+/};d.bullet=/(?:[*+-]|\d+\.)/,d.item=/^( *)(bull) [^\n]*(?:\n(?!\1bull )[^\n]*)*/,d.item=s(d.item,"gm")(/bull/g,d.bullet)(),d.list=s(d.list)(/bull/g,d.bullet)("hr","\\n+(?=\\1?(?:[-*_] *){3,}(?:\\n+|$))")("def","\\n+(?="+d.def.source+")")(),d.blockquote=s(d.blockquote)("def",d.def)(),d._tag="(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:/|[^\\w\\s@]*@)\\b",d.html=s(d.html)("comment",/<!--[\s\S]*?-->/)("closed",/<(tag)[\s\S]+?<\/\1>/)("closing",/<tag(?:"[^"]*"|'[^']*'|[^'">])*?>/)(/tag/g,d._tag)(),d.paragraph=s(d.paragraph)("hr",d.hr)("heading",d.heading)("lheading",d.lheading)("blockquote",d.blockquote)("tag","<"+d._tag)("def",d.def)(),d.normal=u({},d),d.gfm=u({},d.normal,{fences:/^ *(`{3,}|~{3,}) *(\S+)? *\n([\s\S]+?)\s*\1 *(?:\n+|$)/,paragraph:/^/}),d.gfm.paragraph=s(d.paragraph)("(?!","(?!"+d.gfm.fences.source.replace("\\1","\\2")+"|"+d.list.source.replace("\\1","\\3")+"|")(),d.tables=u({},d.gfm,{nptable:/^ *(\S.*\|.*)\n *([-:]+ *\|[-| :]*)\n((?:.*\|.*(?:\n|$))*)\n*/,table:/^ *\|(.+)\n *\|( *[-:]+[-| :]*)\n((?: *\|.*(?:\n|$))*)\n*/}),t.rules=d,t.lex=function(e,n){var r=new t(n);return r.lex(e)},t.prototype.lex=function(e){return e=e.replace(/\r\n|\r/g,"\n").replace(/\t/g,"    ").replace(/\u00a0/g," ").replace(/\u2424/g,"\n"),this.token(e,!0)},t.prototype.token=function(e,t,n){for(var r,i,o,a,s,l,u,c,p,e=e.replace(/^ +$/gm,"");e;)if((o=this.rules.newline.exec(e))&&(e=e.substring(o[0].length),o[0].length>1&&this.tokens.push({type:"space"})),o=this.rules.code.exec(e))e=e.substring(o[0].length),o=o[0].replace(/^ {4}/gm,""),this.tokens.push({type:"code",text:this.options.pedantic?o:o.replace(/\n+$/,"")});else if(o=this.rules.fences.exec(e))e=e.substring(o[0].length),this.tokens.push({type:"code",lang:o[2],text:o[3]});else if(o=this.rules.heading.exec(e))e=e.substring(o[0].length),this.tokens.push({type:"heading",depth:o[1].length,text:o[2]});else if(t&&(o=this.rules.nptable.exec(e))){for(e=e.substring(o[0].length),l={type:"table",header:o[1].replace(/^ *| *\| *$/g,"").split(/ *\| */),align:o[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:o[3].replace(/\n$/,"").split("\n")},c=0;c<l.align.length;c++)/^ *-+: *$/.test(l.align[c])?l.align[c]="right":/^ *:-+: *$/.test(l.align[c])?l.align[c]="center":/^ *:-+ *$/.test(l.align[c])?l.align[c]="left":l.align[c]=null;for(c=0;c<l.cells.length;c++)l.cells[c]=l.cells[c].split(/ *\| */);this.tokens.push(l)}else if(o=this.rules.lheading.exec(e))e=e.substring(o[0].length),this.tokens.push({type:"heading",depth:"="===o[2]?1:2,text:o[1]});else if(o=this.rules.hr.exec(e))e=e.substring(o[0].length),this.tokens.push({type:"hr"});else if(o=this.rules.blockquote.exec(e))e=e.substring(o[0].length),this.tokens.push({type:"blockquote_start"}),o=o[0].replace(/^ *> ?/gm,""),this.token(o,t,!0),this.tokens.push({type:"blockquote_end"});else if(o=this.rules.list.exec(e)){for(e=e.substring(o[0].length),a=o[2],this.tokens.push({type:"list_start",ordered:a.length>1}),o=o[0].match(this.rules.item),r=!1,p=o.length,c=0;p>c;c++)l=o[c],u=l.length,l=l.replace(/^ *([*+-]|\d+\.) +/,""),~l.indexOf("\n ")&&(u-=l.length,l=this.options.pedantic?l.replace(/^ {1,4}/gm,""):l.replace(new RegExp("^ {1,"+u+"}","gm"),"")),this.options.smartLists&&c!==p-1&&(s=d.bullet.exec(o[c+1])[0],a===s||a.length>1&&s.length>1||(e=o.slice(c+1).join("\n")+e,c=p-1)),i=r||/\n\n(?!\s*$)/.test(l),c!==p-1&&(r="\n"===l.charAt(l.length-1),i||(i=r)),this.tokens.push({type:i?"loose_item_start":"list_item_start"}),this.token(l,!1,n),this.tokens.push({type:"list_item_end"});this.tokens.push({type:"list_end"})}else if(o=this.rules.html.exec(e))e=e.substring(o[0].length),this.tokens.push({type:this.options.sanitize?"paragraph":"html",pre:"pre"===o[1]||"script"===o[1]||"style"===o[1],text:o[0]});else if(!n&&t&&(o=this.rules.def.exec(e)))e=e.substring(o[0].length),this.tokens.links[o[1].toLowerCase()]={href:o[2],title:o[3]};else if(t&&(o=this.rules.table.exec(e))){for(e=e.substring(o[0].length),l={type:"table",header:o[1].replace(/^ *| *\| *$/g,"").split(/ *\| */),align:o[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:o[3].replace(/(?: *\| *)?\n$/,"").split("\n")},c=0;c<l.align.length;c++)/^ *-+: *$/.test(l.align[c])?l.align[c]="right":/^ *:-+: *$/.test(l.align[c])?l.align[c]="center":/^ *:-+ *$/.test(l.align[c])?l.align[c]="left":l.align[c]=null;for(c=0;c<l.cells.length;c++)l.cells[c]=l.cells[c].replace(/^ *\| *| *\| *$/g,"").split(/ *\| */);this.tokens.push(l)}else if(t&&(o=this.rules.paragraph.exec(e)))e=e.substring(o[0].length),this.tokens.push({type:"paragraph",text:"\n"===o[1].charAt(o[1].length-1)?o[1].slice(0,-1):o[1]});else if(o=this.rules.text.exec(e))e=e.substring(o[0].length),this.tokens.push({type:"text",text:o[0]});else if(e)throw new Error("Infinite loop on byte: "+e.charCodeAt(0));return this.tokens};var p={escape:/^\\([\\`*{}\[\]()#+\-.!_>])/,
autolink:/^<([^ >]+(@|:\/)[^ >]+)>/,url:l,tag:/^<!--[\s\S]*?-->|^<\/?\w+(?:"[^"]*"|'[^']*'|[^'">])*?>/,link:/^!?\[(inside)\]\(href\)/,reflink:/^!?\[(inside)\]\s*\[([^\]]*)\]/,nolink:/^!?\[((?:\[[^\]]*\]|[^\[\]])*)\]/,strong:/^__([\s\S]+?)__(?!_)|^\*\*([\s\S]+?)\*\*(?!\*)/,em:/^\b_((?:__|[\s\S])+?)_\b|^\*((?:\*\*|[\s\S])+?)\*(?!\*)/,code:/^(`+)\s*([\s\S]*?[^`])\s*\1(?!`)/,br:/^ {2,}\n(?!\s*$)/,del:l,text:/^[\s\S]+?(?=[\\<!\[_*`]| {2,}\n|$)/};p._inside=/(?:\[[^\]]*\]|[^\[\]]|\](?=[^\[]*\]))*/,p._href=/\s*<?([\s\S]*?)>?(?:\s+['"]([\s\S]*?)['"])?\s*/,p.link=s(p.link)("inside",p._inside)("href",p._href)(),p.reflink=s(p.reflink)("inside",p._inside)(),p.normal=u({},p),p.pedantic=u({},p.normal,{strong:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,em:/^_(?=\S)([\s\S]*?\S)_(?!_)|^\*(?=\S)([\s\S]*?\S)\*(?!\*)/}),p.gfm=u({},p.normal,{escape:s(p.escape)("])","~|])")(),url:/^(https?:\/\/[^\s<]+[^<.,:;"')\]\s])/,del:/^~~(?=\S)([\s\S]*?\S)~~/,text:s(p.text)("]|","~]|")("|","|https?://|")()}),p.breaks=u({},p.gfm,{br:s(p.br)("{2,}","*")(),text:s(p.gfm.text)("{2,}","*")()}),n.rules=p,n.output=function(e,t,r){var i=new n(t,r);return i.output(e)},n.prototype.output=function(e){for(var t,n,r,i,a="";e;)if(i=this.rules.escape.exec(e))e=e.substring(i[0].length),a+=i[1];else if(i=this.rules.autolink.exec(e))e=e.substring(i[0].length),"@"===i[2]?(n=":"===i[1].charAt(6)?this.mangle(i[1].substring(7)):this.mangle(i[1]),r=this.mangle("mailto:")+n):(n=o(i[1]),r=n),a+=this.renderer.link(r,null,n);else if(this.inLink||!(i=this.rules.url.exec(e))){if(i=this.rules.tag.exec(e))!this.inLink&&/^<a /i.test(i[0])?this.inLink=!0:this.inLink&&/^<\/a>/i.test(i[0])&&(this.inLink=!1),e=e.substring(i[0].length),a+=this.options.sanitize?o(i[0]):i[0];else if(i=this.rules.link.exec(e))e=e.substring(i[0].length),this.inLink=!0,a+=this.outputLink(i,{href:i[2],title:i[3]}),this.inLink=!1;else if((i=this.rules.reflink.exec(e))||(i=this.rules.nolink.exec(e))){if(e=e.substring(i[0].length),t=(i[2]||i[1]).replace(/\s+/g," "),t=this.links[t.toLowerCase()],!t||!t.href){a+=i[0].charAt(0),e=i[0].substring(1)+e;continue}this.inLink=!0,a+=this.outputLink(i,t),this.inLink=!1}else if(i=this.rules.strong.exec(e))e=e.substring(i[0].length),a+=this.renderer.strong(this.output(i[2]||i[1]));else if(i=this.rules.em.exec(e))e=e.substring(i[0].length),a+=this.renderer.em(this.output(i[2]||i[1]));else if(i=this.rules.code.exec(e))e=e.substring(i[0].length),a+=this.renderer.codespan(o(i[2],!0));else if(i=this.rules.br.exec(e))e=e.substring(i[0].length),a+=this.renderer.br();else if(i=this.rules.del.exec(e))e=e.substring(i[0].length),a+=this.renderer.del(this.output(i[1]));else if(i=this.rules.text.exec(e))e=e.substring(i[0].length),a+=o(this.smartypants(i[0]));else if(e)throw new Error("Infinite loop on byte: "+e.charCodeAt(0))}else e=e.substring(i[0].length),n=o(i[1]),r=n,a+=this.renderer.link(r,null,n);return a},n.prototype.outputLink=function(e,t){var n=o(t.href),r=t.title?o(t.title):null;return"!"!==e[0].charAt(0)?this.renderer.link(n,r,this.output(e[1])):this.renderer.image(n,r,o(e[1]))},n.prototype.smartypants=function(e){return this.options.smartypants?e.replace(/--/g,"—").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1‘").replace(/'/g,"’").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1“").replace(/"/g,"”").replace(/\.{3}/g,"…"):e},n.prototype.mangle=function(e){for(var t,n="",r=e.length,i=0;r>i;i++)t=e.charCodeAt(i),Math.random()>.5&&(t="x"+t.toString(16)),n+="&#"+t+";";return n},r.prototype.code=function(e,t,n){if(this.options.highlight){var r=this.options.highlight(e,t);null!=r&&r!==e&&(n=!0,e=r)}return t?'<pre><code class="'+this.options.langPrefix+o(t,!0)+'">'+(n?e:o(e,!0))+"\n</code></pre>\n":"<pre><code>"+(n?e:o(e,!0))+"\n</code></pre>"},r.prototype.blockquote=function(e){return"<blockquote>\n"+e+"</blockquote>\n"},r.prototype.html=function(e){return e},r.prototype.heading=function(e,t,n){return"<h"+t+' id="'+this.options.headerPrefix+n.toLowerCase().replace(/[^\w]+/g,"-")+'">'+e+"</h"+t+">\n"},r.prototype.hr=function(){return this.options.xhtml?"<hr/>\n":"<hr>\n"},r.prototype.list=function(e,t){var n=t?"ol":"ul";return"<"+n+">\n"+e+"</"+n+">\n"},r.prototype.listitem=function(e){return"<li>"+e+"</li>\n"},r.prototype.paragraph=function(e){return"<p>"+e+"</p>\n"},r.prototype.table=function(e,t){return"<table>\n<thead>\n"+e+"</thead>\n<tbody>\n"+t+"</tbody>\n</table>\n"},r.prototype.tablerow=function(e){return"<tr>\n"+e+"</tr>\n"},r.prototype.tablecell=function(e,t){var n=t.header?"th":"td",r=t.align?"<"+n+' style="text-align:'+t.align+'">':"<"+n+">";return r+e+"</"+n+">\n"},r.prototype.strong=function(e){return"<strong>"+e+"</strong>"},r.prototype.em=function(e){return"<em>"+e+"</em>"},r.prototype.codespan=function(e){return"<code>"+e+"</code>"},r.prototype.br=function(){return this.options.xhtml?"<br/>":"<br>"},r.prototype.del=function(e){return"<del>"+e+"</del>"},r.prototype.link=function(e,t,n){if(this.options.sanitize){try{var r=decodeURIComponent(a(e)).replace(/[^\w:]/g,"").toLowerCase()}catch(i){return""}if(0===r.indexOf("javascript:"))return""}var o='<a href="'+e+'"';return t&&(o+=' title="'+t+'"'),o+=">"+n+"</a>"},r.prototype.image=function(e,t,n){var r='<img src="'+e+'" alt="'+n+'"';return t&&(r+=' title="'+t+'"'),r+=this.options.xhtml?"/>":">"},i.parse=function(e,t,n){var r=new i(t,n);return r.parse(e)},i.prototype.parse=function(e){this.inline=new n(e.links,this.options,this.renderer),this.tokens=e.reverse();for(var t="";this.next();)t+=this.tok();return t},i.prototype.next=function(){return this.token=this.tokens.pop()},i.prototype.peek=function(){return this.tokens[this.tokens.length-1]||0},i.prototype.parseText=function(){for(var e=this.token.text;"text"===this.peek().type;)e+="\n"+this.next().text;return this.inline.output(e)},i.prototype.tok=function(){switch(this.token.type){case"space":return"";case"hr":return this.renderer.hr();case"heading":return this.renderer.heading(this.inline.output(this.token.text),this.token.depth,this.token.text);case"code":return this.renderer.code(this.token.text,this.token.lang,this.token.escaped);case"table":var e,t,n,r,i,o="",a="";for(n="",e=0;e<this.token.header.length;e++)r={header:!0,align:this.token.align[e]},n+=this.renderer.tablecell(this.inline.output(this.token.header[e]),{header:!0,align:this.token.align[e]});for(o+=this.renderer.tablerow(n),e=0;e<this.token.cells.length;e++){for(t=this.token.cells[e],n="",i=0;i<t.length;i++)n+=this.renderer.tablecell(this.inline.output(t[i]),{header:!1,align:this.token.align[i]});a+=this.renderer.tablerow(n)}return this.renderer.table(o,a);case"blockquote_start":for(var a="";"blockquote_end"!==this.next().type;)a+=this.tok();return this.renderer.blockquote(a);case"list_start":for(var a="",s=this.token.ordered;"list_end"!==this.next().type;)a+=this.tok();return this.renderer.list(a,s);case"list_item_start":for(var a="";"list_item_end"!==this.next().type;)a+="text"===this.token.type?this.parseText():this.tok();return this.renderer.listitem(a);case"loose_item_start":for(var a="";"list_item_end"!==this.next().type;)a+=this.tok();return this.renderer.listitem(a);case"html":var l=this.token.pre||this.options.pedantic?this.token.text:this.inline.output(this.token.text);return this.renderer.html(l);case"paragraph":return this.renderer.paragraph(this.inline.output(this.token.text));case"text":return this.renderer.paragraph(this.parseText())}},l.exec=l,c.options=c.setOptions=function(e){return u(c.defaults,e),c},c.defaults={gfm:!0,tables:!0,breaks:!1,pedantic:!1,sanitize:!1,smartLists:!1,silent:!1,highlight:null,langPrefix:"lang-",smartypants:!1,headerPrefix:"",renderer:new r,xhtml:!1},c.Parser=i,c.parser=i.parse,c.Renderer=r,c.Lexer=t,c.lexer=t.lex,c.InlineLexer=n,c.inlineLexer=n.output,c.parse=c,e.exports=c}).call(function(){return this||("undefined"!=typeof window?window:t)}())}).call(t,function(){return this}())},function(e,t){!function(e){"use strict";function t(t,o,a,s){function l(){c.handshake(),p||(a(c),p=!0)}if(a=a||i,s=s||{},!o)throw new Error("Stuff: el not found.");var u=document.createElement("iframe"),c=new n(u,{el:o});c.config=s,e.addEventListener("message",c.messageHandler.bind(c),!1),r.push(u),u.setAttribute("scrolling","no"),u.setAttribute("src",t);for(var d in s.callbacks)s.callbacks.hasOwnProperty(d)&&c.on(d,s.callbacks[d].bind(c));var p=!1;u.addEventListener("load",l,!1),o.appendChild(u)}function n(e,t){if(this.iframe=e,this.callbacks={once:{},always:{}},t.sandbox===!0)this.sandbox="allow-scripts allow-same-origin";else if("string"==typeof t.sandbox){var n=t.sandbox;-1===n.indexOf("allow-scripts")&&(n+=" allow-scripts"),-1===n.indexOf("allow-same-origin")&&(n+=" allow-same-origin"),this.sandbox=n}else this.sandbox=null;this.secret=Math.ceil(999999999*Math.random())+1}var r=[],i=function(){};t.clear=function(){r.forEach(function(e){var t=e.parentElement;t&&t.removeChild(e)}),r=[]},n.prototype={trigger:function(e,t){var n,r,i=this;if(n=this.callbacks.once[e],void 0!==n&&n.length>0){var o=n.shift();o.call(o.thisArg||this,t)}r=this.callbacks.always[e],r&&r.forEach(function(e){e.call(e.thisArg||i,t)})},messageHandler:function(e){var t;try{t=JSON.parse(e.data)}catch(n){return}if(t.secret===this.secret){var r=t.data,i=t.type;this.trigger(i,r)}},post:function(e,t){this.iframe.contentWindow.postMessage(JSON.stringify({type:e,data:t,secret:this.secret}),"*")},evaljs:function(t,n,r){var o=function(t){var r,o=t.error,a=o;o&&(r=e[o.__errorType__])&&(a=new r(o.message),a.stack=o.stack,a.type=o.type,a.arguments=o.arguments),(n||i).call(this,a,t.result)};o.thisArg=r,this.once("evaljs",o),this.post("evaljs",t)},transformHTTPToHTTPS:function(e){for(var t=["googleapis.com","herokuapp.com"],n=["s3.amazonaws.com","cdnjs.cloudflare.com","code.jquery.com","www.codecademy.com","www.google.com","bitly.com","bit.ly","js.live.net","firebase.github.io","www.parsecdn.com","connect.soundcloud.com","goog.gl","dl.dropboxusercontent.com","i.imgur.com","api.npr.org"],r=0;r<n.length;r++){var i=n[r];e=e.replace(new RegExp("http://"+i,"g"),"https://"+i)}for(var r=0;r<t.length;r++){var i=t[r],o=new RegExp("http://[^.]*."+i,"g");e=e.replace(o,function(e){return e.replace("http:","https:")}),e=e.replace(new RegExp("http://"+i,"g"),"https://"+i)}return e},load:function(e,t,n){t=t||i,t.thisArg=n,e=this.transformHTTPToHTTPS(e),this.once("load",t),this.post("disableFunctions",this.config.disabledFunctions||[]),this.post("load",e)},html:function(e,t){e=e||i,e.thisArg=t,this.once("html",e),this.post("html",null)},handshake:function(){this.post("handshake",this.sandbox)},once:function(e,t,n){t=t||i,t.thisArg=n,this.callbacks.once[e]=this._pushOrCreate(this.callbacks.once[e],t)},on:function(e,t,n){t=t||i,t.thisArg=n,this.callbacks.always[e]=this._pushOrCreate(this.callbacks.always[e],t)},_pushOrCreate:function(e,t){return e?e.push(t):e=[t],e},off:function(e,t){var n=this.callbacks[e];if(n){var r=n.indexOf(t);-1!==r&&n.splice(r,1)}else this.callbacks[e]=[]}},t.Context=n,e.stuff=t}(this)},function(e,t,n){(function(t){(function(){"use strict";function t(){this._events=this._events||{}}function n(e){var r=this;if(!(this instanceof n))return new n(arguments[0],arguments[1],arguments[2]);t.call(this),"number"==typeof e&&(e={cols:arguments[0],rows:arguments[1],handler:arguments[2]}),e=e||{},d(p(n.defaults),function(t){null==e[t]&&(e[t]=n.options[t],n[t]!==n.defaults[t]&&(e[t]=n[t])),r[t]=e[t]}),8===e.colors.length?e.colors=e.colors.concat(n._colors.slice(8)):16===e.colors.length?e.colors=e.colors.concat(n._colors.slice(16)):10===e.colors.length?e.colors=e.colors.slice(0,-2).concat(n._colors.slice(8,-2),e.colors.slice(-2)):18===e.colors.length&&(e.colors=e.colors.slice(0,-2).concat(n._colors.slice(16,-2),e.colors.slice(-2))),this.colors=e.colors,this.options=e,this.parent=e.body||e.parent||(f?f.getElementsByTagName("body")[0]:null),this.cols=e.cols||e.geometry[0],this.rows=e.rows||e.geometry[1],e.handler&&this.on("data",e.handler),this.ybase=0,this.ydisp=0,this.x=0,this.y=0,this.cursorState=0,this.cursorHidden=!1,this.convertEol,this.state=0,this.queue="",this.scrollTop=0,this.scrollBottom=this.rows-1,this.applicationKeypad=!1,this.applicationCursor=!1,this.originMode=!1,this.insertMode=!1,this.wraparoundMode=!1,this.normal=null,this.prefixMode=!1,this.selectMode=!1,this.visualMode=!1,this.searchMode=!1,this.searchDown,this.entry="",this.entryPrefix="Search: ",this._real,this._selected,this._textarea,this.charset=null,this.gcharset=null,this.glevel=0,this.charsets=[null],this.decLocator,this.x10Mouse,this.vt200Mouse,this.vt300Mouse,this.normalMouse,this.mouseEvents,this.sendFocus,this.utfMouse,this.sgrMouse,this.urxvtMouse,this.element,this.children,this.refreshStart,this.refreshEnd,this.savedX,this.savedY,this.savedCols,this.readable=!0,this.writable=!0,this.defAttr=131840,this.curAttr=this.defAttr,this.params=[],this.currentParam=0,this.prefix="",this.postfix="",this.lines=[];for(var i=this.rows;i--;)this.lines.push(this.blankLine());this.tabs,this.setupStops()}function r(e,t,n,r){e.addEventListener(t,n,r||!1)}function i(e,t,n,r){e.removeEventListener(t,n,r||!1)}function o(e){return e.preventDefault&&e.preventDefault(),e.returnValue=!1,e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0,!1}function a(e,t){function n(){this.constructor=e}n.prototype=t.prototype,e.prototype=new n}function s(e){var t=e.getElementsByTagName("body")[0],n=e.createElement("span");n.innerHTML="hello world",t.appendChild(n);var r=n.scrollWidth;n.style.fontWeight="bold";var i=n.scrollWidth;return t.removeChild(n),r!==i}function l(e,t){for(var n=e.length;n--;)if(e[n]===t)return n;return-1}function u(e){return"＀">=e?!1:e>="！"&&"ﾾ">=e||e>="ￂ"&&"ￇ">=e||e>="ￊ"&&"ￏ">=e||e>="ￒ"&&"ￗ">=e||e>="ￚ"&&"ￜ">=e||e>="￠"&&"￦">=e||e>="￨"&&"￮">=e}function c(e,t,r){var i=e<<16|t<<8|r;if(null!=c._cache[i])return c._cache[i];for(var o,a,s,l,u,d=1/0,p=-1,f=0;f<n.vcolors.length;f++){if(o=n.vcolors[f],a=o[0],s=o[1],l=o[2],u=c.distance(e,t,r,a,s,l),0===u){p=f;break}d>u&&(d=u,p=f)}return c._cache[i]=p}function d(e,t,n){if(e.forEach)return e.forEach(t,n);for(var r=0;r<e.length;r++)t.call(n,e[r],r,e)}function p(e){if(Object.keys)return Object.keys(e);var t,n=[];for(t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.push(t);return n}var f=this.document;t.prototype.addListener=function(e,t){this._events[e]=this._events[e]||[],this._events[e].push(t)},t.prototype.on=t.prototype.addListener,t.prototype.removeListener=function(e,t){if(this._events[e])for(var n=this._events[e],r=n.length;r--;)if(n[r]===t||n[r].listener===t)return void n.splice(r,1)},t.prototype.off=t.prototype.removeListener,t.prototype.removeAllListeners=function(e){this._events[e]&&delete this._events[e]},t.prototype.once=function(e,t){function n(){var r=Array.prototype.slice.call(arguments);return this.removeListener(e,n),t.apply(this,r)}return n.listener=t,this.on(e,n)},t.prototype.emit=function(e){if(this._events[e])for(var t=Array.prototype.slice.call(arguments,1),n=this._events[e],r=n.length,i=0;r>i;i++)n[i].apply(this,t)},t.prototype.listeners=function(e){return this._events[e]=this._events[e]||[]};var h=0,m=1,g=2,v=3,y=4,_=5,b=6;a(n,t),n.prototype.eraseAttr=function(){return-512&this.defAttr|511&this.curAttr},n.tangoColors=["#2e3436","#cc0000","#4e9a06","#c4a000","#3465a4","#75507b","#06989a","#d3d7cf","#555753","#ef2929","#8ae234","#fce94f","#729fcf","#ad7fa8","#34e2e2","#eeeeec"],n.xtermColors=["#000000","#cd0000","#00cd00","#cdcd00","#0000ee","#cd00cd","#00cdcd","#e5e5e5","#7f7f7f","#ff0000","#00ff00","#ffff00","#5c5cff","#ff00ff","#00ffff","#ffffff"],n.colors=function(){function e(e,n,r){i.push("#"+t(e)+t(n)+t(r))}function t(e){return e=e.toString(16),e.length<2?"0"+e:e}var r,i=n.tangoColors.slice(),o=[0,95,135,175,215,255];for(r=0;216>r;r++)e(o[r/36%6|0],o[r/6%6|0],o[r%6]);for(r=0;24>r;r++)o=8+10*r,e(o,o,o);return i}(),n.colors[256]="#000000",n.colors[257]="#f0f0f0",n._colors=n.colors.slice(),n.vcolors=function(){for(var e,t=[],r=n.colors,i=0;256>i;i++)e=parseInt(r[i].substring(1),16),t.push([e>>16&255,e>>8&255,255&e]);return t}(),n.defaults={colors:n.colors,convertEol:!1,termName:"xterm",geometry:[80,24],cursorBlink:!0,visualBell:!1,popOnBell:!1,scrollback:1e3,screenKeys:!1,debug:!1,useStyle:!1},n.options={},d(p(n.defaults),function(e){n[e]=n.defaults[e],n.options[e]=n.defaults[e]}),n.focus=null,n.prototype.focus=function(){n.focus!==this&&(n.focus&&n.focus.blur(),this.sendFocus&&this.send("[I"),this.showCursor(),n.focus=this)},n.prototype.blur=function(){n.focus===this&&(this.cursorState=0,this.refresh(this.y,this.y),this.sendFocus&&this.send("[O"),n.focus=null)},n.prototype.initGlobal=function(){var e=this.document;n._boundDocs=n._boundDocs||[],~l(n._boundDocs,e)||(n._boundDocs.push(e),n.bindPaste(e),n.bindKeys(e),n.bindCopy(e),this.isMobile&&this.fixMobile(e),this.useStyle&&n.insertStyle(e,this.colors[256],this.colors[257]))},n.bindPaste=function(e){var t=e.defaultView;r(t,"paste",function(e){var t=n.focus;if(t)return e.clipboardData?t.send(e.clipboardData.getData("text/plain")):t.context.clipboardData&&t.send(t.context.clipboardData.getData("Text")),t.element.contentEditable="inherit",o(e)})},n.bindKeys=function(e){r(e,"keydown",function(e){if(n.focus){var t=e.target||e.srcElement;if(t)return t===n.focus.element||t===n.focus.context||t===n.focus.document||t===n.focus.body||t===n._textarea||t===n.focus.parent?n.focus.keyDown(e):void 0}},!0),r(e,"keypress",function(e){if(n.focus){var t=e.target||e.srcElement;if(t)return t===n.focus.element||t===n.focus.context||t===n.focus.document||t===n.focus.body||t===n._textarea||t===n.focus.parent?n.focus.keyPress(e):void 0}},!0),r(e,"mousedown",function(e){if(n.focus){var t=e.target||e.srcElement;if(t){do if(t===n.focus.element)return;while(t=t.parentNode);n.focus.blur()}}})},n.bindCopy=function(e){var t=e.defaultView;r(t,"copy",function(e){var t=n.focus;if(t&&t._selected){var r=t.getCopyTextarea(),i=t.grabText(t._selected.x1,t._selected.x2,t._selected.y1,t._selected.y2);t.emit("copy",i),r.focus(),r.textContent=i,r.value=i,r.setSelectionRange(0,i.length),w(function(){t.element.focus(),t.focus()},1)}})},n.prototype.fixMobile=function(e){var t=this,i=e.createElement("textarea");i.style.position="absolute",i.style.left="-32000px",i.style.top="-32000px",i.style.width="0px",i.style.height="0px",i.style.opacity="0",i.style.backgroundColor="transparent",i.style.borderStyle="none",i.style.outlineStyle="none",i.autocapitalize="none",i.autocorrect="off",e.getElementsByTagName("body")[0].appendChild(i),n._textarea=i,w(function(){i.focus()},1e3),this.isAndroid&&r(i,"change",function(){var e=i.textContent||i.value;i.value="",i.textContent="",t.send(e+"\r")})},n.insertStyle=function(e,t,n){var r=e.getElementById("term-style");if(!r){var i=e.getElementsByTagName("head")[0];if(i){var r=e.createElement("style");r.id="term-style",r.innerHTML=".terminal {\n  float: left;\n  border: "+t+' solid 5px;\n  font-family: "DejaVu Sans Mono", "Liberation Mono", monospace;\n  font-size: 11px;\n  color: '+n+";\n  background: "+t+";\n}\n\n.terminal-cursor {\n  color: "+t+";\n  background: "+n+";\n}\n",i.insertBefore(r,i.firstChild)}}},n.prototype.open=function(e){var t,i=this,o=0;if(this.parent=e||this.parent,!this.parent)throw new Error("Terminal requires a parent element.");for(this.context=this.parent.ownerDocument.defaultView,this.document=this.parent.ownerDocument,this.body=this.document.getElementsByTagName("body")[0],this.context.navigator&&this.context.navigator.userAgent&&(this.isMac=!!~this.context.navigator.userAgent.indexOf("Mac"),this.isIpad=!!~this.context.navigator.userAgent.indexOf("iPad"),this.isIphone=!!~this.context.navigator.userAgent.indexOf("iPhone"),this.isAndroid=!!~this.context.navigator.userAgent.indexOf("Android"),this.isMobile=this.isIpad||this.isIphone||this.isAndroid,this.isMSIE=!!~this.context.navigator.userAgent.indexOf("MSIE")),this.element=this.document.createElement("div"),this.element.className="terminal",this.element.style.outline="none",this.element.setAttribute("tabindex",0),this.element.setAttribute("spellcheck","false"),this.element.style.backgroundColor=this.colors[256],this.element.style.color=this.colors[257],this.children=[];o<this.rows;o++)t=this.document.createElement("div"),this.element.appendChild(t),this.children.push(t);this.parent.appendChild(this.element),this.refresh(0,this.rows-1),"useEvents"in this.options&&!this.options.useEvents||this.initGlobal(),"useFocus"in this.options&&!this.options.useFocus||(this.focus(),this.startBlink(),r(this.element,"focus",function(){i.focus(),i.isMobile&&n._textarea.focus()}),r(this.element,"mousedown",function(){i.focus()}),r(this.element,"mousedown",function(e){var t=null!=e.button?+e.button:null!=e.which?e.which-1:null;i.isMSIE&&(t=1===t?0:4===t?1:t),2===t&&(i.element.contentEditable="true",w(function(){i.element.contentEditable="inherit"},1))},!0)),"useMouse"in this.options&&!this.options.useMouse||this.bindMouse(),"useFocus"in this.options&&!this.options.useFocus||w(function(){i.element.focus()},100),null==n.brokenBold&&(n.brokenBold=s(this.document))},n.prototype.bindMouse=function(){function e(e){var t,n;if(t=s(e),n=l(e))switch(a(t,n),e.type){case"mousedown":d=t;break;case"mouseup":d=32;break;case p:}}function t(e){var t,n=d;t=l(e),t&&(n+=32,a(n,t))}function n(e,t){if(c.utfMouse){if(2047===t)return e.push(0);127>t?e.push(t):(t>2047&&(t=2047),e.push(192|t>>6),e.push(128|63&t))}else{if(255===t)return e.push(0);t>127&&(t=127),e.push(t)}}function a(e,t){if(c.vt300Mouse){e&=3,t.x-=32,t.y-=32;var r="[24";if(0===e)r+="1";else if(1===e)r+="3";else if(2===e)r+="5";else{if(3===e)return;r+="0"}return r+="~["+t.x+","+t.y+"]\r",void c.send(r)}if(c.decLocator)return e&=3,t.x-=32,t.y-=32,0===e?e=2:1===e?e=4:2===e?e=6:3===e&&(e=3),void c.send("["+e+";"+(3===e?4:0)+";"+t.y+";"+t.x+";"+(t.page||0)+"&w");if(c.urxvtMouse)return t.x-=32,t.y-=32,t.x++,t.y++,void c.send("["+e+";"+t.x+";"+t.y+"M");if(c.sgrMouse)return t.x-=32,t.y-=32,void c.send("[<"+(3===(3&e)?-4&e:e)+";"+t.x+";"+t.y+(3===(3&e)?"m":"M"));var r=[];n(r,e),n(r,t.x),n(r,t.y),c.send("[M"+x.fromCharCode.apply(x,r))}function s(e){var t,n,r,i,o;switch(e.type){case"mousedown":t=null!=e.button?+e.button:null!=e.which?e.which-1:null,c.isMSIE&&(t=1===t?0:4===t?1:t);break;case"mouseup":t=3;break;case"DOMMouseScroll":t=e.detail<0?64:65;break;case"mousewheel":t=e.wheelDeltaY>0?64:65}return n=e.shiftKey?4:0,r=e.metaKey?8:0,i=e.ctrlKey?16:0,o=n|r|i,c.vt200Mouse?o&=i:c.normalMouse||(o=0),t=32+(o<<2)+t}function l(e){var t,n,r,i,o;if(null!=e.pageX){for(t=e.pageX,n=e.pageY,o=c.element;o&&o!==c.document.documentElement;)t-=o.offsetLeft,n-=o.offsetTop,o="offsetParent"in o?o.offsetParent:o.parentNode;return r=c.element.clientWidth,i=c.element.clientHeight,t=Math.round(t/r*c.cols),n=Math.round(n/i*c.rows),0>t&&(t=0),t>c.cols&&(t=c.cols),0>n&&(n=0),n>c.rows&&(n=c.rows),t+=32,n+=32,{x:t,y:n,type:e.type===p?"mousewheel":e.type}}}var u=this.element,c=this,d=32,p="onmousewheel"in this.context?"mousewheel":"DOMMouseScroll";r(u,"mousedown",function(n){return c.mouseEvents?(e(n),c.focus(),c.vt200Mouse?(e({__proto__:n,type:"mouseup"}),o(n)):(c.normalMouse&&r(c.document,"mousemove",t),c.x10Mouse||r(c.document,"mouseup",function a(n){return e(n),c.normalMouse&&i(c.document,"mousemove",t),i(c.document,"mouseup",a),o(n)}),o(n))):void 0}),r(u,p,function(t){return c.mouseEvents&&!(c.x10Mouse||c.vt300Mouse||c.decLocator)?(e(t),o(t)):void 0}),r(u,p,function(e){return c.mouseEvents||c.applicationKeypad?void 0:("DOMMouseScroll"===e.type?c.scrollDisp(e.detail<0?-5:5):c.scrollDisp(e.wheelDeltaY>0?-5:5),o(e))})},n.prototype.destroy=function(){this.readable=!1,this.writable=!1,this._events={},this.handler=function(){},this.write=function(){},this.element.parentNode&&this.element.parentNode.removeChild(this.element)},n.prototype.refresh=function(e,t){var r,i,o,a,s,l,c,d,p,f,h,m,g,v;for(t-e>=this.rows/2&&(v=this.element.parentNode,v&&v.removeChild(this.element)),c=this.cols,i=e,t>=this.lines.length&&(this.log("`end` is too large. Most likely a bad CSR."),t=this.lines.length-1);t>=i;i++){for(g=i+this.ydisp,a=this.lines[g],s="",r=i!==this.y||!this.cursorState||this.ydisp!==this.ybase&&!this.selectMode||this.cursorHidden?-1:this.x,p=this.defAttr,o=0;c>o;o++){switch(d=a[o][0],l=a[o][1],o===r&&(d=-1),d!==p&&(p!==this.defAttr&&(s+="</span>"),d!==this.defAttr&&(-1===d?s+='<span class="reverse-video terminal-cursor">':(s+='<span style="',f=511&d,h=d>>9&511,m=d>>18,1&m&&(n.brokenBold||(s+="font-weight:bold;"),8>h&&(h+=8)),2&m&&(s+="text-decoration:underline;"),4&m&&(2&m?(s=s.slice(0,-1),s+=" blink;"):s+="text-decoration:blink;"),8&m&&(f=d>>9&511,h=511&d,1&m&&8>h&&(h+=8)),16&m&&(s+="visibility:hidden;"),256!==f&&(s+="background-color:"+this.colors[f]+";"),257!==h&&(s+="color:"+this.colors[h]+";"),s+='">'))),l){case"&":s+="&amp;";break;case"<":s+="&lt;";break;case">":s+="&gt;";break;default:" ">=l?s+="&nbsp;":(u(l)&&o++,s+=l)}p=d}p!==this.defAttr&&(s+="</span>"),this.children[i].innerHTML=s}v&&v.appendChild(this.element)},n.prototype._cursorBlink=function(){n.focus===this&&(this.cursorState^=1,this.refresh(this.y,this.y))},n.prototype.showCursor=function(){this.cursorState||(this.cursorState=1,this.refresh(this.y,this.y))},n.prototype.startBlink=function(){if(this.cursorBlink){var e=this;this._blinker=function(){e._cursorBlink()},this._blink=k(this._blinker,500)}},n.prototype.refreshBlink=function(){this.cursorBlink&&(clearInterval(this._blink),this._blink=k(this._blinker,500))},n.prototype.scroll=function(){var e;++this.ybase===this.scrollback&&(this.ybase=this.ybase/2|0,this.lines=this.lines.slice(-(this.ybase+this.rows)+1)),this.ydisp=this.ybase,e=this.ybase+this.rows-1,e-=this.rows-1-this.scrollBottom,e===this.lines.length?this.lines.push(this.blankLine()):this.lines.splice(e,0,this.blankLine()),0!==this.scrollTop&&(0!==this.ybase&&(this.ybase--,this.ydisp=this.ybase),this.lines.splice(this.ybase+this.scrollTop,1)),this.updateRange(this.scrollTop),this.updateRange(this.scrollBottom)},n.prototype.scrollDisp=function(e){this.ydisp+=e,this.ydisp>this.ybase?this.ydisp=this.ybase:this.ydisp<0&&(this.ydisp=0),this.refresh(0,this.rows-1)},n.prototype.write=function(e){var t,r,i,o=e.length,a=0;for(this.refreshStart=this.y,this.refreshEnd=this.y,this.ybase!==this.ydisp&&(this.ydisp=this.ybase,this.maxRange());o>a;a++)switch(i=e[a],this.state){case h:switch(i){case"":this.bell();break;case"\n":case"":case"\f":this.convertEol&&(this.x=0),this.y++,this.y>this.scrollBottom&&(this.y--,this.scroll());break;case"\r":this.x=0;break;case"\b":this.x>0&&this.x--;break;case"	":this.x=this.nextStop();break;case"":this.setgLevel(1);break;case"":this.setgLevel(0);break;case"":this.state=m;break;default:if(i>=" "&&(this.charset&&this.charset[i]&&(i=this.charset[i]),this.x>=this.cols&&(this.x=0,this.y++,this.y>this.scrollBottom&&(this.y--,this.scroll())),this.lines[this.y+this.ybase][this.x]=[this.curAttr,i],this.x++,this.updateRange(this.y),u(i))){if(t=this.y+this.ybase,this.cols<2||this.x>=this.cols){this.lines[t][this.x-1]=[this.curAttr," "];break}this.lines[t][this.x]=[this.curAttr," "],this.x++}}break;case m:switch(i){case"[":this.params=[],this.currentParam=0,this.state=g;break;case"]":this.params=[],this.currentParam=0,this.state=v;break;case"P":this.params=[],this.currentParam=0,this.state=_;break;case"_":this.state=b;break;case"^":this.state=b;break;case"c":this.reset();break;case"E":this.x=0;case"D":this.index();break;case"M":this.reverseIndex();break;case"%":this.setgLevel(0),this.setgCharset(0,n.charsets.US),this.state=h,a++;break;case"(":case")":case"*":case"+":case"-":case".":switch(i){case"(":this.gcharset=0;break;case")":this.gcharset=1;break;case"*":this.gcharset=2;break;case"+":this.gcharset=3;break;case"-":this.gcharset=1;break;case".":this.gcharset=2}this.state=y;break;case"/":this.gcharset=3,this.state=y,a--;break;case"N":break;case"O":break;case"n":this.setgLevel(2);break;case"o":this.setgLevel(3);break;case"|":this.setgLevel(3);break;case"}":this.setgLevel(2);break;case"~":this.setgLevel(1);break;case"7":this.saveCursor(),this.state=h;break;case"8":this.restoreCursor(),this.state=h;break;case"#":this.state=h,a++;break;case"H":this.tabSet();break;case"=":this.log("Serial port requested application keypad."),this.applicationKeypad=!0,this.state=h;break;case">":this.log("Switching back to normal keypad."),this.applicationKeypad=!1,this.state=h;break;default:this.state=h,this.error("Unknown ESC control: %s.",i)}break;case y:switch(i){case"0":r=n.charsets.SCLD;break;case"A":r=n.charsets.UK;break;case"B":r=n.charsets.US;break;case"4":r=n.charsets.Dutch;break;case"C":case"5":r=n.charsets.Finnish;break;case"R":r=n.charsets.French;break;case"Q":r=n.charsets.FrenchCanadian;break;case"K":r=n.charsets.German;break;case"Y":r=n.charsets.Italian;break;case"E":case"6":r=n.charsets.NorwegianDanish;break;case"Z":r=n.charsets.Spanish;break;case"H":case"7":r=n.charsets.Swedish;break;case"=":r=n.charsets.Swiss;break;case"/":r=n.charsets.ISOLatin,a++;break;default:r=n.charsets.US}this.setgCharset(this.gcharset,r),this.gcharset=null,this.state=h;break;case v:if(""===i||""===i){switch(""===i&&a++,this.params.push(this.currentParam),this.params[0]){case 0:case 1:case 2:this.params[1]&&(this.title=this.params[1],this.handleTitle(this.title));break;case 3:break;case 4:case 5:break;case 10:case 11:case 12:case 13:case 14:case 15:case 16:case 17:case 18:case 19:break;case 46:break;case 50:break;case 51:break;case 52:break;case 104:case 105:case 110:case 111:case 112:case 113:case 114:case 115:case 116:case 117:case 118:}this.params=[],this.currentParam=0,this.state=h}else this.params.length?this.currentParam+=i:i>="0"&&"9">=i?this.currentParam=10*this.currentParam+i.charCodeAt(0)-48:";"===i&&(this.params.push(this.currentParam),this.currentParam="");break;case g:if("?"===i||">"===i||"!"===i){this.prefix=i;break}if(i>="0"&&"9">=i){this.currentParam=10*this.currentParam+i.charCodeAt(0)-48;break}if("$"===i||'"'===i||" "===i||"'"===i){this.postfix=i;break}if(this.params.push(this.currentParam),this.currentParam=0,";"===i)break;switch(this.state=h,i){case"A":this.cursorUp(this.params);break;case"B":this.cursorDown(this.params);break;case"C":this.cursorForward(this.params);break;case"D":this.cursorBackward(this.params);break;case"H":this.cursorPos(this.params);break;case"J":this.eraseInDisplay(this.params);break;case"K":this.eraseInLine(this.params);break;case"m":this.prefix||this.charAttributes(this.params);break;case"n":this.prefix||this.deviceStatus(this.params);break;case"@":this.insertChars(this.params);break;case"E":this.cursorNextLine(this.params);break;case"F":this.cursorPrecedingLine(this.params);break;case"G":this.cursorCharAbsolute(this.params);break;case"L":this.insertLines(this.params);break;case"M":this.deleteLines(this.params);break;case"P":this.deleteChars(this.params);break;case"X":this.eraseChars(this.params);break;case"`":this.charPosAbsolute(this.params);break;case"a":this.HPositionRelative(this.params);break;case"c":this.sendDeviceAttributes(this.params);break;case"d":this.linePosAbsolute(this.params);break;case"e":this.VPositionRelative(this.params);break;case"f":this.HVPosition(this.params);break;case"h":this.setMode(this.params);break;case"l":this.resetMode(this.params);break;case"r":this.setScrollRegion(this.params);break;case"s":this.saveCursor(this.params);break;case"u":this.restoreCursor(this.params);break;case"I":this.cursorForwardTab(this.params);break;case"S":this.scrollUp(this.params);break;case"T":this.params.length<2&&!this.prefix&&this.scrollDown(this.params);break;case"Z":this.cursorBackwardTab(this.params);break;case"b":this.repeatPrecedingCharacter(this.params);break;case"g":this.tabClear(this.params);break;case"p":switch(this.prefix){case"!":this.softReset(this.params)}break;default:this.error("Unknown CSI code: %s.",i)}this.prefix="",this.postfix="";break;case _:if(""===i||""===i){switch(""===i&&a++,this.prefix){case"":break;case"$q":var s=this.currentParam,l=!1;
switch(s){case'"q':s='0"q';break;case'"p':s='61"p';break;case"r":s=""+(this.scrollTop+1)+";"+(this.scrollBottom+1)+"r";break;case"m":s="0m";break;default:this.error("Unknown DCS Pt: %s.",s),s=""}this.send("P"+ +l+"$r"+s+"\\");break;case"+p":break;case"+q":var s=this.currentParam,l=!1;this.send("P"+ +l+"+r"+s+"\\");break;default:this.error("Unknown DCS prefix: %s.",this.prefix)}this.currentParam=0,this.prefix="",this.state=h}else this.currentParam?this.currentParam+=i:this.prefix||"$"===i||"+"===i?2===this.prefix.length?this.currentParam=i:this.prefix+=i:this.currentParam=i;break;case b:(""===i||""===i)&&(""===i&&a++,this.state=h)}this.updateRange(this.y),this.refresh(this.refreshStart,this.refreshEnd)},n.prototype.writeln=function(e){this.write(e+"\r\n")},n.prototype.handleExtraKeys=function(e){return!1},n.prototype.keyDown=function(e){var t,n=this;switch(e.keyCode){case 8:if(e.shiftKey){t="\b";break}t="";break;case 9:if(e.shiftKey){t="[Z";break}t="	";break;case 13:t="\r";break;case 27:t="";break;case 37:if(this.applicationCursor){t="OD";break}t="[D";break;case 39:if(this.applicationCursor){t="OC";break}t="[C";break;case 38:if(this.applicationCursor){t="OA";break}if(e.ctrlKey)return this.scrollDisp(-1),o(e);t="[A";break;case 40:if(this.applicationCursor){t="OB";break}if(e.ctrlKey)return this.scrollDisp(1),o(e);t="[B";break;case 46:t="[3~";break;case 45:t="[2~";break;case 36:if(this.applicationKeypad){t="OH";break}t="OH";break;case 35:if(this.applicationKeypad){t="OF";break}t="OF";break;case 33:if(e.shiftKey)return this.scrollDisp(-(this.rows-1)),o(e);t="[5~";break;case 34:if(e.shiftKey)return this.scrollDisp(this.rows-1),o(e);t="[6~";break;case 112:t="OP";break;case 113:t="OQ";break;case 114:t="OR";break;case 115:t="OS";break;case 116:t="[15~";break;case 117:t="[17~";break;case 118:t="[18~";break;case 119:t="[19~";break;case 120:t="[20~";break;case 121:t="[21~";break;case 122:t="[23~";break;case 123:t="[24~";break;default:if(e.ctrlKey)if(e.keyCode>=65&&e.keyCode<=90){if(this.screenKeys&&!this.prefixMode&&!this.selectMode&&65===e.keyCode)return this.enterPrefix(),o(e);if(this.prefixMode&&86===e.keyCode)return void this.leavePrefix();if((this.prefixMode||this.selectMode)&&67===e.keyCode)return void(this.visualMode&&w(function(){n.leaveVisual()},1));t=x.fromCharCode(e.keyCode-64)}else 32===e.keyCode?t=x.fromCharCode(0):e.keyCode>=51&&e.keyCode<=55?t=x.fromCharCode(e.keyCode-51+27):56===e.keyCode?t=x.fromCharCode(127):219===e.keyCode?t=x.fromCharCode(27):221===e.keyCode&&(t=x.fromCharCode(29));else(!this.isMac&&e.altKey||this.isMac&&e.metaKey)&&(e.keyCode>=65&&e.keyCode<=90?t=""+x.fromCharCode(e.keyCode+32):192===e.keyCode?t="`":e.keyCode>=48&&e.keyCode<=57&&(t=""+(e.keyCode-48)))}return t||(t=this.handleExtraKeys(e)),t?this.prefixMode?(this.leavePrefix(),o(e)):this.selectMode?(this.keySelect(e,t),o(e)):(this.emit("keydown",e),this.emit("key",t,e),this.showCursor(),this.handler(t),o(e)):!0},n.prototype.setgLevel=function(e){this.glevel=e,this.charset=this.charsets[e]},n.prototype.setgCharset=function(e,t){this.charsets[e]=t,this.glevel===e&&(this.charset=t)},n.prototype.keyPress=function(e){var t;if(o(e),e.charCode)t=e.charCode;else if(null==e.which)t=e.keyCode;else{if(0===e.which||0===e.charCode)return!1;t=e.which}return!t||e.ctrlKey||e.altKey||e.metaKey?!1:(t=x.fromCharCode(t),this.prefixMode?(this.leavePrefix(),this.keyPrefix(e,t),!1):this.selectMode?(this.keySelect(e,t),!1):(this.emit("keypress",t,e),this.emit("key",t,e),this.showCursor(),this.handler(t),!1))},n.prototype.send=function(e){var t=this;this.queue||w(function(){t.handler(t.queue),t.queue=""},1),this.queue+=e},n.prototype.bell=function(){if(this.emit("bell"),this.visualBell){var e=this;this.element.style.borderColor="white",w(function(){e.element.style.borderColor=""},10),this.popOnBell&&this.focus()}},n.prototype.log=function(){if(this.debug&&this.context.console&&this.context.console.log){var e=Array.prototype.slice.call(arguments);this.context.console.log.apply(this.context.console,e)}},n.prototype.error=function(){if(this.debug&&this.context.console&&this.context.console.error){var e=Array.prototype.slice.call(arguments);this.context.console.error.apply(this.context.console,e)}},n.prototype.resize=function(e,t){var n,r,i,o,a;if(1>e&&(e=1),1>t&&(t=1),o=this.cols,e>o)for(a=[this.defAttr," "],i=this.lines.length;i--;)for(;this.lines[i].length<e;)this.lines[i].push(a);else if(o>e)for(i=this.lines.length;i--;)for(;this.lines[i].length>e;)this.lines[i].pop();if(this.setupStops(o),this.cols=e,o=this.rows,t>o)for(r=this.element;o++<t;)this.lines.length<t+this.ybase&&this.lines.push(this.blankLine()),this.children.length<t&&(n=this.document.createElement("div"),r.appendChild(n),this.children.push(n));else if(o>t)for(;o-->t;)if(this.lines.length>t+this.ybase&&this.lines.pop(),this.children.length>t){if(r=this.children.pop(),!r)continue;r.parentNode.removeChild(r)}this.rows=t,this.y>=t&&(this.y=t-1),this.x>=e&&(this.x=e-1),this.scrollTop=0,this.scrollBottom=t-1,this.refresh(0,this.rows-1),this.normal=null},n.prototype.updateRange=function(e){e<this.refreshStart&&(this.refreshStart=e),e>this.refreshEnd&&(this.refreshEnd=e)},n.prototype.maxRange=function(){this.refreshStart=0,this.refreshEnd=this.rows-1},n.prototype.setupStops=function(e){for(null!=e?this.tabs[e]||(e=this.prevStop(e)):(this.tabs={},e=0);e<this.cols;e+=8)this.tabs[e]=!0},n.prototype.prevStop=function(e){for(null==e&&(e=this.x);!this.tabs[--e]&&e>0;);return e>=this.cols?this.cols-1:0>e?0:e},n.prototype.nextStop=function(e){for(null==e&&(e=this.x);!this.tabs[++e]&&e<this.cols;);return e>=this.cols?this.cols-1:0>e?0:e},n.prototype.eraseRight=function(e,t){for(var n=this.lines[this.ybase+t],r=[this.eraseAttr()," "];e<this.cols;e++)n[e]=r;this.updateRange(t)},n.prototype.eraseLeft=function(e,t){var n=this.lines[this.ybase+t],r=[this.eraseAttr()," "];for(e++;e--;)n[e]=r;this.updateRange(t)},n.prototype.eraseLine=function(e){this.eraseRight(0,e)},n.prototype.blankLine=function(e){for(var t=e?this.eraseAttr():this.defAttr,n=[t," "],r=[],i=0;i<this.cols;i++)r[i]=n;return r},n.prototype.ch=function(e){return e?[this.eraseAttr()," "]:[this.defAttr," "]},n.prototype.is=function(e){var t=this.termName;return 0===(t+"").indexOf(e)},n.prototype.handler=function(e){this.emit("data",e)},n.prototype.handleTitle=function(e){this.emit("title",e)},n.prototype.index=function(){this.y++,this.y>this.scrollBottom&&(this.y--,this.scroll()),this.state=h},n.prototype.reverseIndex=function(){var e;this.y--,this.y<this.scrollTop&&(this.y++,this.lines.splice(this.y+this.ybase,0,this.blankLine(!0)),e=this.rows-1-this.scrollBottom,this.lines.splice(this.rows-1+this.ybase-e+1,1),this.updateRange(this.scrollTop),this.updateRange(this.scrollBottom)),this.state=h},n.prototype.reset=function(){this.options.rows=this.rows,this.options.cols=this.cols,n.call(this,this.options),this.refresh(0,this.rows-1)},n.prototype.tabSet=function(){this.tabs[this.x]=!0,this.state=h},n.prototype.cursorUp=function(e){var t=e[0];1>t&&(t=1),this.y-=t,this.y<0&&(this.y=0)},n.prototype.cursorDown=function(e){var t=e[0];1>t&&(t=1),this.y+=t,this.y>=this.rows&&(this.y=this.rows-1)},n.prototype.cursorForward=function(e){var t=e[0];1>t&&(t=1),this.x+=t,this.x>=this.cols&&(this.x=this.cols-1)},n.prototype.cursorBackward=function(e){var t=e[0];1>t&&(t=1),this.x-=t,this.x<0&&(this.x=0)},n.prototype.cursorPos=function(e){var t,n;t=e[0]-1,n=e.length>=2?e[1]-1:0,0>t?t=0:t>=this.rows&&(t=this.rows-1),0>n?n=0:n>=this.cols&&(n=this.cols-1),this.x=n,this.y=t},n.prototype.eraseInDisplay=function(e){var t;switch(e[0]){case 0:for(this.eraseRight(this.x,this.y),t=this.y+1;t<this.rows;t++)this.eraseLine(t);break;case 1:for(this.eraseLeft(this.x,this.y),t=this.y;t--;)this.eraseLine(t);break;case 2:for(t=this.rows;t--;)this.eraseLine(t);break;case 3:}},n.prototype.eraseInLine=function(e){switch(e[0]){case 0:this.eraseRight(this.x,this.y);break;case 1:this.eraseLeft(this.x,this.y);break;case 2:this.eraseLine(this.y)}},n.prototype.charAttributes=function(e){if(1===e.length&&0===e[0])return void(this.curAttr=this.defAttr);for(var t,n=e.length,r=0,i=this.curAttr>>18,o=this.curAttr>>9&511,a=511&this.curAttr;n>r;r++)t=e[r],t>=30&&37>=t?o=t-30:t>=40&&47>=t?a=t-40:t>=90&&97>=t?(t+=8,o=t-90):t>=100&&107>=t?(t+=8,a=t-100):0===t?(i=this.defAttr>>18,o=this.defAttr>>9&511,a=511&this.defAttr):1===t?i|=1:4===t?i|=2:5===t?i|=4:7===t?i|=8:8===t?i|=16:22===t?i&=-2:24===t?i&=-3:25===t?i&=-5:27===t?i&=-9:28===t?i&=-17:39===t?o=this.defAttr>>9&511:49===t?a=511&this.defAttr:38===t?2===e[r+1]?(r+=2,o=c(255&e[r],255&e[r+1],255&e[r+2]),-1===o&&(o=511),r+=2):5===e[r+1]&&(r+=2,t=255&e[r],o=t):48===t?2===e[r+1]?(r+=2,a=c(255&e[r],255&e[r+1],255&e[r+2]),-1===a&&(a=511),r+=2):5===e[r+1]&&(r+=2,t=255&e[r],a=t):100===t?(o=this.defAttr>>9&511,a=511&this.defAttr):this.error("Unknown SGR attribute: %d.",t);this.curAttr=i<<18|o<<9|a},n.prototype.deviceStatus=function(e){if(this.prefix){if("?"===this.prefix)switch(e[0]){case 6:this.send("[?"+(this.y+1)+";"+(this.x+1)+"R");break;case 15:break;case 25:break;case 26:break;case 53:}}else switch(e[0]){case 5:this.send("[0n");break;case 6:this.send("["+(this.y+1)+";"+(this.x+1)+"R")}},n.prototype.insertChars=function(e){var t,n,r,i;for(t=e[0],1>t&&(t=1),n=this.y+this.ybase,r=this.x,i=[this.eraseAttr()," "];t--&&r<this.cols;)this.lines[n].splice(r++,0,i),this.lines[n].pop()},n.prototype.cursorNextLine=function(e){var t=e[0];1>t&&(t=1),this.y+=t,this.y>=this.rows&&(this.y=this.rows-1),this.x=0},n.prototype.cursorPrecedingLine=function(e){var t=e[0];1>t&&(t=1),this.y-=t,this.y<0&&(this.y=0),this.x=0},n.prototype.cursorCharAbsolute=function(e){var t=e[0];1>t&&(t=1),this.x=t-1},n.prototype.insertLines=function(e){var t,n,r;for(t=e[0],1>t&&(t=1),n=this.y+this.ybase,r=this.rows-1-this.scrollBottom,r=this.rows-1+this.ybase-r+1;t--;)this.lines.splice(n,0,this.blankLine(!0)),this.lines.splice(r,1);this.updateRange(this.y),this.updateRange(this.scrollBottom)},n.prototype.deleteLines=function(e){var t,n,r;for(t=e[0],1>t&&(t=1),n=this.y+this.ybase,r=this.rows-1-this.scrollBottom,r=this.rows-1+this.ybase-r;t--;)this.lines.splice(r+1,0,this.blankLine(!0)),this.lines.splice(n,1);this.updateRange(this.y),this.updateRange(this.scrollBottom)},n.prototype.deleteChars=function(e){var t,n,r;for(t=e[0],1>t&&(t=1),n=this.y+this.ybase,r=[this.eraseAttr()," "];t--;)this.lines[n].splice(this.x,1),this.lines[n].push(r)},n.prototype.eraseChars=function(e){var t,n,r,i;for(t=e[0],1>t&&(t=1),n=this.y+this.ybase,r=this.x,i=[this.eraseAttr()," "];t--&&r<this.cols;)this.lines[n][r++]=i},n.prototype.charPosAbsolute=function(e){var t=e[0];1>t&&(t=1),this.x=t-1,this.x>=this.cols&&(this.x=this.cols-1)},n.prototype.HPositionRelative=function(e){var t=e[0];1>t&&(t=1),this.x+=t,this.x>=this.cols&&(this.x=this.cols-1)},n.prototype.sendDeviceAttributes=function(e){e[0]>0||(this.prefix?">"===this.prefix&&(this.is("xterm")?this.send("[>0;276;0c"):this.is("rxvt-unicode")?this.send("[>85;95;0c"):this.is("linux")?this.send(e[0]+"c"):this.is("screen")&&this.send("[>83;40003;0c")):this.is("xterm")||this.is("rxvt-unicode")||this.is("screen")?this.send("[?1;2c"):this.is("linux")&&this.send("[?6c"))},n.prototype.linePosAbsolute=function(e){var t=e[0];1>t&&(t=1),this.y=t-1,this.y>=this.rows&&(this.y=this.rows-1)},n.prototype.VPositionRelative=function(e){var t=e[0];1>t&&(t=1),this.y+=t,this.y>=this.rows&&(this.y=this.rows-1)},n.prototype.HVPosition=function(e){e[0]<1&&(e[0]=1),e[1]<1&&(e[1]=1),this.y=e[0]-1,this.y>=this.rows&&(this.y=this.rows-1),this.x=e[1]-1,this.x>=this.cols&&(this.x=this.cols-1)},n.prototype.setMode=function(e){if("object"!=typeof e)if(this.prefix){if("?"===this.prefix)switch(e){case 1:this.applicationCursor=!0;break;case 2:this.setgCharset(0,n.charsets.US),this.setgCharset(1,n.charsets.US),this.setgCharset(2,n.charsets.US),this.setgCharset(3,n.charsets.US);break;case 3:this.savedCols=this.cols,this.resize(132,this.rows);break;case 6:this.originMode=!0;break;case 7:this.wraparoundMode=!0;break;case 12:break;case 66:this.log("Serial port requested application keypad."),this.applicationKeypad=!0;break;case 9:case 1e3:case 1002:case 1003:this.x10Mouse=9===e,this.vt200Mouse=1e3===e,this.normalMouse=e>1e3,this.mouseEvents=!0,this.element.style.cursor="default",this.log("Binding to mouse events.");break;case 1004:this.sendFocus=!0;break;case 1005:this.utfMouse=!0;break;case 1006:this.sgrMouse=!0;break;case 1015:this.urxvtMouse=!0;break;case 25:this.cursorHidden=!1;break;case 1049:case 47:case 1047:if(!this.normal){var t={lines:this.lines,ybase:this.ybase,ydisp:this.ydisp,x:this.x,y:this.y,scrollTop:this.scrollTop,scrollBottom:this.scrollBottom,tabs:this.tabs};this.reset(),this.normal=t,this.showCursor()}}}else switch(e){case 4:this.insertMode=!0;break;case 20:}else for(var r=e.length,i=0;r>i;i++)this.setMode(e[i])},n.prototype.resetMode=function(e){if("object"!=typeof e)if(this.prefix){if("?"===this.prefix)switch(e){case 1:this.applicationCursor=!1;break;case 3:132===this.cols&&this.savedCols&&this.resize(this.savedCols,this.rows),delete this.savedCols;break;case 6:this.originMode=!1;break;case 7:this.wraparoundMode=!1;break;case 12:break;case 66:this.log("Switching back to normal keypad."),this.applicationKeypad=!1;break;case 9:case 1e3:case 1002:case 1003:this.x10Mouse=!1,this.vt200Mouse=!1,this.normalMouse=!1,this.mouseEvents=!1,this.element.style.cursor="";break;case 1004:this.sendFocus=!1;break;case 1005:this.utfMouse=!1;break;case 1006:this.sgrMouse=!1;break;case 1015:this.urxvtMouse=!1;break;case 25:this.cursorHidden=!0;break;case 1049:case 47:case 1047:this.normal&&(this.lines=this.normal.lines,this.ybase=this.normal.ybase,this.ydisp=this.normal.ydisp,this.x=this.normal.x,this.y=this.normal.y,this.scrollTop=this.normal.scrollTop,this.scrollBottom=this.normal.scrollBottom,this.tabs=this.normal.tabs,this.normal=null,this.refresh(0,this.rows-1),this.showCursor())}}else switch(e){case 4:this.insertMode=!1;break;case 20:}else for(var t=e.length,n=0;t>n;n++)this.resetMode(e[n])},n.prototype.setScrollRegion=function(e){this.prefix||(this.scrollTop=(e[0]||1)-1,this.scrollBottom=(e[1]||this.rows)-1,this.x=0,this.y=0)},n.prototype.saveCursor=function(e){this.savedX=this.x,this.savedY=this.y},n.prototype.restoreCursor=function(e){this.x=this.savedX||0,this.y=this.savedY||0},n.prototype.cursorForwardTab=function(e){for(var t=e[0]||1;t--;)this.x=this.nextStop()},n.prototype.scrollUp=function(e){for(var t=e[0]||1;t--;)this.lines.splice(this.ybase+this.scrollTop,1),this.lines.splice(this.ybase+this.scrollBottom,0,this.blankLine());this.updateRange(this.scrollTop),this.updateRange(this.scrollBottom)},n.prototype.scrollDown=function(e){for(var t=e[0]||1;t--;)this.lines.splice(this.ybase+this.scrollBottom,1),this.lines.splice(this.ybase+this.scrollTop,0,this.blankLine());this.updateRange(this.scrollTop),this.updateRange(this.scrollBottom)},n.prototype.initMouseTracking=function(e){},n.prototype.resetTitleModes=function(e){},n.prototype.cursorBackwardTab=function(e){for(var t=e[0]||1;t--;)this.x=this.prevStop()},n.prototype.repeatPrecedingCharacter=function(e){for(var t=e[0]||1,n=this.lines[this.ybase+this.y],r=n[this.x-1]||[this.defAttr," "];t--;)n[this.x++]=r},n.prototype.tabClear=function(e){var t=e[0];0>=t?delete this.tabs[this.x]:3===t&&(this.tabs={})},n.prototype.mediaCopy=function(e){},n.prototype.setResources=function(e){},n.prototype.disableModifiers=function(e){},n.prototype.setPointerMode=function(e){},n.prototype.softReset=function(e){this.cursorHidden=!1,this.insertMode=!1,this.originMode=!1,this.wraparoundMode=!1,this.applicationKeypad=!1,this.applicationCursor=!1,this.scrollTop=0,this.scrollBottom=this.rows-1,this.curAttr=this.defAttr,this.x=this.y=0,this.charset=null,this.glevel=0,this.charsets=[null]},n.prototype.requestAnsiMode=function(e){},n.prototype.requestPrivateMode=function(e){},n.prototype.setConformanceLevel=function(e){},n.prototype.loadLEDs=function(e){},n.prototype.setCursorStyle=function(e){},n.prototype.setCharProtectionAttr=function(e){},n.prototype.restorePrivateValues=function(e){},n.prototype.setAttrInRectangle=function(e){for(var t,n,r=e[0],i=e[1],o=e[2],a=e[3],s=e[4];o+1>r;r++)for(t=this.lines[this.ybase+r],n=i;a>n;n++)t[n]=[s,t[n][1]];this.updateRange(e[0]),this.updateRange(e[2])},n.prototype.savePrivateValues=function(e){},n.prototype.manipulateWindow=function(e){},n.prototype.reverseAttrInRectangle=function(e){},n.prototype.setTitleModeFeature=function(e){},n.prototype.setWarningBellVolume=function(e){},n.prototype.setMarginBellVolume=function(e){},n.prototype.copyRectangle=function(e){},n.prototype.enableFilterRectangle=function(e){},n.prototype.requestParameters=function(e){},n.prototype.selectChangeExtent=function(e){},n.prototype.fillRectangle=function(e){for(var t,n,r=e[0],i=e[1],o=e[2],a=e[3],s=e[4];a+1>i;i++)for(t=this.lines[this.ybase+i],n=o;s>n;n++)t[n]=[t[n][0],x.fromCharCode(r)];this.updateRange(e[1]),this.updateRange(e[3])},n.prototype.enableLocatorReporting=function(e){e[0]>0},n.prototype.eraseRectangle=function(e){var t,n,r,i=e[0],o=e[1],a=e[2],s=e[3];for(r=[this.eraseAttr()," "];a+1>i;i++)for(t=this.lines[this.ybase+i],n=o;s>n;n++)t[n]=r;this.updateRange(e[0]),this.updateRange(e[2])},n.prototype.setLocatorEvents=function(e){},n.prototype.selectiveEraseRectangle=function(e){},n.prototype.requestLocatorPosition=function(e){},n.prototype.insertColumns=function(){for(var e,t=params[0],n=this.ybase+this.rows,r=[this.eraseAttr()," "];t--;)for(e=this.ybase;n>e;e++)this.lines[e].splice(this.x+1,0,r),this.lines[e].pop();this.maxRange()},n.prototype.deleteColumns=function(){for(var e,t=params[0],n=this.ybase+this.rows,r=[this.eraseAttr()," "];t--;)for(e=this.ybase;n>e;e++)this.lines[e].splice(this.x,1),this.lines[e].push(r);this.maxRange()},n.prototype.enterPrefix=function(){this.prefixMode=!0},n.prototype.leavePrefix=function(){this.prefixMode=!1},n.prototype.enterSelect=function(){this._real={x:this.x,y:this.y,ydisp:this.ydisp,ybase:this.ybase,cursorHidden:this.cursorHidden,lines:this.copyBuffer(this.lines),write:this.write},this.write=function(){},this.selectMode=!0,this.visualMode=!1,this.cursorHidden=!1,this.refresh(this.y,this.y)},n.prototype.leaveSelect=function(){this.x=this._real.x,this.y=this._real.y,this.ydisp=this._real.ydisp,this.ybase=this._real.ybase,this.cursorHidden=this._real.cursorHidden,this.lines=this._real.lines,this.write=this._real.write,delete this._real,this.selectMode=!1,this.visualMode=!1,this.refresh(0,this.rows-1)},n.prototype.enterVisual=function(){this._real.preVisual=this.copyBuffer(this.lines),this.selectText(this.x,this.x,this.ydisp+this.y,this.ydisp+this.y),this.visualMode=!0},n.prototype.leaveVisual=function(){this.lines=this._real.preVisual,delete this._real.preVisual,delete this._selected,this.visualMode=!1,this.refresh(0,this.rows-1)},n.prototype.enterSearch=function(e){this.entry="",this.searchMode=!0,this.searchDown=e,this._real.preSearch=this.copyBuffer(this.lines),this._real.preSearchX=this.x,this._real.preSearchY=this.y;for(var t=this.ydisp+this.rows-1,n=0;n<this.entryPrefix.length;n++)this.lines[t][n]=[-512&this.defAttr|4,this.entryPrefix[n]];this.y=this.rows-1,this.x=this.entryPrefix.length,this.refresh(this.rows-1,this.rows-1)},n.prototype.leaveSearch=function(){this.searchMode=!1,this._real.preSearch&&(this.lines=this._real.preSearch,this.x=this._real.preSearchX,this.y=this._real.preSearchY,delete this._real.preSearch,delete this._real.preSearchX,delete this._real.preSearchY),this.refresh(this.rows-1,this.rows-1)},n.prototype.copyBuffer=function(e){for(var e=e||this.lines,t=[],n=0;n<e.length;n++){t[n]=[];for(var r=0;r<e[n].length;r++)t[n][r]=[e[n][r][0],e[n][r][1]]}return t},n.prototype.getCopyTextarea=function(e){var t=this._copyTextarea,n=this.document;return t||(t=n.createElement("textarea"),t.style.position="absolute",t.style.left="-32000px",t.style.top="-32000px",t.style.width="0px",t.style.height="0px",t.style.opacity="0",t.style.backgroundColor="transparent",t.style.borderStyle="none",t.style.outlineStyle="none",n.getElementsByTagName("body")[0].appendChild(t),this._copyTextarea=t),t},n.prototype.copyText=function(e){var t=this,n=this.getCopyTextarea();this.emit("copy",e),n.focus(),n.textContent=e,n.value=e,n.setSelectionRange(0,e.length),w(function(){t.element.focus(),t.focus()},1)},n.prototype.selectText=function(e,t,n,r){var i,o,a,s,l,u,c,d,p;if(this._selected){for(i=this._selected.x1,o=this._selected.x2,a=this._selected.y1,s=this._selected.y2,a>s&&(l=o,o=i,i=l,l=s,s=a,a=l),i>o&&a===s&&(l=o,o=i,i=l),c=a;s>=c;c++)for(u=0,d=this.cols-1,c===a&&(u=i),c===s&&(d=o);d>=u;u++)null!=this.lines[c][u].old&&(p=this.lines[c][u].old,delete this.lines[c][u].old,this.lines[c][u]=[p,this.lines[c][u][1]]);n=this._selected.y1,e=this._selected.x1}for(n=Math.max(n,0),n=Math.min(n,this.ydisp+this.rows-1),r=Math.max(r,0),r=Math.min(r,this.ydisp+this.rows-1),this._selected={x1:e,x2:t,y1:n,y2:r},n>r&&(l=t,t=e,e=l,l=r,r=n,n=l),e>t&&n===r&&(l=t,t=e,e=l),c=n;r>=c;c++)for(u=0,d=this.cols-1,c===n&&(u=e),c===r&&(d=t);d>=u;u++)p=this.lines[c][u][0],this.lines[c][u]=[-512&p|261636,this.lines[c][u][1]],this.lines[c][u].old=p;n-=this.ydisp,r-=this.ydisp,n=Math.max(n,0),n=Math.min(n,this.rows-1),r=Math.max(r,0),r=Math.min(r,this.rows-1),this.refresh(0,this.rows-1)},n.prototype.grabText=function(e,t,n,r){var i,o,a,s,l,c="",d="";for(n>r&&(l=t,t=e,e=l,l=r,r=n,n=l),e>t&&n===r&&(l=t,t=e,e=l),a=n;r>=a;a++){for(o=0,s=this.cols-1,a===n&&(o=e),a===r&&(s=t);s>=o;o++)i=this.lines[a][o][1]," "!==i?(d&&(c+=d,d=""),c+=i,u(i)&&o++):d+=i;d="",c+="\n"}for(o=t,a=r;o<this.cols;o++)if(" "!==this.lines[a][o][1]){c=c.slice(0,-1);break}return c},n.prototype.keyPrefix=function(e,t){"k"===t||"&"===t?this.destroy():"p"===t||"]"===t?this.emit("request paste"):"c"===t?this.emit("request create"):t>="0"&&"9">=t?(t=+t-1,~t||(t=9),this.emit("request term",t)):"n"===t?this.emit("request term next"):"P"===t?this.emit("request term previous"):":"===t?this.emit("request command mode"):"["===t&&this.enterSelect()},n.prototype.keySelect=function(e,t){if(this.showCursor(),this.searchMode||"n"===t||"N"===t)return this.keySearch(e,t);if(""===t){var n=this.ydisp+this.y;return this.ydisp===this.ybase?(this.y=Math.min(this.y+(this.rows-1)/2|0,this.rows-1),this.refresh(0,this.rows-1)):this.scrollDisp((this.rows-1)/2|0),void(this.visualMode&&this.selectText(this.x,this.x,n,this.ydisp+this.y))}if(""===t){var n=this.ydisp+this.y;return 0===this.ydisp?(this.y=Math.max(this.y-(this.rows-1)/2|0,0),this.refresh(0,this.rows-1)):this.scrollDisp(-(this.rows-1)/2|0),void(this.visualMode&&this.selectText(this.x,this.x,n,this.ydisp+this.y))}if(""===t){var n=this.ydisp+this.y;return this.scrollDisp(this.rows-1),void(this.visualMode&&this.selectText(this.x,this.x,n,this.ydisp+this.y))}if(""===t){var n=this.ydisp+this.y;return this.scrollDisp(-(this.rows-1)),void(this.visualMode&&this.selectText(this.x,this.x,n,this.ydisp+this.y))}if("k"===t||"[A"===t){var n=this.ydisp+this.y;return this.y--,this.y<0&&(this.y=0,this.scrollDisp(-1)),void(this.visualMode?this.selectText(this.x,this.x,n,this.ydisp+this.y):this.refresh(this.y,this.y+1))}if("j"===t||"[B"===t){var n=this.ydisp+this.y;return this.y++,this.y>=this.rows&&(this.y=this.rows-1,this.scrollDisp(1)),void(this.visualMode?this.selectText(this.x,this.x,n,this.ydisp+this.y):this.refresh(this.y-1,this.y))}if("h"===t||"[D"===t){var r=this.x;return this.x--,this.x<0&&(this.x=0),void(this.visualMode?this.selectText(r,this.x,this.ydisp+this.y,this.ydisp+this.y):this.refresh(this.y,this.y))}if("l"===t||"[C"===t){var r=this.x;return this.x++,this.x>=this.cols&&(this.x=this.cols-1),void(this.visualMode?this.selectText(r,this.x,this.ydisp+this.y,this.ydisp+this.y):this.refresh(this.y,this.y))}if("v"===t||" "===t)return void(this.visualMode?this.leaveVisual():this.enterVisual());if("y"!==t){if("q"===t||""===t)return void(this.visualMode?this.leaveVisual():this.leaveSelect());if("w"===t||"W"===t){for(var i=this.x,o=this.y,a=this.ydisp,r=this.x,n=this.y,s=this.ydisp,l=!1;;){for(var u=this.lines[s+n];r<this.cols;){if(u[r][1]<=" ")l=!0;else if(l)break;r++}if(r>=this.cols&&(r=this.cols-1),!(r===this.cols-1&&u[r][1]<=" "))break;if(r=0,++n>=this.rows&&(n--,++s>this.ybase)){s=this.ybase,r=this.x;break}}return this.x=r,this.y=n,this.scrollDisp(-this.ydisp+s),void(this.visualMode&&this.selectText(i,this.x,o+a,this.ydisp+this.y))}if("b"===t||"B"===t){for(var i=this.x,o=this.y,a=this.ydisp,r=this.x,n=this.y,s=this.ydisp;;){for(var u=this.lines[s+n],l=r>0&&u[r][1]>" "&&u[r-1][1]>" ";r>=0;){if(u[r][1]<=" "){if(l&&r+1<this.cols&&u[r+1][1]>" "){r++;break}l=!0}r--}if(0>r&&(r=0),0!==r||!(u[r][1]<=" ")&&l)break;if(r=this.cols-1,--n<0&&(n++,--s<0)){s++,r=0;break}}return this.x=r,this.y=n,this.scrollDisp(-this.ydisp+s),void(this.visualMode&&this.selectText(i,this.x,o+a,this.ydisp+this.y))}if("e"===t||"E"===t){var r=this.x+1,n=this.y,s=this.ydisp;for(r>=this.cols&&r--;;){for(var u=this.lines[s+n];r<this.cols&&u[r][1]<=" ";)r++;for(;r<this.cols;){if(u[r][1]<=" "&&r-1>=0&&u[r-1][1]>" "){r--;break}r++}if(r>=this.cols&&(r=this.cols-1),!(r===this.cols-1&&u[r][1]<=" "))break;if(r=0,++n>=this.rows&&(n--,++s>this.ybase)){s=this.ybase;break}}return this.x=r,this.y=n,this.scrollDisp(-this.ydisp+s),void(this.visualMode&&this.selectText(i,this.x,o+a,this.ydisp+this.y))}if("^"===t||"0"===t){var i=this.x;if("0"===t)this.x=0;else if("^"===t){for(var u=this.lines[this.ydisp+this.y],r=0;r<this.cols&&!(u[r][1]>" ");)r++;r>=this.cols&&(r=this.cols-1),this.x=r}return void(this.visualMode?this.selectText(i,this.x,this.ydisp+this.y,this.ydisp+this.y):this.refresh(this.y,this.y))}if("$"===t){for(var i=this.x,u=this.lines[this.ydisp+this.y],r=this.cols-1;r>=0;){if(u[r][1]>" "){this.visualMode&&r<this.cols-1&&r++;break}r--}return 0>r&&(r=0),this.x=r,void(this.visualMode?this.selectText(i,this.x,this.ydisp+this.y,this.ydisp+this.y):this.refresh(this.y,this.y))}if("g"===t||"G"===t){var i=this.x,o=this.y,a=this.ydisp;return"g"===t?(this.x=0,this.y=0,this.scrollDisp(-this.ydisp)):"G"===t&&(this.x=0,this.y=this.rows-1,this.scrollDisp(this.ybase)),void(this.visualMode&&this.selectText(i,this.x,o+a,this.ydisp+this.y))}if("H"===t||"M"===t||"L"===t){var i=this.x,o=this.y;return"H"===t?(this.x=0,this.y=0):"M"===t?(this.x=0,this.y=this.rows/2|0):"L"===t&&(this.x=0,this.y=this.rows-1),void(this.visualMode?this.selectText(i,this.x,this.ydisp+o,this.ydisp+this.y):(this.refresh(o,o),this.refresh(this.y,this.y)))}if("{"===t||"}"===t){var u,c,i=this.x,o=this.y,a=this.ydisp,d=!1,p=!1,f=-1,n=this.y+("{"===t?-1:1),s=this.ydisp;for("{"===t?0>n&&(n++,s>0&&s--):"}"===t&&n>=this.rows&&(n--,s<this.ybase&&s++);;){for(u=this.lines[s+n],c=0;c<this.cols;c++){if(u[c][1]>" "){-1===f&&(f=0),d=!0;break}if(c===this.cols-1){-1===f?f=1:0===f?p=!0:1===f&&d&&(p=!0);break}}if(p)break;if("{"===t){if(n--,0>n){if(n++,!(s>0))break;s--}}else if("}"===t&&(n++,n>=this.rows)){if(n--,!(s<this.ybase))break;s++}}return p||("{"===t?(n=0,s=0):"}"===t&&(n=this.rows-1,s=this.ybase)),this.x=0,this.y=n,this.scrollDisp(-this.ydisp+s),void(this.visualMode&&this.selectText(i,this.x,o+a,this.ydisp+this.y))}return"/"===t||"?"===t?void(this.visualMode||this.enterSearch("/"===t)):!1}if(this.visualMode){var h=this.grabText(this._selected.x1,this._selected.x2,this._selected.y1,this._selected.y2);this.copyText(h),this.leaveVisual()}},n.prototype.keySearch=function(e,t){if(""===t)return void this.leaveSearch();if("\r"===t||!this.searchMode&&("n"===t||"N"===t)){this.leaveSearch();var n=this.entry;if(!n)return void this.refresh(0,this.rows-1);for(var r,i,o,a=this.x,s=this.y,l=this.ydisp,u=!1,c=!1,d=this.x+1,p=this.ydisp+this.y,f="N"===t?this.searchDown:!this.searchDown;;){for(r=this.lines[p];d<this.cols;){for(o=0;o<n.length&&!(d+o>=this.cols)&&r[d+o][1]===n[o];o++)if(r[d+o][1]===n[o]&&o===n.length-1){u=!0;break}if(u)break;d+=o+1}if(u)break;if(d=0,f){if(p--,0>p){if(c)break;c=!0,p=this.ybase+this.rows-1}}else if(p++,p>this.ybase+this.rows-1){if(c)break;c=!0,p=0}}return u?(p-this.ybase<0?(i=p,p=0,i>this.ybase&&(p=i-this.ybase,i=this.ybase)):(i=this.ybase,p-=this.ybase),this.x=d,this.y=p,this.scrollDisp(-this.ydisp+i),void(this.visualMode&&this.selectText(a,this.x,s+l,this.ydisp+this.y))):void this.refresh(0,this.rows-1)}if("\b"===t||""===t){if(0===this.entry.length)return;var h=this.ydisp+this.rows-1;this.entry=this.entry.slice(0,-1);var o=this.entryPrefix.length+this.entry.length;return this.lines[h][o]=[this.lines[h][o][0]," "],this.x--,this.refresh(this.rows-1,this.rows-1),void this.refresh(this.y,this.y)}if(1===t.length&&t>=" "&&"~">=t){var h=this.ydisp+this.rows-1;this.entry+=t;var o=this.entryPrefix.length+this.entry.length-1;return this.lines[h][o]=[-512&this.defAttr|4,t],this.x++,this.refresh(this.rows-1,this.rows-1),void this.refresh(this.y,this.y)}return!1},n.charsets={},n.charsets.SCLD={"`":"◆",a:"▒",b:"	",c:"\f",d:"\r",e:"\n",f:"°",g:"±",h:"␤",i:"",j:"┘",k:"┐",l:"┌",m:"└",n:"┼",o:"⎺",p:"⎻",q:"─",r:"⎼",s:"⎽",t:"├",u:"┤",v:"┴",w:"┬",x:"│",y:"≤",z:"≥","{":"π","|":"≠","}":"£","~":"·"},n.charsets.UK=null,n.charsets.US=null,n.charsets.Dutch=null,n.charsets.Finnish=null,n.charsets.French=null,n.charsets.FrenchCanadian=null,n.charsets.German=null,n.charsets.Italian=null,n.charsets.NorwegianDanish=null,n.charsets.Spanish=null,n.charsets.Swedish=null,n.charsets.Swiss=null,n.charsets.ISOLatin=null;var x=this.String,w=this.setTimeout,k=this.setInterval;c._cache={},c.distance=function(e,t,n,r,i,o){return Math.pow(30*(e-r),2)+Math.pow(59*(t-i),2)+Math.pow(11*(n-o),2)},n.EventEmitter=t,n.inherits=a,n.on=r,n.off=i,n.cancel=o,e.exports=n}).call(function(){return this||("undefined"!=typeof window?window:t)}())}).call(t,function(){return this}())},function(e,t,n){function r(e,t,n){var r=new a(e,{origin:"http://www.codecademy.com"}),i=new o(r),l=new s(i,t,n);return l}function i(e,t){this.user=t,this.mgmt=new l(e,t)}var o=n(552),a=n(555),s=n(551),l=n(553);i.prototype.getGodexClient=function(e,t,n){this.mgmt.getInstance(e,function(e,n){this._instanceId=n.id;var i="wss",o=r(i+"://"+n.godex_url,n,this.user);o.on("connected",function(){o.authenticate({userToken:this.user.authentication_token,userId:this.user.id,instanceId:this.mgmt.instance.id,instanceToken:this.mgmt.instance.token})}.bind(this)),t(null,o)}.bind(this),function(e,t){n()})},i.prototype.askForFreshGodexInstance=function(e){this.mgmt.deleteInstance(this._instanceId,e)},e.exports.Manager=i,e.exports.GodexClient=r},function(e,t,n){function r(e,t,n){this.client=e,this.instance=t,this.user=n,this.setState("disconnected"),this.client.on("connect",this._connected.bind(this)),this.client.on("close",this._disconnected.bind(this)),this.client.on("error",this.emit.bind("transport:error")),this.client.on("client:event",function(e){this.emit(e.name,e.params)}.bind(this))}var i=n(187),o=n(179),a=n(554);i.inherits(r,o.EventEmitter),r.prototype.setState=function(e){this.state=e},r.prototype.connect=function(){this.client.connect()},r.prototype._connected=function(){this.setState("connected"),this.emit("connected")},r.prototype.close=function(e,t){this.client.close(e,t)},r.prototype._disconnected=function(){this.setState("disconnected"),this.emit("disconnected")},r.prototype.authenticate=function(e){this.client.send("Method.Authenticate",[e],function(e,t){!e&&t?(this.setState("ready"),this.emit("ready")):(this.setState("unauthorized"),this.emit("unauthorized"))}.bind(this))},r.prototype.createWorkspace=function(e,t,n){this.client.send("Method.CreateWorkspace",[{Slug:e,Type:t}],n)},r.prototype.getFiles=function(e,t,n){this.client.send("Method.GetFiles",[{Files:t,Workspace:e}],n)},r.prototype.getFilesByNames=function(e,t,n){this.client.send("Method.GetFilesByNames",[{FileNames:t,Workspace:e}],n)},r.prototype.getFile=function(e,t,n,r){this.client.send("Method.GetFile",[{Filename:t,Workspace:e,Encoding:n}],r)},r.prototype.renameFile=function(e,t,n,r){this.client.send("Method.RenameFile",[{
Workspace:e,From:t,To:n}],r)},r.prototype.deleteFile=function(e,t,n){this.client.send("Method.DeleteFile",[{Workspace:e,Filename:t}],n)},r.prototype.getListing=function(e,t){this.client.send("Method.GetListing",[{Workspace:e}],t)},r.prototype.updateFiles=function(e,t,n){this.client.send("Method.UpdateFiles",[{Workspace:e,Files:t}],n)},r.prototype.run=function(e,t,n){this.client.send("Method.Run",[{Workspace:e,File:t}],n)},r.prototype.sct=function(e,t,n){this.client.send("Method.Sct",[{Workspace:e,File:t}],n)},r.prototype.execute=function(e,t,n){this.client.send("Method.Execute",[{Workspace:e,Command:t}],n)},r.prototype.persistWorkspace=function(e,t){this.client.send("Method.PersistWorkspace",[{Workspace:e}],t)},r.prototype.restoreWorkspace=function(e,t,n){this.client.send("Method.RestoreWorkspace",[{Workspace:e,Checkpoint:t}],n)},r.prototype.checkpointWorkspace=function(e,t,n){this.client.send("Method.CheckpointWorkspace",[{Workspace:e,Checkpoint:t}],n)},r.prototype.input=function s(e,s,t){this.client.send("Method.Input",[{Workspace:e,Input:s}],t)},r.prototype.setPtySize=function(e,t,n,r){this.client.send("Method.SetPtySize",[{Id:e,Cols:t,Rows:n}],r)},r.prototype.getPtyFgProcName=function(e,t){this.client.send("Method.GetPtyFgProcName",[{Id:e}],t)},r.prototype.acknowledgeSessionStillAlive=function(e){this.client.send("Method.Alive",[{Alive:!0}],e)},r.prototype.send=function(e,t,n){this.client.send(e,t,n)},r.prototype.spawnPty=function(e,t,n){this.client.send("Method.SpawnPty",[{Workspace:e,Command:t}],function(e,t){if(e)return n(e);var r=new WebSocket(this.client.transport.server+"/pty?id="+t.Id),i=new a(r);i.id=t.Id,i.resize=function(e,n,r){this.setPtySize(t.Id,e,n,r)}.bind(this),i.getFgProcName=function(e){this.getPtyFgProcName(t.Id,e)}.bind(this),i.once("connect",function(){n(null,i)})}.bind(this))},r.prototype.uploadFile=function(e,t){var n=new FormData;e.forEach(function(e){n.append("blob",e.blob,e.filename)});var r=new XMLHttpRequest;return r.open("POST","http://"+this.instance.godex_url+"/upload"),r.setRequestHeader("UserId",this.user.id),r.setRequestHeader("UserAuthToken",this.user.authentication_token),r.setRequestHeader("Workspace",t),r.send(n),r},e.exports=r},function(e,t,n){function r(e){this.waiting={},this.rid=0,e.on("message",this.receive.bind(this)),e.on("connect",this.emit.bind(this,"connect")),e.on("close",this.emit.bind(this,"close")),e.on("error",this.emit.bind(this,"error")),this.transport=e}var i=n(187),o=n(179);i.inherits(r,o.EventEmitter),r.prototype.connect=function(){this.transport.connect()},r.prototype.close=function(e,t){this.transport.close(e,t)},r.prototype.send=function(e,t,n){var r=++this.rid,i=JSON.stringify({method:e,params:t,id:r});this.waiting[r]=n,this.transport.send(i)},r.prototype._receive_cb=function(e){return function(t,n){var r=JSON.stringify({id:e,error:n,result:t});this.transport.send(r)}},r.prototype.receive=function(e){try{e=JSON.parse(e)}catch(t){throw new Error("Failed to parse JSON"+e)}if("undefined"!=typeof e.result)"function"==typeof this.waiting[e.id]&&(this.waiting[e.id](e.error,e.result),this.waiting[e.id]=null);else{var n={name:e.event,params:e.params};this.emit("client:event",n,this._receive_cb(e.id).bind(this))}},e.exports=r},function(e,t,n){function r(e,t){this.baseUrl=e,this.user=t}var i=n(9),o=n(3);r.prototype.getInstance=function(e,t,n){var r="/instances/user/"+this.user.id+"/workspace/"+e;this.ajax(r,{type:"GET",success:function(e){this.instance=e,t(null,e)}.bind(this),error:function(e){n(e,null)}.bind(this)})},r.prototype.deleteInstance=function(e,t){this.ajax("/instances/"+e,{type:"DELETE",data:{user_id:this.user.id},error:t.error,success:t.success})},r.prototype.ajax=function(e,t){void 0===t.data&&(t.data={}),t.data=o.extend({user_auth_token:this.user.authentication_token},t.data),i.ajax(this.baseUrl+e,t)},e.exports=r},function(e,t,n){var r=n(187),i=n(179),o=function(e){var t=this;e.onmessage=function(e){t.emit("data",e.data)},e.onclose=function(e){t.emit("end")},e.onopen=function(e){t.emit("connect")},this.write=function(t){return e.send(t)},this.end=function(){return e.close()}};r.inherits(o,i.EventEmitter),e.exports=o},function(e,t,n){function r(e,t){this.server=e,this.socketOptions=t||{}}var i=n(1012),o=n(187),a=n(179);o.inherits(r,a.EventEmitter),r.prototype.connect=function(){this.socket=new i(this.server,null,this.socketOptions),this.socket.onopen=this._onopen.bind(this),this.socket.onmessage=this._onmessage.bind(this),this.socket.onerror=this._onerror.bind(this),this.socket.onclose=this._onclose.bind(this)},r.prototype.close=function(e,t){this.socket.close(e,t)},r.prototype.send=function(e){this.socket.send(e)},r.prototype._onopen=function(e){this.emit("connect")},r.prototype._onmessage=function(e){this.emit("message",e.data)},r.prototype._onerror=function(e){this.emit("error",e)},r.prototype._onclose=function(e){this.emit("close")},e.exports=r},function(e,t){"use strict";t.__esModule=!0;var n={value:"",mode:"text/javascript",theme:"cc",lineWrapping:!0,lineNumbers:!0,indentUnit:2,tabSize:2,indentWithTabs:!1,dragDrop:!1,matchTags:{bothTags:!0},matchBrackets:!0,styleActiveLine:!0,foldGutter:!0,foldOptions:{widget:"∙ ∙ ∙"},gutters:["CodeMirror-linenumbers","CodeMirror-foldgutter"],autoRefresh:!0};t["default"]=n,e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0;var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=n(3),a=r(o),s=n(1),l=r(s),u=n(15),c=r(u),d=n(315),p=n(893),f=r(p),h=n(556),m=r(h),g=n(316),v=n(2),y=r(v),_=l["default"].createClass({displayName:"CMEditor",propTypes:{filename:l["default"].PropTypes.string,mode:l["default"].PropTypes.string,content:l["default"].PropTypes.string.isRequired,onChange:l["default"].PropTypes.func,disabled:l["default"].PropTypes.bool,readOnly:l["default"].PropTypes.bool},getDefaultProps:function(){return{readOnly:!1,disabled:!1,content:"",filename:""}},getInitialState:function(){return{editor:null}},componentDidMount:function(){this.showFile()},shouldComponentUpdate:function(e){var t=this.getContent()!==e.content&&this.isClean(),n=this.props.filename!==e.filename;return t||n},componentDidUpdate:function(){this.getContent()!==this.props.content&&this.showFile()},componentWillUnmount:function(){this.destroy()},destroy:function(){if(this.state.editor){var e=this.state.editor.getWrapperElement();e&&e.parentNode.removeChild(e)}},getContent:function(){return a["default"].result(this.state.editor,"getValue")},showFile:function(){var e=c["default"].findDOMNode(this.refs.editorParent);if(e){var t=this.props.mode;t||!this.props.filename||this.props.filename.match(/\.min\./)||(t=g.mimetypeForFilename(this.props.filename));var n=Object.assign({},m["default"],{mode:t,value:this.props.content||"",readOnly:this.props.readOnly}),r=this.state.editor;r?a["default"].isString(this.props.content)&&(r.setOption("mode",t),r.getDoc().setValue(this.props.content),this.markClean(),r.getDoc().clearHistory()):(r=d.codemirror(e,n),r.on("change",a["default"].debounce(this.onChange,200)),this.setState({editor:r}))}},markClean:function(){this.state.editor&&this.state.editor.getDoc().markClean()},isClean:function(){return this.state.editor?this.state.editor.getDoc().isClean():!0},onChange:function(){var e=this.getContent();a["default"].isFunction(this.props.onChange)&&(this.props.onChange(e),this.markClean())},handleClick:function(){var e=this.state.editor;e&&e.focus()},render:function(){var e,t=a["default"].omit(this.props,"onChange","disabled","content"),n=y["default"]((e={},e[f["default"].editor]=!0,e[f["default"].disabled]=this.props.disabled,e[d.theme.defaults]=!0,e[d.theme.cc]=!0,e));return l["default"].createElement("div",i({},t,{className:n,ref:"editorParent",onClick:this.handleClick}))}});t["default"]=_,e.exports=t["default"]},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0;var i=n(1),o=r(i),a=n(2),s=r(a);t["default"]=o["default"].createClass({displayName:"tabbed_views",getInitialState:function(){return{activeIndex:this.props.startIndex}},componentDidUpdate:function(e,t){t.activeIndex!==this.state.activeIndex&&this.props.onChange&&this.props.onChange(t.activeIndex,this.state.activeIndex)},setActiveTab:function(e){this.setState({activeIndex:e})},render:function(){var e=[],t=[];return this.props.headings.forEach(function(n,r){var i=s["default"]({"tabbed-view__button":!0,"tabbed-view__button--active":r===this.state.activeIndex}),a=this.setActiveTab.bind(this,r);e.push(o["default"].createElement("div",{className:i,onClick:a},n)),t.push(o["default"].createElement("div",null,this.props.contents[r]))},this),o["default"].createElement("div",null,o["default"].createElement("article",{className:"fit-full tabbed-view__header-article"},o["default"].createElement("div",{className:"grid-row tabbed-view__header"},o["default"].createElement("div",{className:"grid-col-12 grid-col--center grid-col--no-spacing"},o["default"].createElement("div",{className:"tabbed-view__tabs"},e)))),o["default"].createElement("article",{className:"fit-full tabbed-view__content-article"},o["default"].createElement("div",{className:"grid-row"},o["default"].createElement("div",{className:"grid-col-12 grid-col--no-spacing"},o["default"].createElement("div",null,t[this.state.activeIndex])))))}}),e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0;var i=n(1),o=r(i),a=n(30),s=r(a);t["default"]=o["default"].createClass({displayName:"view_more",mixins:[s["default"]],propTypes:{defaultExpanded:o["default"].PropTypes.bool,expandText:o["default"].PropTypes.string,closeText:o["default"].PropTypes.string,children:o["default"].PropTypes.oneOf(o["default"].PropTypes.element,o["default"].PropTypes.array)},getInitialState:function(){return{expanded:!!this.props.defaultExpanded}},getDefaultProps:function(){return{defaultExpanded:!1,expandText:"",closeText:""}},toggle:function(){this.setState({expanded:!this.state.expanded})},getIcon:function(){return this.state.expanded?o["default"].createElement("span",{className:"fcn-icon fcn-icon-arrowDropdownUp"}):o["default"].createElement("span",{className:"fcn-icon fcn-icon-arrowDropdown"})},getControlText:function(){return this.state.expanded?this.props.closeText:this.props.expandText},render:function(){return o["default"].createElement("span",{className:"view-more"},o["default"].createElement("span",{onClick:this.toggle,className:"view-more__text"}," ",this.getControlText()),o["default"].createElement("span",{onClick:this.toggle,className:"view-more__toggle"},this.getIcon()),this.state.expanded?this.props.children:null)}}),e.exports=t["default"]},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0;var i=n(9),o=(r(i),n(1)),a=r(o),s=n(72),l=r(s),u=n(587),c=r(u),d=n(26),p=r(d),f=n(35),h=r(f),m=n(325),g=r(m),v=n(48),y=r(v);t["default"]=a["default"].createClass({displayName:"AnonymousUserWall",render:function(){var e=this;return a["default"].createElement(l["default"],{padding:!1,width:"350px",height:"500px"},a["default"].createElement(c["default"],{ref:"tabbedView",headings:["Sign Up","Sign In"],contents:[a["default"].createElement("div",{style:{textAlign:"left"},dangerouslySetInnerHTML:{__html:this.props.signUpForm}}),a["default"].createElement("div",{style:{textAlign:"left"},dangerouslySetInnerHTML:{__html:this.props.signInForm}})],startIndex:0,onChange:function(t,n){0===n&&e.renderRecaptcha();var r=new y["default"]({LoginRegistrationForms:g["default"]});r.mountReactComponents()}}))},componentDidMount:function(){var e=this,t=0,n=setInterval(function(){window.grecaptcha?(clearInterval(n),e.renderRecaptcha()):t>30?(clearInterval(n),p["default"].increment("recaptcha.render.failure"),h["default"].error({message:"Recaptcha render failed; grecaptcha not defined"},"javascript_errors")):t++},500),r=new y["default"]({LoginRegistrationForms:g["default"]});r.mountReactComponents()},renderRecaptcha:function(){window.grecaptcha&&setTimeout(function(){grecaptcha.render(document.querySelector(".js-sign-up-captcha"),{sitekey:"6LeYzQcTAAAAAAqXDQ36Gcb2JKhONzxPRfDOiLE7"}),p["default"].increment("recaptcha.render.success")},200)}}),e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0;var i=n(1),o=r(i),a=o["default"].createClass({displayName:"GetAnswerContent",propTypes:{keepTrying:o["default"].PropTypes.func.isRequired,showAnswer:o["default"].PropTypes.func.isRequired},render:function(){return o["default"].createElement("div",{className:"editor-tooltips"},o["default"].createElement("h3",null,"Having Trouble?"),o["default"].createElement("a",{className:"button button--secondary editor-tooltips__button",onClick:this.props.keepTrying},"Keep Trying"),o["default"].createElement("a",{className:"button button--secondary button--alternate editor-tooltips__button",onClick:this.props.showAnswer},"Get Code"))}});t["default"]=a,e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0;var i=n(1),o=r(i),a=o["default"].createClass({displayName:"PromptRunContent",render:function(){return o["default"].createElement("div",{className:"editor-tooltips"},o["default"].createElement("p",null,"Try running your code again!"))}});t["default"]=a,e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0;var i=n(3),o=r(i),a=n(1),s=r(a),l=n(5),u=r(l),c=n(2),d=r(c),p=n(39),f=r(p),h=n(724),m=r(h),g=n(198),v=r(g),y=n(208),_=r(y),b=n(351),x=(r(b),n(345)),w=r(x),k=n(346),C=r(k),M=n(557),T=r(M),S=n(636),E=r(S),D=n(621),L=r(D),P=n(622),N=r(P),A=n(111),R=r(A),I=n(17),O=r(I),F=n(212),j=r(F),Y=n(167),H=r(Y),B=n(101),U=r(B),W=n(742),z=r(W);n(213);var q=s["default"].createClass({displayName:"CodeEditor",propTypes:{presenter:s["default"].PropTypes.object.isRequired,geometry:s["default"].PropTypes.object.isRequired,modifiers:s["default"].PropTypes.object.isRequired,helpers:s["default"].PropTypes.object.isRequired,broadcast:s["default"].PropTypes.func.isRequired,user:s["default"].PropTypes.object},mixins:[m["default"],f["default"],u["default"].connect(j["default"],"currentFiles"),u["default"].listenTo(z["default"],"setOrphans")],getInitialState:function(){return{promptRun:!1,currentFiles:{files:[],active:null},hasTyped:!1,orphans:[],dimensions:{width:this.props.geometry.width(),height:this.props.geometry.height()}}},componentWillMount:function(){var e=this.normalizeFileKeys(o["default"].clone(this.props.presenter.files));H["default"].publishFilenames(e)},normalizeFileKeys:function(e){var t=[];return e.forEach(function(e){var n={};n.name=e.filename,n.type=e.type,t.push(n)}),t},setOrphans:function(e){e.length>this.state.orphans.length&&(this.setState({orphans:e}),"artursapek"!==O["default"].get("username")&&this.props.broadcast("openMissingFilesDialog",e[0]))},onSubmitEvent:function(e){e.preventDefault(),this.state.running||this.submitClick()},onModelChanged:function(e){U["default"].updateCurrentFile(e),this.state.hasTyped||this.setState({hasTyped:!0})},submitClick:function(){var e=this;this.state.offerAnswer&&this.props.broadcast("keepTrying"),this.setState({offerAnswer:!1,promptRun:!1,hasTyped:!1}),this.props.broadcast("updateFiles"),U["default"].saveFiles().then(function(){e.props.broadcast("submit")})["catch"](function(){e.props.broadcast("submit")})},folderClick:function(e,t){t.preventDefault(),this.props.broadcast("showFileNav",this.props.presenter.files)},onEditorFocus:function(){this.state.offerAnswer&&(this.props.broadcast("keepTrying"),this.setState({offerAnswer:!1}))},updateTree:function(){this.props.broadcast("getFileTree")},offerAnswer:function(){this.setState({offerAnswer:!0})},promptRun:function(){this.setState({promptRun:!0})},_renderFileControls:function(){return this.props.presenter.navigator_disabled?null:[s["default"].createElement(C["default"],{className:"fcn-control fcn-icon fcn-icon-folder",clickHandler:this.folderClick,overflow:!1,isControl:!0,tabId:"folderControl"})]},_renderPlaceholder:function(){return s["default"].createElement("div",{className:"fcn-code-editor__placeholder"},s["default"].createElement("div",{className:"fcn-code-editor__placeholder__icon"},s["default"].createElement("span",{className:"fcn-icon fcn-icon-fileAlt"})),s["default"].createElement("div",null,"Code Editor"),s["default"].createElement("div",null,"Open files here to edit them"))},activeFile:function(){return null===this.state.currentFiles.active?void 0:this.state.currentFiles.files[this.state.currentFiles.active]},reloadFile:function(e){if(this.state.currentFiles.files){var t=this.state.currentFiles.files.map(function(e){return e.name});if(t.indexOf(e)>-1){var n=R["default"].contentEncoding(R["default"].extname(e));U["default"].reloadFile(e,n)}}},render:function(){var e=this,t=void 0,n=void 0,r=[];this.state.currentFiles.files&&this.state.currentFiles.files.length>0&&(this.state.currentFiles.files.forEach(function(t,n){if(!t.isDir){var i=e.state.currentFiles.active===n,o="100.0"/e.state.currentFiles.files.length,a=t.name.split("/"),l=a[a.length-1],u=t.name;r.push(s["default"].createElement(C["default"],{title:l,key:"codeEditorTab-"+u,isActive:i,tabId:n,size:o,canClose:!e.props.presenter.navigator_disabled,clickHandler:U["default"].setCurrentOpenFile,closeHandler:U["default"].closeFile}))}}),this.state.currentFiles.files.length>0&&(t=this.state.currentFiles.files[this.state.currentFiles.active].name),n=/\//.test(t));var i,a=this.state.running||-1===!this.state.currentFiles.active,l=d["default"]({editor__submit:!0,"fcn-button":!0,"fcn-button--lantern":!a,"fcn-button--inactive":a,"fcn-button--lantern--go":!a&&this.state.hasTyped}),u=function(){e.setState({offerAnswer:!1}),e.props.broadcast("keepTrying")},c=function(){e.setState({offerAnswer:!1}),e.props.broadcast("showAnswer")},p=null;this.state.offerAnswer?p=s["default"].createElement(v["default"],{position:"left",arrowPosition:"left"},s["default"].createElement(L["default"],{keepTrying:u,showAnswer:c})):this.state.promptRun&&(p=s["default"].createElement(v["default"],{position:"left",arrowPosition:"left"},s["default"].createElement(N["default"],null)));var f=this.props.modifiers.isProject?"Save":"Run",h=this.activeFile(),m=o["default"].get(window,"CCDATA.current_user.pro");i=s["default"].createElement("div",{className:"editor-footer__buttons"},p,s["default"].createElement("div",{className:l,onClick:this.state.running?null:this.submitClick,ref:"runButton"},this.state.running?s["default"].createElement("div",{className:"fcn-spinner"}):f),m&&h?s["default"].createElement(E["default"],{files:this.state.currentFiles.files}):null);var g="";return this.state.currentFiles.files.length>0&&(g=this.state.currentFiles.files[this.state.currentFiles.active].content),s["default"].createElement("div",{className:d["default"]({editor:!0,"editor--with-filepath":n,"editor--empty":-1===!this.state.currentFiles.active})},s["default"].createElement("div",{className:"fcn-component-header"},s["default"].createElement(w["default"],null,this._renderFileControls(),r,s["default"].createElement(C["default"],{className:"fcn-control fcn-icon fcn-icon-fullscreen","data-cue":"discovery-fullscreen",clickHandler:this.props.helpers.toggleFullscreen,canClose:!1,overflow:!1,isControl:!0,align:"right"}))),this.state.currentFiles.files.length>0?s["default"].createElement(T["default"],{disabled:!1,onFocus:this.onEditorFocus,onChange:this.onModelChanged,content:g,filename:this.state.currentFiles.files[this.state.currentFiles.active].name}):this._renderPlaceholder(),s["default"].createElement("div",{className:"editor-footer-container"},n?s["default"].createElement("div",{className:"editor-filepath"},s["default"].createElement("span",{className:"fcn-icon fcn-icon-folder"})," ",t):null,s["default"].createElement("div",{className:"editor-footer"},s["default"].createElement("div",{className:"fcn-tabs-container"},i))),s["default"].createElement(_["default"],this.props.presenter.errors))}});t["default"]=q,e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0;var i=n(17),o=(r(i),n(1)),a=r(o),s=n(2),l=r(s),u=n(5),c=r(u),d=n(168),p=r(d),f=n(741),h=r(f),m=a["default"].createClass({displayName:"DiscoveryCue",mixins:[c["default"].listenTo(h["default"],"onInterfaceChange")],propTypes:{cue:a["default"].PropTypes.shape({target:a["default"].PropTypes.string.isRequired,orientation_special:a["default"].PropTypes.string,content:a["default"].PropTypes.string.isRequired})},getInitialState:function(){var e=30;return{hidden:!1,targetLeft:void 0,targetTop:void 0,targetWidth:void 0,MIDDLE_OFFSET:e}},onInterfaceChange:function(){this.reposition()},reposition:function(){var e=document.querySelector('[data-cue="'+this.props.cue.target+'"]'),t=document.getElementById("workspace");if(e&&t&&e.clientWidth>0){var n=e.getBoundingClientRect(),r=document.getElementById("workspace").clientWidth,i=document.getElementById("workspace").clientHeight;this.setState({hidden:!1,targetWidth:n.width,targetLeft:n.left-10,targetTop:n.top-10,workspaceWidth:r,workspaceHeight:i})}else this.setState({hidden:!0})},componentDidUpdate:function(e){void 0!==this.state.targetLeft||this.state.hidden||this.reposition()},onMouseOver:function(e,t){var n=document.getElementById("workspace").getBoundingClientRect(),r=(e.clientX-n.left,e.clientY-n.top,n.width),i=n.height,o=this.state.targetTop/i>.5?"above":"below",a=this.state.targetLeft/r>.5?"left":"right";this.setState({orientation:a+"-"+o})},_cueClick:function(){p["default"].cueSeen(this.props.cue.target)},render:function(){var e=l["default"]({"discovery-cue__arrow":!0,"discovery-cue__arrow--bottom-left":"right-above"===this.state.orientation,"discovery-cue__arrow--top-left":"right-below"===this.state.orientation,"discovery-cue__arrow--bottom-right":"left-above"===this.state.orientation,"discovery-cue__arrow--top-right":"left-below"===this.state.orientation}),t=l["default"]({"discovery-cue":!0,"discovery-cue--hidden":this.state.hidden||void 0===this.state.targetLeft||void 0===this.state.targetTop||void 0===this.state.targetWidth}),n=l["default"]({"discovery-cue--content-container":!0,"discovery-cue--top-right":"right-above"===this.state.orientation,"discovery-cue--bottom-left":"left-below"===this.state.orientation,"discovery-cue--bottom-right":"right-below"===this.state.orientation,"discovery-cue--top-left":"left-above"===this.state.orientation}),r=this.state.targetLeft/this.state.workspaceWidth*100,i=this.state.targetTop/this.state.workspaceHeight*100;this.state.targetWidth/this.state.workspaceWidth*100;"middle-edge"===this.props.cue.orientation_special&&(i+=this.state.MIDDLE_OFFSET);var o={left:r+"%",top:i+"%"};return a["default"].createElement("div",{className:t,style:o,onClick:this._cueClick,onMouseOver:this.onMouseOver},a["default"].createElement("div",{className:n},a["default"].createElement("div",{className:e}),a["default"].createElement("p",{className:"discovery-cue--content"},this.props.cue.content)),a["default"].createElement("div",{className:"pulse"}))}});t["default"]=m,e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0;var i=n(1),o=r(i),a=n(39),s=r(a),l=n(2),u=(r(l),n(65)),c=r(u),d=o["default"].createClass({displayName:"Navigation",propTypes:{navigate:o["default"].PropTypes.func.isRequired,currentLessonIndex:o["default"].PropTypes.number.isRequired,currentExerciseIndex:o["default"].PropTypes.number.isRequired,farthestCompleteExerciseIndex:o["default"].PropTypes.oneOf([o["default"].PropTypes.instanceOf(void 0),o["default"].PropTypes.number]),course:o["default"].PropTypes.object.isRequired,toggleDrawer:o["default"].PropTypes.func.isRequired,mayProceed:o["default"].PropTypes.bool.isRequired,mayReset:o["default"].PropTypes.bool.isRequired},mixins:[s["default"]],getInitialState:function(){var e=this.getMilestones();return{lessonBeginnings:e.lessonBeginnings,exerciseCount:e.exerciseCount}},onNextEvent:function(){this.next()},onPreviousEvent:function(){this.previous()},next:function(){this.props.mayProceed&&this.props.navigate(this.props.currentLessonIndex,this.props.currentExerciseIndex+1)},previous:function(){0!==this.percentageOfCurrent()&&this.props.navigate(this.props.currentLessonIndex,this.props.currentExerciseIndex-1)},isLastLesson:function(){return this.props.currentLessonIndex===this.props.course.lessons_order.length-1},isLastExerciseInLesson:function(){return this.props.currentExerciseIndex+1===this.currentLessonExerciseCount()},isLastExerciseInCourse:function(){return this.isLastLesson()&&this.isLastExerciseInLesson()},nextButtonText:function(){return this.isLastExerciseInLesson()?"Up Next":"Next"},getMilestones:function(){var e=[],t={lessonBeginnings:[],exerciseCount:0};return this.props.course.lessons_order.forEach(function(n){var r=this.props.course.lessons[n];t.lessonBeginnings.push(e.length),r.exercises_order.forEach(function(t){var n=r.exercises[t];e.push(n)})}.bind(this)),t.exerciseCount=e.length,t},percentageOfCurrent:function(){return(this.state.lessonBeginnings[this.props.currentLessonIndex]+this.props.currentExerciseIndex)/this.state.exerciseCount},currentLessonExerciseCount:function(){var e=this.state.lessonBeginnings,t=this.props.currentLessonIndex+1;return e.length===t?this.state.exerciseCount-e[this.props.currentLessonIndex]:e[t]-e[this.props.currentLessonIndex]},render:function(){var e=this.percentageOfCurrent(),t=this.props.mayProceed?"lantern--go":"everyday";return o["default"].createElement("div",{className:"fcn-nav-wrapper"},o["default"].createElement("div",{className:"fcn-nav-wrapper__center fcn-progress-container"},o["default"].createElement(c["default"],{type:"everyday",inactive:0===e,onClick:this.previous},"Back"),o["default"].createElement("div",{className:"fnc-nav__exercise-count"},this.props.currentExerciseIndex+1+"/"+this.currentLessonExerciseCount()),o["default"].createElement(c["default"],{id:"discovery-next",type:t,inactive:!this.props.mayProceed,onClick:this.next},this.nextButtonText())))}});t["default"]=d,e.exports=t["default"]},,,,,,,function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0;var i=n(1),o=r(i),a=n(2),s=r(a),l=n(9),u=r(l);n(22),t["default"]=o["default"].createClass({displayName:"god_mode",propTypes:{onAdminChange:o["default"].PropTypes.func.isRequired,setProgressToCurrentExercise:o["default"].PropTypes.func,uploadInitialSavepoint:o["default"].PropTypes.func.isRequired,serverUrl:o["default"].PropTypes.string,prerender:o["default"].PropTypes.object,currentWorkspace:o["default"].PropTypes.object,contentStudioURL:o["default"].PropTypes.string,isAdmin:o["default"].PropTypes.bool},getInitialState:function(){return{open:!1}},_toggle:function(){this.setState({open:!this.state.open})},releaseTerminalFormRender:function(){var e=CCDATA.current_user.authentication_token,t=CCDATA.current_user._id;return o["default"].createElement("form",{method:"post",action:"/admin/management_service/release_terminal",name:"release_terminal"},o["default"].createElement("input",{type:"hidden",name:"authenticity_token",value:e}),o["default"].createElement("input",{type:"hidden",name:"id",value:t}),o["default"].createElement("input",{type:"hidden",name:"content[reset_progress]",value:"1"}),o["default"].createElement("input",{type:"hidden",name:"content[skill_slug]",value:this.props.currentWorkspace.slug}))},deleteWorkspaceFormRender:function(){var e=CCDATA.current_user.authentication_token,t=CCDATA.current_user._id;return o["default"].createElement("form",{method:"post",action:"/admin/management_service/delete_workspace",name:"delete_workspace"},o["default"].createElement("input",{type:"hidden",name:"authenticity_token",value:e}),o["default"].createElement("input",{type:"hidden",name:"id",value:t}),o["default"].createElement("input",{type:"hidden",name:"workspace_slug",value:this.props.currentWorkspace.slug}))},releaseTerminal:function(){var e=u["default"]('form[name="release_terminal"]');e.submit()},deleteWorkspace:function(){var e=u["default"]('form[name="delete_workspace"]');e.submit()},render:function(){var e=this,t="http://"+this.props.serverUrl+".terminal.com";return o["default"].createElement("div",{className:"fcn-godmode"},o["default"].createElement("div",{className:s["default"]({"fcn-godmode__button":!0,"fcn-godmode__button--active":this.state.open}),onClick:this._toggle},o["default"].createElement("span",{className:"new-cc-icon icon-gear icon--"})),o["default"].createElement("div",{className:s["default"]({"fcn-godmode__menu":!0,"fcn-godmode__menu--open":this.state.open})},o["default"].createElement("div",{className:"godmode-title"},o["default"].createElement("h5",null,"Content Tools & Progress")),o["default"].createElement("div",null,o["default"].createElement("button",{onClick:function(){window.location.href=e.props.contentStudioURL},className:"button",title:"Use Content Studio to edit this exercise or project."},"Edit in Content Studio")),void 0===this.props.setProgressToCurrentExercise?null:o["default"].createElement("div",null,o["default"].createElement("button",{onClick:this.props.setProgressToCurrentExercise,className:"button",title:"Changes your progress to this exercise, but does not change your Workspace. To do that, use 'Reset Exercise'."},"Set Progress to This Exercise")),o["default"].createElement("div",{title:"Unlock navigation to move freely through the course, even if you haven't completed the exercises."},o["default"].createElement("label",{htmlFor:"nolockCheckbox"},"Allow All Navigation"),o["default"].createElement("div",{className:"godmode__checkbox"},o["default"].createElement("input",{type:"checkbox",onChange:function(t){e.props.onAdminChange("nolock",t)},defaultChecked:!1,id:"nolockCheckbox"}),o["default"].createElement("label",{htmlFor:"nolockCheckbox"}))),o["default"].createElement("div",{className:"godmode-title"},o["default"].createElement("h5",null,"Workspace Tools")),o["default"].createElement("div",null,o["default"].createElement("button",{onClick:this.releaseTerminal,className:"button",title:"Click to get a fresh Terminal box. Useful when you want to test Workspace content changes."},"Get New Godex Instance ",this.releaseTerminalFormRender())),o["default"].createElement("div",null,o["default"].createElement("button",{onClick:this.deleteWorkspace,className:"button",title:"Click to delete all files and get new ones. Useful when you want to test Workspace content changes."},"Delete Workspace ",this.deleteWorkspaceFormRender())),o["default"].createElement("div",{className:"godmode-title",title:"Lakitu is used to create 'safe' states of the application that users can call for if they mess their Workspace up. These states are called Savepoints."},o["default"].createElement("h5",null,"Lakitu")),this.props.isAdmin?o["default"].createElement("div",null,o["default"].createElement("button",{onClick:this.props.uploadInitialSavepoint,className:"button",title:"Useful for creating Savepoints in Projects or in the first exercise of a topic/lesson."},"Upload Initial Savepoint")):void 0,this.props.isAdmin?o["default"].createElement("div",{title:"Automatically creates Savepoints when you land on an exercise or when you pass all Checkpoints."},o["default"].createElement("label",{htmlFor:"savepointCheckbox"},"Upload Savepoints"),o["default"].createElement("div",{className:"godmode__checkbox"},o["default"].createElement("input",{type:"checkbox",onChange:function(t){e.props.onAdminChange("uploadSavepoints",t)},defaultChecked:!1,id:"savepointCheckbox"}),o["default"].createElement("label",{htmlFor:"savepointCheckbox"}))):void 0,o["default"].createElement("div",{
className:"godmode-title",title:"Useful information for QA/Engineering purposes."},o["default"].createElement("h5",null,"Metadata")),o["default"].createElement("div",{className:"godmode__metadata"},void 0===this.props.currentWorkspace?void 0:o["default"].createElement("div",null,o["default"].createElement("p",null,"Workspace:"),o["default"].createElement("p",null,this.props.currentWorkspace.slug)),void 0===this.props.serverUrl?void 0:o["default"].createElement("div",null,o["default"].createElement("p",null,"Instance:"),o["default"].createElement("p",null,o["default"].createElement("a",{href:t,target:"_blank"},this.props.serverUrl))),this.props.prerender?o["default"].createElement("div",{id:"godmode__render-info"},o["default"].createElement("p",null,"Render Time:"),o["default"].createElement("p",null,Math.ceil(this.props.prerender.duration),"ms (",this.props.prerender.hostname,")")):null)))}}),e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0;var i=n(1),o=r(i),a=n(882),s=r(a),l=n(2),u=r(l),c=n(115),d=r(c),p=n(112),f=r(p),h=o["default"].createClass({displayName:"Hint",propTypes:{hint:o["default"].PropTypes.string.isRequired},getInitialState:function(){return{showHint:!1,hint:d["default"](this.props.hint)}},toggleHint:function(){this.setState({showHint:!this.state.showHint})},render:function(){var e,t,n,r=u["default"]((e={},e[s["default"].hintBody]=!0,e[s["default"].hintBodyShown]=this.state.showHint,e)),i=u["default"]((t={"fcn-icon":!0,"fcn-icon-arrowDropdown":!this.state.showHint,"fcn-icon-arrowDropdownUp":this.state.showHint},t[s["default"].toggleArrow]=!0,t)),a=u["default"]((n={"fcn-icon":!0,"fcn-icon-supportFilled":!0},n[s["default"].hintHeaderIcon]=!0,n));return o["default"].createElement("div",{className:s["default"].hint},o["default"].createElement(f["default"],{dontTrack:this.state.showHint,category:"user",linkContentTarget:"hint"},o["default"].createElement("div",{className:s["default"].hintHeader,onClick:this.toggleHint},o["default"].createElement("span",{className:s["default"].hintHeaderText},o["default"].createElement("span",{className:a}),this.state.showHint?"Hint":"Stuck? Get a hint"),o["default"].createElement("span",{className:i}))),o["default"].createElement("div",{className:r,dangerouslySetInnerHTML:{__html:this.state.hint}}))}});t["default"]=h,e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0;var i=n(3),o=r(i),a=n(1),s=r(a),l=n(65),u=r(l),c=n(342),d=n(354),p=r(d),f=n(198),h=r(f),m=n(206),g=r(m),v=s["default"].createClass({displayName:"ProjectsFooter",propTypes:{course:s["default"].PropTypes.object,initialUnit:s["default"].PropTypes.string,initialLesson:s["default"].PropTypes.string,initialExercise:s["default"].PropTypes.string,disabled:s["default"].PropTypes.bool,backPath:s["default"].PropTypes.string.isRequired,skillTitle:s["default"].PropTypes.string.isRequired,courseSlug:s["default"].PropTypes.string.isRequired,projectSlug:s["default"].PropTypes.string.isRequired,projectTitle:s["default"].PropTypes.string.isRequired,onProjectComplete:s["default"].PropTypes.func,tasks:s["default"].PropTypes.array,tasksComplete:s["default"].PropTypes.bool.isRequired,skillMeta:s["default"].PropTypes.object.isRequired,courseMeta:s["default"].PropTypes.object.isRequired},getInitialState:function(){return{disabled:!1,buttonText:"Up Next",showTooltip:!1}},getAssessmentCount:function(){var e=arguments.length<=0||void 0===arguments[0]?!1:arguments[0];return e?o["default"].where(this.props.tasks,{done:!0}).length:this.props.tasks.length},showTooltip:function(){this.setState({showTooltip:!0})},hideTooltip:function(){this.setState({showTooltip:!1})},projectComplete:function(){this.props.tasksComplete&&o["default"].isFunction(this.props.onProjectComplete)&&this.props.onProjectComplete()},render:function(){var e="everyday",t=null;return this.props.tasksComplete?e="lantern--go":this.state.showTooltip&&(t=s["default"].createElement(h["default"],{style:{width:500}},s["default"].createElement("p",null,s["default"].createElement("strong",null,"Project in progress.")," Mark tasks as complete by checking them off in the left panel to finish."))),s["default"].createElement(c.Footer,{disabled:this.props.disabled,course:this.props.course,title:this.props.title,titleRoute:o["default"].get(this.props,"exitPaths.back"),initialUnit:this.props.initialUnit,initialLesson:this.props.initialLesson,initialExercise:this.props.initialExercise},s["default"].createElement(c.FooterSection,{position:"center"},s["default"].createElement("div",{className:"fcn-project-footer",onMouseOver:this.showTooltip,onMouseOut:this.hideTooltip},s["default"].createElement(p["default"],{total:this.getAssessmentCount(),complete:this.getAssessmentCount(!0)}),t,s["default"].createElement(u["default"],{key:"pf-btn-"+e,type:e,inactive:!this.props.tasksComplete,onClick:this.projectComplete},this.state.buttonText))),s["default"].createElement(c.FooterSection,{position:"right"},s["default"].createElement(g["default"],{noun:"project",allowReset:!0,courseSlug:this.props.courseSlug,contentSlug:this.props.projectSlug,contentTitle:this.props.projectTitle,courseMeta:this.props.courseMeta})))}});t["default"]=v,e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0;var i=n(3),o=r(i),a=n(1),s=r(a),l=n(71),u=r(l),c=n(63),d=r(c),p=n(403),f=r(p),h=n(637),m=r(h),g=window.ClientRect,v=s["default"].createClass({displayName:"SharePopover",propTypes:{rect:s["default"].PropTypes.instanceOf(g).isRequired,close:s["default"].PropTypes.func.isRequired,files:s["default"].PropTypes.array.isRequired,isOpen:s["default"].PropTypes.bool.isRequired},getInitialState:function(){return{gistURL:null,loading:!1}},componentWillReceiveProps:function(e){e.isOpen&&!this.props.isOpen&&this.shareAll()},getPosition:function(){var e=this.props.rect;return e?{top:Math.round(e.top-5),left:Math.round(e.right-e.width/2)}:{}},handleClose:function(){this.props.close()},shareFiles:function(){var e=this,t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];this.setState({loading:!0}),m["default"]({description:"Codecademy export","public":!1,files:t}).then(function(t){e.setState({gistURL:t.url,loading:!1})})["catch"](function(e){})},shareAll:function(){var e={};o["default"].each(this.props.files,function(t){e[t.name]={content:t.content}}),this.shareFiles(e)},getGistURL:function(){return this.state.gistURL?s["default"].createElement("div",{className:f["default"].gistResult},s["default"].createElement("a",{className:f["default"].gistOpen,href:this.state.gistURL,target:"false"},"Open"),s["default"].createElement(d["default"],{className:f["default"].gistInput,useDefaultStyles:!1,selectOnClick:!0,value:this.state.gistURL})):void 0},render:function(){var e=null;return this.state.loading?e=s["default"].createElement("div",{className:f["default"].gistLoader},s["default"].createElement("div",{className:"fcn-spinner"})):this.state.gistURL&&(e=this.getGistURL()),s["default"].createElement(u["default"],{isOpen:this.props.isOpen,onOutsideClick:this.handleClose},s["default"].createElement("div",{className:f["default"].popover,style:this.getPosition()},e))}});t["default"]=v,e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0;var i=n(1),o=r(i),a=n(15),s=r(a),l=n(635),u=r(l),c=n(403),d=r(c),p=o["default"].createClass({displayName:"ShareButton",propTypes:{files:o["default"].PropTypes.array},getInitialState:function(){return{open:!1,popoverPosition:null}},showShareOptions:function(){this.setState({open:!0,popoverPosition:this.getPopoverTargetPosition()})},hideShareOptions:function(){this.setState({open:!1})},getPopoverTargetPosition:function(){var e=s["default"].findDOMNode(this.refs.popoverTarget);return e?e.getBoundingClientRect():null},getSharePopover:function(){return o["default"].createElement(u["default"],{isOpen:this.state.open,close:this.hideShareOptions,rect:this.state.popoverPosition,files:this.props.files})},render:function(){return o["default"].createElement("button",{className:d["default"].button,ref:"popoverTarget",onClick:this.showShareOptions},o["default"].createElement("i",{className:"fcn-icon fcn-icon-share"}),this.getSharePopover())}});t["default"]=p,e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e){return new Promise(function(t,n){return a["default"].isEqual(u,e)&&c?void t(c):(u=e,void l["default"].ajax({url:"/gist",cache:!1,method:"POST",dataType:"json",data:e}).done(function(e){c=e,t(e)}).fail(function(e){c=null,n(e)}))})}t.__esModule=!0;var o=n(3),a=r(o),s=n(9),l=r(s),u=null,c=null;t["default"]=i,e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0;var i=n(1),o=r(i),a=n(640),s=r(a),l=n(345),u=r(l),c=n(346),d=r(c),p=n(3),f=r(p),h=n(2),m=r(h),g=o["default"].createClass({displayName:"TerminalContainer",propTypes:{presenter:o["default"].PropTypes.object.isRequired,modifiers:o["default"].PropTypes.object.isRequired,helpers:o["default"].PropTypes.object.isRequired,broadcast:o["default"].PropTypes.func.isRequired,tabsEnabled:o["default"].PropTypes.bool,maxTabs:o["default"].PropTypes.number},getDefaultProps:function(){return{tabsEnabled:!0,maxTabs:3}},getInitialState:function(){return{godexReady:!1,terminals:[],activeTerminal:null}},componentDidMount:function(){this.createInitialTerminal()},createInitialTerminal:function(){this.createNewTerminal()},focusOnActiveTerminal:function(){var e=this;this.getActiveTerminal()&&f["default"].defer(function(){e.getActiveTerminal().focus()})},componentDidUpdate:function(e,t){t.activeTerminal!==this.state.activeTerminal&&this.focusOnActiveTerminal()},tabsEnabled:function(){return this.props.tabsEnabled&&this.props.modifiers.isProject},createTerminalId:function(){return f["default"].uniqueId("terminal")},getActiveTerminal:function(){return this.refs[this.state.activeTerminal]},getAllTerminals:function(){return this.state.terminals.map(function(e){return this.refs[e.id]}.bind(this))},onGodexReady:function(){var e=this.getAllTerminals();e&&this.setState({godexReady:!0})},onGodexDisconnected:function(){this.setState({godexReady:!1})},onResize:function(){var e=this.getAllTerminals();if(e&&e.length){var t=this.getActiveTerminal();if(t&&!t.state.fake&&t.refs.RealTerminal)for(var n=t.refs.RealTerminal.getRowsCols(),r=e,i=Array.isArray(r),o=0,r=i?r:r[Symbol.iterator]();;){var a;if(i){if(o>=r.length)break;a=r[o++]}else{if(o=r.next(),o.done)break;a=o.value}var s=a;s.resize(n)}}},resetTerminals:function(){this.replaceState(Object.assign({},this.getInitialState(),{godexReady:this.state.godexReady})),this.createInitialTerminal()},setActiveTerminal:function(e){this.setState({activeTerminal:e})},onTerminalReady:function(e){var t=f["default"].clone(this.state.terminals);t.forEach(function(t){t.id===e.props.terminalId&&(t.title=e.state.title)}),this.setState({terminals:t})},onTerminalClose:function(e){e&&(this.tabsEnabled()?this.closeTerminal(e):this.resetTerminals())},onTerminalFrProcChange:function(e,t){for(var n=this.state.terminals,r=Array.isArray(n),i=0,n=r?n:n[Symbol.iterator]();;){var o;if(r){if(i>=n.length)break;o=n[i++]}else{if(i=n.next(),i.done)break;o=i.value}var a=o;a.id===e&&(a.title=t)}this.setState({terminals:this.state.terminals})},renderTerminal:function(e){return o["default"].createElement(s["default"],{key:e.id,ref:e.id,terminalId:e.id,onFgProcChange:this.onTerminalFrProcChange,modifiers:this.props.modifiers,presenter:this.props.presenter,broadcast:this.props.broadcast,godexReady:this.state.godexReady,onReady:this.onTerminalReady,onClose:this.onTerminalClose,isActive:e.id===this.state.activeTerminal})},closeTerminal:function(e){var t={};t.terminals=f["default"].reject(this.state.terminals,function(t){return t.id===e}),t.terminals.length&&this.state.activeTerminal===e?t.activeTerminal=t.terminals[t.terminals.length-1].id:t.terminals.length||(t.activeTerminal=null),this.setState(t)},renderTerminalTab:function(e){return o["default"].createElement(d["default"],{key:"terminalTab"+e.id,tabId:e.id,title:e.title,clickHandler:this.setActiveTerminal,canClose:this.state.terminals.length>1,closeHandler:this.closeTerminal,isActive:this.state.activeTerminal===e.id})},createNewTerminal:function(){var e=f["default"].clone(this.state.terminals),t=this.createTerminalId();e.push({id:t,title:"bash"}),this.setState({terminals:e,activeTerminal:t})},atMaxTabs:function(){return this.state.terminals.length>=this.props.maxTabs},render:function(){var e=[],t=[];if(this.state.terminals&&this.state.terminals.length)for(var n=this.state.terminals,r=Array.isArray(n),i=0,n=r?n:n[Symbol.iterator]();;){var a;if(r){if(i>=n.length)break;a=n[i++]}else{if(i=n.next(),i.done)break;a=i.value}var s=a;e.push(this.renderTerminalTab(s)),t.push(this.renderTerminal(s))}else t=o["default"].createElement("div",{className:"fcn-terminal-container__placeholder"},o["default"].createElement("div",{className:"fcn-terminal-container__placeholder__body"},o["default"].createElement("div",{className:"fcn-terminal-container__placeholder__icon fcn-icon fcn-icon-terminal"}),o["default"].createElement("span",{className:"fcn-terminal-container__placeholder__text"},"Terminal"),o["default"].createElement("span",{className:"fcn-terminal-container__placeholder__text"},"Open a new tab by clicking the plus icon")));var l=void 0;this.tabsEnabled()&&(l=o["default"].createElement("div",{className:"fcn-component-header fcn-component-header--tabs"},o["default"].createElement(u["default"],null,o["default"].createElement(d["default"],{className:"fcn-icon fcn-icon-plus fcn-control",key:"terminalTabNew",clickHandler:this.createNewTerminal,isDisabled:this.atMaxTabs(),overflow:!1}),o["default"].createElement("div",{className:"fcn-tabs-container__inner"},e),o["default"].createElement(d["default"],{className:"fcn-control fcn-icon fcn-icon-fullscreen",key:"terminalTabFullscreen",clickHandler:this.props.helpers.toggleFullscreen,overflow:!1,align:"right"}))));var c=m["default"]({"fcn-terminal-container":!0,"fcn-terminal-container--with-header":this.tabsEnabled()});return o["default"].createElement("div",{className:c},l,t)}});t["default"]=g,e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0;var i=n(1),o=r(i);t["default"]=o["default"].createClass({displayName:"OutputTerminal",getInitialState:function(){return{output:[]}},print:function(e,t){void 0===t&&(t="stdout"),this.state.output.push({value:e,type:t}),this.setState({output:this.state.output})},clear:function(){this.setState({output:[]})},render:function(){return o["default"].createElement("div",{className:"fill-container"},o["default"].createElement("div",{className:"fcn-terminal-container"},o["default"].createElement("div",{className:"fcn-terminal fcn-terminal--active"},o["default"].createElement("div",{className:"jqconsole"},this.state.output.map(function(e){return o["default"].createElement("div",{className:"jqconsole-"+e.type},e.value)})))))}}),e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0;var i=n(3),o=r(i),a=n(1),s=r(a),l=n(5),u=r(l),c=n(2),d=r(c),p=n(642),f=r(p),h=n(641),m=r(h),g=n(725),v=r(g),y=n(208),_=r(y),b=n(169),x=r(b),w=s["default"].createClass({displayName:"Terminal",mixins:[v["default"],u["default"].listenTo(x["default"],"openShellIfReady")],propTypes:{presenter:s["default"].PropTypes.object.isRequired,modifiers:s["default"].PropTypes.object.isRequired,broadcast:s["default"].PropTypes.func.isRequired,godexReady:s["default"].PropTypes.bool,isActive:s["default"].PropTypes.bool,onReady:s["default"].PropTypes.func,onClose:s["default"].PropTypes.func,terminalId:s["default"].PropTypes.oneOfType([s["default"].PropTypes.string,s["default"].PropTypes.number])},getDefaultProps:function(){return{isActive:!1,hasSpawned:!1,godexReady:!1}},getInitialState:function(){return{fake:void 0!==this.props.presenter.whitelist,title:"bash",history:[]}},componentDidMount:function(){!this.state.hasSpawned&&x["default"].ready&&this.openShellIfNeeded()},ptyCallback:function(e){this.setState(e)},realTerminalText:function(){return this.refs.RealTerminal?this.refs.RealTerminal.text():void 0},resize:function(e){this.refs.RealTerminal&&this.refs.RealTerminal.resize(e)},onClose:function(){o["default"].isFunction(this.props.onClose)&&this.props.onClose(this.props.terminalId)},onFgProcChange:function(e){this.props.onFgProcChange(this.props.terminalId,e)},getTerminalChild:function(){return this.refs.RealTerminal||this.refs.FakeTerminal},getInitialShell:function(){return this.props.presenter.shell||"bash"},focus:function(){var e=this.getTerminalChild();e&&e.focus()},openShellIfReady:function(e){e&&!this.state.hasSpawned&&this.openShellIfNeeded()},openShellIfNeeded:function(e){var t=e,n=this.props.presenter.whitelist,r=o["default"].isArray(n)?n.length:n;r||(t=this.getInitialShell()),t&&this.props.broadcast("pty",t,this.ptyCallback),this.setState({title:t,hasSpawned:!0}),o["default"].isFunction(this.props.onReady)&&this.props.onReady(this)},render:function(){var e=void 0,t=d["default"]({"fcn-terminal":!0,"fcn-terminal--active":this.props.isActive});return e=this.props.godexReady?this.state.fake?s["default"].createElement(m["default"],{ref:"FakeTerminal",requestShell:this.openShellIfNeeded,history:this.state.history,modifiers:this.props.modifiers,presenter:this.props.presenter,broadcast:this.props.broadcast}):s["default"].createElement(f["default"],{ref:"RealTerminal",id:this.props.terminalId,initialShell:this.getInitialShell(),isActive:this.props.isActive,ptyStream:this.state.ptyStream,onStreamEnd:this.onClose,onFgProcChange:this.onFgProcChange,modifiers:this.props.modifiers,broadcast:this.props.broadcast}):null,s["default"].createElement("div",{className:t},e,s["default"].createElement(_["default"],this.props.presenter.errors))}});t["default"]=w,e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0,n(792);var i=n(3),o=r(i),a=n(9),s=r(a),l=n(1),u=r(l),c=n(15),d=r(c),p={stdout:"jqconsole-stdout",stderr:"jqconsole-stderr"},f="$ ",h="",m=".. ",g={},v={"{}":"brace","[]":"bracket","()":"paren"},y=function(e,t){t(!1)},_={shortcuts:g,matchings:v,continueLabel:m,promptLabel:f,header:h,multilineCallback:y,evaluator:s["default"].noop},b=u["default"].createClass({displayName:"FakeTerminal",propTypes:{presenter:u["default"].PropTypes.object.isRequired,modifiers:u["default"].PropTypes.object.isRequired,broadcast:u["default"].PropTypes.func.isRequired,ptyStream:u["default"].PropTypes.object,history:u["default"].PropTypes.array},getInitialState:function(){var e=this.props.history||[];return{history:e}},componentDidMount:function(){if(!this.props.modifiers.readonly){var e=d["default"].findDOMNode(this.refs.terminal),t=_,n=s["default"](e).jqconsole(t.header,t.promptLabel,t.continueLabel);n.SetHistory(o["default"].pluck(this.state.history,"input")),this.setState({console:n}),this._startPrompt(n)}},_startPrompt:function(e){e.Prompt(!0,this._handleInput)},_handleInput:function(e){var t=this.props.presenter.whitelist;if(void 0!==t){var n=o["default"].find(t,function(t){var n=new RegExp(t.matcher);return n.test(e)});n?void 0!==n.fakeresponse?this._handleFakeResponse(e,n.fakeresponse):void 0!==n.shell?o["default"].isFunction(this.props.requestShell)&&this.props.requestShell(n.shell.cmd):this.props.broadcast("input",e,this._handleResult):/^\ *$/.test(e)?this._handleResult(e,"",1):(this._handleResult(e,"command not recognized",1),this.props.broadcast("result"))}else this.props.broadcast("input",e,this._handleResult);return this},_handleResult:function(e,t,n){t&&this.println(t,"stdout"),this._recordHistoryItem(e,t,n),this._startPrompt(this.state.console),this.props.broadcast("result")},_handleFakeResponse:function(e,t,n){this._recordHistoryItem(e,t.output,n),this._printFakeResultOutput(t)},_printFakeResultOutput:function(e){var t=e.delay||0;setTimeout(function(){this.println(e.output,e.type),this._startPrompt(this.state.console),this.props.broadcast("result")}.bind(this),t)},_recordHistoryItem:function(e,t,n){var r={input:e,output:t,exitCode:n};this.state.history.push(r),this.setState({history:this.state.history})},focus:function(){this.state.console.Focus()},println:function(e,t){"\n"!==e[e.length-1]&&(e+="\n"),this.print(e,t)},print:function(e,t){void 0===t&&(t="stdout"),this.state.console.Write(e,p[t])},render:function(){return u["default"].createElement("div",{className:"fcn-fake-container","data-readonly":this.props.modifiers.readonly},u["default"].createElement("div",{id:"terminalComponent",ref:"terminal"},this.props.modifiers.readonly?u["default"].createElement("div",{className:"jqconsole"},u["default"].createElement("div",{className:"jqconsole-stdout"}," Terminal disabled ")):void 0))}});t["default"]=b,e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0;var i=n(3),o=r(i),a=n(544),s=r(a),l=n(542),u=r(l),c=n(1),d=r(c),p=n(15),f=r(p),h=20,m=d["default"].createClass({displayName:"RealTerminal",propTypes:{modifiers:d["default"].PropTypes.object.isRequired,broadcast:d["default"].PropTypes.func.isRequired,ptyStream:d["default"].PropTypes.object,onStreamEnd:d["default"].PropTypes.func},getInitialState:function(){var e=new s["default"]({cols:60,rows:35,cursorBlink:!1,useFocus:!1});return{term:e,fgCmd:this.props.initialShell}},componentDidMount:function(){var e=f["default"].findDOMNode(this.refs.terminal);this.state.term.open(e),this.state.term.on("keydown",this.onKeydown),this._resize=o["default"].debounce(this.resize,100),this.bindStream()},resize:function(){var e=this,t=arguments.length<=0||void 0===arguments[0]?this.getRowsCols():arguments[0];t.cols<=0||t.rows<=0||this.props.ptyStream.resize(t.cols,t.rows,function(){e.state.term.resize(t.cols,t.rows),e.state.term.refresh(0,t.rows-1)})},text:function(){return this.state.term.asText()},getRowsCols:function(){var e=f["default"].findDOMNode(this.refs.terminal),t=u["default"].getSize(e),n=e.offsetWidth,r=e.offsetHeight,i=Math.floor((n-h)/t.width),o=Math.floor((r-h)/t.height);return{rows:o,cols:i}},onEnter:function(){var e=this;this.props.broadcast("pty_result"),this.props.ptyStream.getFgProcName(function(t,n){if(t);else{var r=n.Content;e.props.onFgProcChange(r)}})},onKeydown:function(e){s["default"].focus&&13===e.keyCode&&this.onEnter()},focus:function(){this.state.term.focus()},bindStream:function(){var e=this;if(void 0!==this.props.ptyStream){var t=this.props.ptyStream,n=this.state.term;t.on("data",this._handleStreamData),t.on("end",function(){n.destroy(),o["default"].isFunction(e.props.onStreamEnd)&&e.props.onStreamEnd()}.bind(this)),n.on("data",function(e){t.write(e)})}},componentDidUpdate:function(e){e.ptyStream!==this.props.ptyStream&&(this.bindStream(),this.resize(this.getRowsCols()))},_handleStreamData:function(e){this.state.term.write(e),this._resize&&this._resize(this.getRowsCols())},handleClick:function(){f["default"].findDOMNode(this.refs.terminal).focus()},render:function(){return d["default"].createElement("div",{className:"fcn-real-container"},d["default"].createElement("div",{className:"real-terminal",tabIndex:"0",ref:"terminal",onClick:this.handleClick}))}});t["default"]=m,e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0;var i=n(1),o=r(i),a=n(2),s=r(a);t["default"]=o["default"].createClass({displayName:"badge_alert",getInitialState:function(){return{hidden:!1}},componentDidMount:function(){setTimeout(function(){this.setState({hidden:!0})}.bind(this),8e3)},_hide:function(){this.setState({hidden:!0})},render:function(){var e=s["default"]({"fcn-alert-box":!0,"fcn-alert-box--hidden":this.state.hidden}),t=this.props.icon?"cc-achievement cc-achievement--"+this.props.icon:"cc-achievement cc-achievement--code-achievement";return o["default"].createElement("div",null,o["default"].createElement("div",{className:e,onClick:this._hide},o["default"].createElement("div",{className:"fcn-alert-box__close"},o["default"].createElement("span",{className:"fcn-icon fcn-icon-close"})),o["default"].createElement("div",{className:"grid-row fcn-alert-box__contents"},o["default"].createElement("div",{className:"grid-col-4"},o["default"].createElement("span",{className:t})),o["default"].createElement("div",{className:"grid-col-8 fcn-alert-box__text"},o["default"].createElement("p",null,"Congratulations! You earned a new achievement:"),o["default"].createElement("p",null,o["default"].createElement("strong",null,this.props.name))))))}}),e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0;var i=n(643),o=r(i),a=n(1),s=r(a);t["default"]=s["default"].createClass({displayName:"badges",_buildAchievements:function(){var e=[],t=this.props.achievements;return t&&t.length>0&&t.forEach(function(t,n){e.push(s["default"].createElement("li",null,s["default"].createElement(o["default"],{name:t.name,slug:t.slug,icon:t.icon,key:t.slug})))}.bind(this)),e},render:function(){return s["default"].createElement("div",{className:"fcn-achievement-alerts"},s["default"].createElement("ul",{className:"fcn-achievement-alerts__list"},this._buildAchievements()))}}),e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0;var i=n(208),o=r(i),a=n(723),s=r(a),l=n(1),u=r(l),c=n(15),d=r(c),p=n(2),f=r(p),h=u["default"].createClass({displayName:"WebBrowser",mixins:[s["default"]],propTypes:{presenter:u["default"].PropTypes.object.isRequired,modifiers:u["default"].PropTypes.object.isRequired,broadcast:u["default"].PropTypes.func.isRequired},getInitialState:function(){return{translatedURL:"",displayURL:this.props.presenter.url,history:[],historyIndex:-1}},_onURLBarKeyDown:function(e){if(13==e.keyCode){var t=d["default"].findDOMNode(this.refs.urlbar).value;this.loadUrl(t),this.props.broadcast("runTests",t)}},_onURLBarChange:function(e){this.setState({displayURL:e.target.value})},componentDidMount:function(){d["default"].findDOMNode(this.refs.browser).addEventListener("load",function(e){this.props.broadcast("loadExternal"),this.state.onLoad&&(this.state.onLoad(),delete this.state.onLoad)}.bind(this)),window.addEventListener("message",this._handleIframeNavigation,!1)},componentWillUnmount:function(){window.removeEventListener("message",this._handleIframeNavigation)},refreshAndTest:function(){this.refresh(function(){this.props.broadcast("runTests")}.bind(this))},_handleIframeNavigation:function(e){var t=e.data.location;void 0!==t&&(/terminal\.com/.test(e.origin)||/localhost/.test(e.origin)||/external-dev\.codecademy/.test(e.origin)||/heroku\.com/.test(e.origin))&&this.props.broadcast("loadInternal",t)},handleBroadcastURL:function(e,t){this.state.history[this.state.historyIndex].displayURL!==this._normalizeURL(t)&&(this.setState({translatedURL:e,displayURL:t}),this.saveURLToHistory(t,e),d["default"].findDOMNode(this.refs.urlbar).value=t)},home:function(e){this.loadUrl(this.props.presenter.url)},refresh:function(e){""===this.state.displayURL?e&&e():this.loadUrl(this.state.displayURL,e)},back:function(){if(this.state.historyIndex<1)return void console.warn("You are already at the beginning.");var e=this.state.history[this.state.historyIndex-1];d["default"].findDOMNode(this.refs.browser).src="",d["default"].findDOMNode(this.refs.browser).src=e.translatedURL,this.setState({historyIndex:this.state.historyIndex-1,displayURL:e.displayURL,translatedURL:e.translatedURL})},loadUrl:function(e,t){var n=this;this.state.onLoad=t,this.props.broadcast("translate",e,function(t){n.setState({translatedURL:t,displayURL:e}),d["default"].findDOMNode(n.refs.browser).src="",d["default"].findDOMNode(n.refs.browser).src=t,n.saveURLToHistory(e,t)})},saveURLToHistory:function(e,t){this.state.historyIndex!==this.state.history.length-1&&(this.state.history=this.state.history.slice(0,this.state.historyIndex+1)),this.state.history.push({displayURL:this._normalizeURL(e),translatedURL:this._normalizeURL(t)}),this.setState({history:this.state.history,historyIndex:this.state.history.length-1})},_normalizeURL:function(e){return/http.*/.test(e)||(e="http://"+e),/.*\/$/.test(e)||(e+="/"),e},render:function(){var e=this.props.presenter.errors,t=f["default"]({"fcn-browser__url-bar":!0,"fcn-browser__url-bar--error":e&&e.visible,"fcn-browser__url-bar--pass":e&&!e.visible}),n=null;(0===this.state.translatedURL.length||"about:blank"===this.state.translatedURL)&&(n=u["default"].createElement("div",{className:"fcn-browser__placeholder"},u["default"].createElement("div",{className:"fcn-browser__placeholder__body"},u["default"].createElement("div",{className:"fcn-browser__placeholder__image"}),u["default"].createElement("div",{className:"fcn-browser__placeholder__text"},"Browser Window",u["default"].createElement("br",null),"Use the URL bar to load a website"))));var r={pointerEvents:this.props.modifiers.dragging?"none":"auto"},i=f["default"]({"fcn-control":!0,"fcn-icon":!0,"fcn-icon-arrowPrev":!0,"fcn-control--disabled":this.state.historyIndex<1});return u["default"].createElement("div",{className:"fill-container fcn-browser__container"},u["default"].createElement("div",{className:"fcn-browser__chrome"},u["default"].createElement("span",{className:i,onClick:this.back}),u["default"].createElement("span",{className:"fcn-control fcn-icon fcn-icon-refresh",onClick:this.refreshAndTest}),u["default"].createElement("div",{className:"fcn-browser__chrome__center"},u["default"].createElement("input",{type:"text",className:t,ref:"urlbar",placeholder:"Type URL here",onKeyDown:this._onURLBarKeyDown,value:this.state.displayURL,onChange:this._onURLBarChange})),this.props.presenter.fullscreenButton),u["default"].createElement("div",{className:"fcn-browser__body"},n,u["default"].createElement("iframe",{src:this.state.translatedURL,className:"fill-container",ref:"browser",style:r})),u["default"].createElement(o["default"],this.props.presenter.errors))}});t["default"]=h,e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0;var i=n(1),o=r(i),a=n(2),s=r(a),l=n(115),u=r(l),c=n(30),d=r(c);t["default"]=o["default"].createClass({displayName:"checkpoint",mixins:[d["default"]],propTypes:{disabled:o["default"].PropTypes.bool.isRequired,status:o["default"].PropTypes.string.isRequired,label:o["default"].PropTypes.string.isRequired,index:o["default"].PropTypes.number.isRequired},getDefaultProps:function(){return{disabled:!1,status:"default"}},render:function(){var e=s["default"]({"fcn-checkpoint":!0,"fcn-checkpoint--satisfied":"satisfied"===this.props.status,"fcn-checkpoint--unsatisfied":"unsatisfied"===this.props.status,"fcn-checkpoint--pending":"pending"===this.props.status,"fcn-checkpoint--disabled":this.props.disabled&&"default"===this.props.status}),t=s["default"]({"fcn-checkpoint__checkbox":!0,"fcn-checkpoint__checkbox--satisfied":"satisfied"===this.props.status,"fcn-checkpoint__checkbox--unsatisfied":"unsatisfied"===this.props.status,"fcn-checkpoint__checkbox--pending":"pending"===this.props.status}),n="fcn-icon-";switch(this.props.status){case"satisfied":n+="checkmark";break;case"unsatisfied":n+="close";break;default:n=""}return o["default"].createElement("div",{className:e},o["default"].createElement("b",{className:"fcn-checkpoint__number"},this.props.index,"."),o["default"].createElement("div",{className:"fcn-checkpoint__body"},o["default"].createElement("span",{dangerouslySetInnerHTML:{__html:u["default"](this.props.label)}})),o["default"].createElement("div",{className:t},"pending"===this.props.status?o["default"].createElement("div",{className:"fcn-spinner"
}):o["default"].createElement("div",{className:"fcn-icon "+n})))}}),e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0;var i=n(623),o=r(i),a=r(i),s=n(675),l=r(s),u=n(676),c=r(u),d=n(674),p=r(d),f=n(658),h=r(f),m=n(661),g=r(m),v=n(353),y=r(v),_=n(638),b=r(_),x=n(639),w=r(x),k=n(645),C=r(k),M=n(667),T=r(M);t["default"]={PersistentCodeEditor:o["default"],NonPersistentCodeEditor:a["default"],PresetTemplatedWebPreview:l["default"],TemplatedWebPreview:c["default"],FullWebPreview:p["default"],Image:h["default"],Narrative:g["default"],Terminal:b["default"],OutputTerminal:w["default"],WebBrowser:C["default"],Brief:y["default"],SQLPreview:T["default"]},e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0;var i=n(1),o=r(i),a=n(15),s=r(a),l=n(350);r(l);t["default"]=o["default"].createClass({displayName:"FileToolNameInput",getInitialState:function(){return{value:""}},componentDidMount:function(){this.setFocus()},setFocus:function(){s["default"].findDOMNode(this.refs.filenameinput).focus()},clearInput:function(){this.setState({value:""})},_fileNameKeyDown:function(e){var t=e.target.value;this.setState({value:t}),this.props.fileNameKeyDown(t)},render:function(){var e=this.state.value;return o["default"].createElement("form",{onSubmit:this.props.onSubmit},o["default"].createElement("input",{type:"text",className:"file-name-input",ref:"filenameinput",placeholder:this.props.placeHolder,value:e,onChange:this._fileNameKeyDown}))}}),e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0;var i=n(39),o=r(i),a=n(363),s=r(a),l=n(651),u=r(l),c=n(650),d=r(c),p=n(1),f=r(p),h=n(5),m=r(h),g=n(111),v=r(g),y=n(511),_=(r(y),n(103)),b=r(_),x=n(201),w=r(x),k=n(27),C=r(k);t["default"]=f["default"].createClass({displayName:"FileTree",mixins:[o["default"],s["default"],m["default"].connect(b["default"],"workspace")],propTypes:{currentItemPath:f["default"].PropTypes.string.isRequired,openPaths:f["default"].PropTypes.object.isRequired,setError:f["default"].PropTypes.func.isRequired,clearError:f["default"].PropTypes.func.isRequired,setCurrentItem:f["default"].PropTypes.func.isRequired,addOrRemoveOpenPath:f["default"].PropTypes.func.isRequired,isAddingFiles:f["default"].PropTypes.bool.isRequired,environment:f["default"].PropTypes.string.isRequired},getInitialState:function(){return{canDrop:!0,workspace:void 0}},componentDidMount:function(){C["default"].getFileTree()},_preventDrop:function(){this.setState({canDrop:!1})},_enableDrop:function(){this.setState({canDrop:!0})},_shouldHideFileListing:function(e){return"."===e.name[0]?!0:"lessons"!==this.props.environment||"test/"!==e.path.substring(0,"test/".length)&&"spec/"!==e.path.substring(0,"spec/".length)?!1:!0},_shouldHideDirectoryListing:function(e){return"."===e.name[0]?!0:"lessons"!==this.props.environment||"test"!==e.name&&"spec"!==e.name?!1:!0},_writeItem:function(e){if(!this._shouldHideFileListing(e)){var t=e.name,n=e.path;return f["default"].createElement(d["default"],{path:n,key:n,name:t,id:n,broadcast:this.props.broadcast,moveItem:this._moveItem,fileExists:this.fileExists,setError:this.props.setError,clearError:this.props.clearError,setCurrentFile:this._setCurrentFile,currentItemPath:this.props.currentItemPath,isAddingFiles:this.props.isAddingFiles})}},_resetPath:function(){"file-tree__tree-btn"!==event.target.className.split(" ")[0]&&this.props.setCurrentItem("")},_setCurrentFile:function(e,t){if(this.props.clearError(),this.props.setCurrentItem(e),!t){var n=v["default"].contentEncoding(v["default"].extname(e));w["default"].setPreviewFilepath(e,n),C["default"].getFile(e,n).then(w["default"].previewFile)}},_writeFolderItem:function(e){if(!this._shouldHideDirectoryListing(e)){var t=e.name,n=e.path;return f["default"].createElement(u["default"],{newDirectory:this.props.newDirectory,path:n,key:n,name:t,fileExists:this.fileExists,setError:this.props.setError,clearError:this.props.clearError,openPaths:this.props.openPaths,setCurrentItem:this.props.setCurrentItem,setCurrentFile:this._setCurrentFile,addOrRemoveOpenPath:this.props.addOrRemoveOpenPath,forceAddOpenPath:this.props.forceAddOpenPath,preventDrop:this._preventDrop,enableDrop:this._enableDrop,canDrop:this.state.canDrop,currentItemPath:this.props.currentItemPath,isAddingFiles:this.props.isAddingFiles,rename:this.props.renameItem,tree:this._buildTree(e)})}},_buildTree:function(e){for(var t=[],n=e.directories,r=Array.isArray(n),i=0,n=r?n:n[Symbol.iterator]();;){var o;if(r){if(i>=n.length)break;o=n[i++]}else{if(i=n.next(),i.done)break;o=i.value}var a=o;t.push(this._writeFolderItem(a))}for(var s=e.files,l=Array.isArray(s),u=0,s=l?s:s[Symbol.iterator]();;){var c;if(l){if(u>=s.length)break;c=s[u++]}else{if(u=s.next(),u.done)break;c=u.value}var d=c;t.push(this._writeItem(d))}return t},render:function(){var e={files:[],directories:[]};return this.state.workspace&&(e=this.state.workspace.root),f["default"].createElement("div",{className:"file-tree",onClick:this._resetPath},f["default"].createElement("ul",null,this._buildTree(e)))}}),e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0;var i=n(1),o=r(i),a=n(15),s=r(a),l=n(5),u=r(l),c=n(2),d=r(c),p=n(111),f=r(p),h=n(352),m=r(h),g=n(27),v=r(g),y=n(101),_=r(y),b=n(366),x=r(b);t["default"]=o["default"].createClass({displayName:"FileTreeFile",mixins:[u["default"].connectFilter(x["default"],"file",function(e){return e.file})],propTypes:{name:o["default"].PropTypes.string.isRequired,path:o["default"].PropTypes.string.isRequired,currentItemPath:o["default"].PropTypes.string.isRequired,setError:o["default"].PropTypes.func.isRequired,clearError:o["default"].PropTypes.func.isRequired,setCurrentFile:o["default"].PropTypes.func.isRequired,isAddingFiles:o["default"].PropTypes.bool.isRequired},getInitialState:function(){return{name:this.props.name,file:null}},_onFileNameChange:function(e){this.setState({name:e.target.value}),this.props.clearError()},_invalidExtension:function(e){return!m["default"].has(e)},_onBlur:function(){this._triggerNameChange()},_forceFocus:function(){s["default"].findDOMNode(this.refs.nameInput).focus(),this.setState({isActive:!0}),this.props.setCurrentFile(this.props.path,!0)},setClickTimeOut:function(){setTimeout(function(){this.state.shouldAcceptDoubleClick=!1,this.setState({shouldAcceptDoubleClick:this.state.shouldAcceptDoubleClick})}.bind(this),500)},_handleClick:function(){if(this.props.currentItemPath===this.props.path&&this.state.shouldAcceptDoubleClick){var e=f["default"].extname(this.state.name);switch(e.toLowerCase()){case"jpg":case"jpeg":case"png":case"gif":return;default:this.state.file&&(this.state.file.canClose=!0,_["default"].openFile(this.state.file),this.props.broadcast("openFileFromViewer",this.state.file),this.props.broadcast("toggleModal"))}}else this.state.shouldAcceptDoubleClick=!0,this.setState({shouldAcceptDoubleClick:this.state.shouldAcceptDoubleClick}),this.setClickTimeOut(),this.props.setCurrentFile(this.props.path)},_triggerNameChange:function(e){if(e&&e.preventDefault(),this.props.name!==this.state.name){var t=this.props.path,n=this.props.path.replace(this.props.name,this.state.name),r=f["default"].extname(this.state.name);""===this.state.name?(this.props.setError("Enter a filename."),this._forceFocus()):this._invalidExtension(r)?(this.props.setError("Invalid extension."),this._forceFocus()):this.props.fileExists(n)?(this.props.setError("File already exists."),this._forceFocus()):v["default"].rename(t,n)}},render:function(){var e=this.state.name,t=d["default"]({"file-tree__tree-btn":!0,"file-tree__tree-btn--active":this.props.currentItemPath===this.props.path,"file-tree__tree-btn--inactive":this.props.isAddingFiles});return o["default"].createElement("li",{key:this.props.path},o["default"].createElement("div",{className:t,onClick:this._handleClick}),o["default"].createElement("span",{className:"fcn-icon fcn-icon-file"}),o["default"].createElement("form",{onSubmit:this._triggerNameChange},o["default"].createElement("input",{ref:"nameInput",value:e,onChange:this._onFileNameChange,onBlur:this._onBlur})))}}),e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0;var i=n(39),o=r(i),a=n(1),s=r(a),l=n(15),u=r(l),c=n(2),d=r(c),p=n(26),f=(r(p),n(27)),h=r(f);t["default"]=s["default"].createClass({displayName:"FileTreeFolder",mixins:[o["default"]],propTypes:{name:s["default"].PropTypes.string.isRequired,path:s["default"].PropTypes.string.isRequired,openPaths:s["default"].PropTypes.object.isRequired,currentItemPath:s["default"].PropTypes.string.isRequired,addOrRemoveOpenPath:s["default"].PropTypes.func.isRequired,setError:s["default"].PropTypes.func.isRequired,clearError:s["default"].PropTypes.func.isRequired,setCurrentItem:s["default"].PropTypes.func.isRequired,isAddingFiles:s["default"].PropTypes.bool.isRequired,newDirectory:s["default"].PropTypes.bool.isRequired},getInitialState:function(){return{isOpen:!1,isActive:!1,name:this.props.name}},componentDidMount:function(){this.props.currentItemPath===this.props.path&&(this.setState({isActive:!0}),this.setState({isOpen:!0})),this.props.openPaths.has(this.props.path)&&this.setState({isOpen:!0})},componentDidUpdate:function(){this.state.isActive&&this.props.currentItemPath!==this.props.path&&this.setState({isActive:!1})},_toggleFolder:function(){this.props.clearError(),this.setState({isActive:!0,isOpen:!this.state.isOpen}),this.props.addOrRemoveOpenPath(this.props.path),this.props.setCurrentItem(this.props.path,!0)},_openFolderAndLeaveInactive:function(){this.setState({isOpen:!0}),this.props.forceAddOpenPath(this.props.path)},_onFileNameChange:function(e){this.setState({name:e.target.value}),this.props.clearError()},_onBlur:function(){this._triggerNameChange()},_forceFocus:function(){u["default"].findDOMNode(this.refs.nameInput).focus(),this.setState({isActive:!0}),this.props.setCurrentItem(this.props.path,!0)},_triggerNameChange:function(e){if(e&&e.preventDefault(),this.props.name!==this.state.name||"untitled"===this.state.name){var t=this.props.path.replace(this.props.name,this.state.name);""===this.state.name||"untitled"===this.state.name?(this.props.setError("Enter a filename."),this._forceFocus()):this.props.fileExists(t)?(this.props.setError("File already exists."),this._forceFocus()):h["default"].rename(this.props.path,t,!0)}},render:function(){var e=this.state.name,t=d["default"]({"file-tree__tree-btn":!0,"file-tree__tree-btn--active":this.state.isActive}),n=d["default"]({"file-tree__folder":!0,"file-tree__folder--open":this.state.isOpen,"file-tree__folder--while-adding":this.props.isAddingFiles}),r=d["default"]({"fcn-icon":!0,"fcn-icon-nav":!0,"fcn-icon--nav-right":!this.state.isOpen,"fcn-icon-navArrowRight":!this.state.isOpen,"fcn-icon--nav-down":this.state.isOpen,"fcn-icon-navArrowDown":this.state.isOpen}),i=d["default"]({"fcn-icon":!0,"fcn-icon-folderFilled":!0});return s["default"].createElement("li",{key:this.props.path,className:n},s["default"].createElement("div",{className:t,onClick:this._toggleFolder}),s["default"].createElement("span",{className:r}),s["default"].createElement("span",{className:i}),s["default"].createElement("form",{onSubmit:this._triggerNameChange},s["default"].createElement("input",{ref:"nameInput",type:"text",value:e,onChange:this._onFileNameChange,onBlur:this._onBlur})),s["default"].createElement("ul",null,this.props.tree))}}),e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0;var i=n(1),o=r(i),a=n(5),s=r(a),l=n(366),u=r(l),c=n(201),d=r(c),p=n(101),f=r(p),h=n(2),m=r(h),g=n(204),v=r(g),y=function(e){return e.file},_=function(e){return e.loading};t["default"]=o["default"].createClass({displayName:"MediaViewer",mixins:[s["default"].connectFilter(u["default"],"file",y),s["default"].connectFilter(u["default"],"loading",_)],propTypes:{broadcast:o["default"].PropTypes.func.isRequired},getInitialState:function(){return{file:void 0,loading:!1}},componentWillUnmount:function(){d["default"].clearPreviewFile()},_openFile:function(e){f["default"].openFile(e),this.props.broadcast("toggleModal")},render:function(){var e,t=!1;if(this.state.file)switch(this.state.file.type){case"image":var n="data:image/"+this.state.file.extension+";charset=utf-8;base64,"+this.state.file.contentBase64;t=!0,e=o["default"].createElement("div",{className:"image-preview-container"},o["default"].createElement("img",{src:n}));break;default:e=o["default"].createElement(v["default"],{key:this.state.file.name,filename:this.state.file.name},this.state.file.content)}var r=m["default"]({"fcn-button":!0,"fcn-button--hidden":!this.state.file,"fcn-button--lantern":!t,"fcn-button--inactive":t}),i=m["default"]({"file-preview__empty":!0,"file-preview__empty--hidden":this.state.file||this.state.loading}),a=m["default"]({"fcn-spinner fcn-spinner--large":!0,"fcn-spinner--hidden":!this.state.loading}),s=t?"Read-only":"Open";return o["default"].createElement("div",{className:"file-preview"},o["default"].createElement("div",{className:"file-preview--content"},o["default"].createElement("div",{className:a}),e),o["default"].createElement("div",{className:i},o["default"].createElement("p",{className:"fcn-icon file-preview__icon--large fcn-icon-folderFilled"}),o["default"].createElement("span",{className:"file-preview__icon--large"},"File Navigator"),o["default"].createElement("p",{className:"file-preview__empty--copy"},"The panel on the left shows all the folders and files included in your root directory.  Select a file from the left in order to preview and/or open it.")),o["default"].createElement("div",{className:"file-preview--footer"},o["default"].createElement("div",{className:r,onClick:this._openFile.bind(null,this.state.file)},s),t?o["default"].createElement("span",{className:"readonly-text"},"You cannot open this file because it cannot be edited at this time."):void 0))}}),e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0;var i=n(39),o=r(i),a=n(363),s=r(a),l=n(1),u=r(l),c=n(5),d=r(c),p=n(2),f=r(p),h=n(362),m=r(h),g=n(352),v=r(g),y=n(648),_=r(y),b=n(27),x=r(b),w=n(103),k=r(w);t["default"]=u["default"].createClass({displayName:"NewFileTool",mixins:[o["default"],s["default"],m["default"],d["default"].connect(k["default"],"workspace")],propTypes:{currentSavePath:u["default"].PropTypes.string,currentItemPath:u["default"].PropTypes.string.isRequired,createNewFile:u["default"].PropTypes.func.isRequired,broadcast:u["default"].PropTypes.func.isRequired,setError:u["default"].PropTypes.func.isRequired,clearError:u["default"].PropTypes.func.isRequired,setIsDeleting:u["default"].PropTypes.func.isRequired,autoAdd:u["default"].PropTypes.bool.isRequired,isAddingFiles:u["default"].PropTypes.bool.isRequired,isDeletingFiles:u["default"].PropTypes.bool.isRequired},getInitialState:function(){return{fileName:"",isAddingFiles:!1,IsDir:!1,slug:k["default"].getSlug()}},onSubmit:function(e){e.preventDefault(),this._createNewFile()},onEscapeKey:function(){this._toggle()},_reset:function(){this.setState({IsDir:!1,fileName:"",isAddingFiles:!1}),this.refs.fileInput.clearInput()},_validateExtension:function(e){return!v["default"].has(e)},_fileNameKeyDown:function(e){this.setState({name:e}),this.props.clearError()},_createNewFolder:function(){this.refs.fileInput&&this.refs.fileInput.setFocus(),this.state.IsDir=!0,this.setState({IsDir:this.state.IsDir}),this.props.autoAdd||this._toggle()},_deleteFile:function(){var e=this.props.currentItemPath;this.props.clearMediaViewer(),this.props.setIsDeleting(!1),x["default"].deleteFile(e).then(x["default"].updateFileTree)},_toggle:function(){this.stopListeningForOutsideClicks(),this.props.clearError(),this.props.broadcast("toggleFileTool"),this.toggleAddFileTool()},_createNewFile:function(){var e=this.state.IsDir;if(!e)var t=this.state.name.substring(this.state.name.indexOf(".")+1,this.state.name.length);return""===this.state.name?void this.props.setError("Enter a file name."):!e&&this._validateExtension(t)?void this.props.setError("Invalid file extension."):this.fileExists(this.state.name)?void this.props.setError("File already exists."):(this.props.createNewFile(this.state.name,e),(!this.props.autoAdd||this.props.autoAdd&&!e)&&this._toggle(),void this._reset())},toggleAddFileTool:function(){this.setState({isAddingFiles:!this.state.isAddingFiles})},getDeleteConfirmation:function(){var e=this.props.currentSavePath?{title:"Delete Directory?",message:"Are you sure you want to delete this directory?  This will delete all files inside it. You cannot undo this "}:{title:"Delete file?",message:"Are you sure you want to delete this file?  You cannot undo this."};this.props.broadcast("getConfirmation",e,this._deleteFile),this.props.setIsDeleting(!0)},render:function(){var e=this,t=(this.state.hasErrors,f["default"]({"new-file-tool__error":!0,"new-file-tool__error--shown":this.state.hasErrors}),f["default"]({"fcn-icon":!0,"fcn-icon-plus":!0,"fcn-control":!0,"fcn-control--disabled":this.props.isAddingFiles||this.props.isDeletingFiles})),n=f["default"]({"fcn-icon":!0,"fcn-icon-folderAdd":!0,"fcn-control":!0,"fcn-control--disabled":this.props.isAddingFiles||this.props.isDeletingFiles}),r=f["default"]({"fcn-icon":!0,"fcn-icon-trash":!0,"fcn-control":!0,"fcn-control--disabled":this.props.isAddingFiles||this.props.isDeletingFiles||""===this.props.currentItemPath}),i=f["default"]({"select-cta":!0,"select-cta--hidden":!this.props.autoAdd}),o=this.state.IsDir?"Enter Folder Name":"Enter File Name";return u["default"].createElement("div",{className:"fcn-create-file-tool"},this.props.autoAdd?void 0:u["default"].createElement("div",{className:"file-tool__menu"},u["default"].createElement("span",{className:t,onClick:this._toggle}),u["default"].createElement("span",{className:n,onClick:this._createNewFolder}),u["default"].createElement("span",{className:r,onClick:this.getDeleteConfirmation})),this.props.autoAdd||this.state.isAddingFiles?u["default"].createElement("div",null,u["default"].createElement(_["default"],{ref:"fileInput",placeHolder:o,fileNameKeyDown:this._fileNameKeyDown,onSubmit:this.onSubmit}),u["default"].createElement("div",{className:"select-cta-container"},u["default"].createElement("span",{className:i},"Select a directory:"),u["default"].createElement("span",{className:"fcn-icon fcn-icon-folderAdd fcn-control fcn-control--right",onClick:this._createNewFolder})),u["default"].createElement("div",{className:"new-file-tool__footer"},u["default"].createElement("span",{className:"fcn-button fcn-button--lantern",onClick:function(){e._createNewFile()}},"Create"),u["default"].createElement("span",{className:"fcn-button fcn-button--tab",onClick:this._toggle},"Cancel"))):void 0)}}),e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0;var i=n(1),o=r(i),a=n(350),s=r(a);t["default"]=o["default"].createClass({displayName:"SecondaryModal",propTypes:{secondaryModalContent:o["default"].PropTypes.shape({title:o["default"].PropTypes.string.isRequired,message:o["default"].PropTypes.string.isRequired}).isRequired,cancelAndClose:o["default"].PropTypes.func.isRequired,confirmAndClose:o["default"].PropTypes.func.isRequired},buildButton:function(e,t){return o["default"].createElement("div",{key:e.title+t,className:"fcn-button fcn-button--blast",onClick:e.action},e.title)},buildButtons:function(e){var t=[];return e.forEach(function(e,n){t.push(this.buildButton(e,n))}.bind(this)),t},render:function(){var e;return e=this.props.secondaryModalContent.buttons?this.buildButtons(this.props.secondaryModalContent.buttons):o["default"].createElement(s["default"],{cancelAndClose:this.props.cancelAndClose,confirmAndClose:this.props.confirmAndClose}),o["default"].createElement("div",{className:"secondary-modal"},o["default"].createElement("p",{className:"secondary-modal__title"},this.props.secondaryModalContent.title),o["default"].createElement("p",null,this.props.secondaryModalContent.message),e)}}),e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0;var i=n(1),o=r(i);t["default"]=o["default"].createClass({displayName:"fullscreen_controls",render:function(){var e=this.props.isFullscreen?"minimize":"fullscreen";return o["default"].createElement("div",{"data-cue":"discovery-fullscreen",className:"fcn-control fcn-control--right",onClick:this.props.toggleFullscreen},o["default"].createElement("span",{className:"fcn-icon fcn-icon-"+e}))}}),e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0;var i=n(1),o=r(i),a=n(2),s=r(a),l="Connection stable.";t["default"]=o["default"].createClass({displayName:"godex_connection_status",propTypes:{status:o["default"].PropTypes.shape({message:o["default"].PropTypes.string,type:o["default"].PropTypes.string}).isRequired},getInitialState:function(){return{visible:!1,idleMessage:l,isHovering:!1}},_onMouseOver:function(){"success"===this.props.status.type&&(this.state.isHovering=!0,this.setState({isHovering:this.state.isHovering,visible:!0}))},_getStatusMessage:function(){return this.state.isHovering?this.state.idleMessage:this.props.status.message},_onMouseLeave:function(){this.setState({visible:!1,isHovering:!1})},render:function(){var e=s["default"]({"fcn-godex-status--hidden":!this.props.status.visible&&!this.state.visible,"fcn-godex-status":!0,"fcn-godex-status--neutral":"neutral"===this.props.status.type,"fcn-godex-status--error":"error"===this.props.status.type,"fcn-godex-status--success":"success"===this.props.status.type,"fcn-godex-status--stable":this.state.isHovering&&"error"!==this.props.status.type}),t=this._getStatusMessage();return o["default"].createElement("div",{className:"fcn-godex-status-container",onMouseEnter:this._onMouseOver,onMouseLeave:this._onMouseLeave},o["default"].createElement("div",{className:e},o["default"].createElement("span",{ref:"statusMessage"},t),o["default"].createElement("div",{className:"fcn-godex-status__glow"})))}}),e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0;var i=n(1),o=r(i),a=n(72),s=r(a),l=o["default"].createClass({displayName:"IdleWall",refresh:function(){window.location.reload()},render:function(){return o["default"].createElement(s["default"],null,o["default"].createElement("h2",null,"Hey! Are you still there?"),o["default"].createElement("button",{onClick:this.refresh,className:"button button--alernative fcn-wall__nav"},"Get Back to Coding!"))}});t["default"]=l,e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0;var i=n(1),o=r(i);t["default"]=o["default"].createClass({displayName:"Image",render:function(){return o["default"].createElement("div",{className:"francine-image__container"},o["default"].createElement("img",{src:this.props.presenter.url,className:"fit-full francine-image"}))}}),e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0;var i=n(355),o=r(i),a=n(3),s=r(a),l=n(1),u=r(l),c=n(5),d=r(c),p=n(2),f=r(p),h=n(357),m=n(38),g=r(m),v=n(737),y=r(v),_=n(733),b=r(_),x=n(727),w=r(x),k=n(364),C=r(k),M=n(644),T=r(M),S=n(348),E=r(S),D=n(343),L=r(D),P=n(342),N=n(660),A=r(N),R=n(672),I=r(R),O=n(349),F=r(O),j=n(625),Y=r(j),H=n(205),B=r(H),U=n(206),W=r(U),z=n(65),q=(r(z),n(113)),K=r(q),V=n(27),G=(r(V),n(365)),X=(r(G),n(169)),$=r(X);t["default"]=u["default"].createClass({displayName:"lessons",mixins:h.LearnMixins.concat([y["default"],b["default"],w["default"],C["default"],d["default"].connect($["default"],"backendReady")]),getInitialState:function(){var e=this.props.initialLesson,t=this.props.course.lessons_order.indexOf(this.props.initialLesson.slug),n=this.props.initialExercise,r=this.props.initialLesson.exercises_order.indexOf(this.props.initialExercise.slug),i=this.getInitialProgress(this.props.progress);return{currentExerciseIndex:r,currentExercise:n,currentLesson:e,currentLessonIndex:t,adapter:this.getAdapter(n),progress:i,errors:{},readonly:!1,isAnon:!this.props.isRegisteredUser,drawerOpen:!1,godexStatus:{type:"",message:"",visible:!1},godexReady:!1,fileNavReady:!1,wall:this.anonymousUserWallIfNeeded(),skipTests:!1}},componentDidMount:function(){this.state.adapter.trigger("interface:ready"),this.state.adapter.extendCache(),this.addExtraComponentsToAdapter(this.state.adapter),this.refreshNav(),window.history.pushState({exerciseIndex:this.state.currentExerciseIndex,lessonIndex:this.state.currentLessonIndex},this.state.currentExercise.title,this.state.currentExercise.path+location.search),window.addEventListener("popstate",function(e){e.state&&this.navigate(e.state.lessonIndex,e.state.exerciseIndex,{push:!1})}.bind(this)),g["default"]("info","Mounted Lessons controller on exercise: "+this.state.currentExercise.slug)},getAdapter:function(e){var t=o["default"].forComponents(e.components);return t.controller=this,this.state&&this.state.adapter&&(t.inheritCache(this.state.adapter),this.state.adapter.destroy()),this.addExtraComponentsToAdapter(t),K["default"].newAdapter(t),t},addExtraComponentsToAdapter:function(e){var t=this;s["default"].defer(function(){void 0!==t.refs.globalModal&&e.registerComponent&&e.registerComponent("GlobalModal",t.refs.globalModal)})},componentDidUpdate:function(e,t){this.addExtraComponentsToAdapter(this.state.adapter),(t.currentExerciseIndex!==this.state.currentExerciseIndex||t.currentLessonIndex!==this.state.currentLessonIndex)&&(this.isAccessible(this.state.currentLessonIndex,this.state.currentExerciseIndex,0)||this.setProgressToCurrentExercise(),this.state.adapter.trigger("interface:ready"),this.state.adapter.extendCache()),!this.state.wall&&this.state.shouldShowCompletionModal&&this.completeLesson()},isExerciseLocked:function(e,t){return void 0===e&&(e=this.state.currentLessonIndex),void 0===t&&(t=this.state.currentExerciseIndex),!this.state.nolock&&!this.isAccessible(e,t,0)},updateExerciseComponent:function(e,t){var n=JSON.parse(JSON.stringify(this.state.currentExercise));return void 0===n.components[e]?(console.warn("Couldn't update exercise component \""+e+'"'),void console.trace()):(n.components[e]=s["default"].extend(n.components[e],t),void this.setState({currentExercise:n}))},_showingFinalExercise:function(){return this.state.currentLessonIndex===this.props.course.lessons_order.length-1&&this.state.currentExerciseIndex===this.state.currentLesson.exercises_order.length-1},completeLesson:function(){if(this.props.segment){var e=void 0,t=void 0,n=this.currentUnit();if(this.courseIsComplete())return void(window.location=s["default"].get(this.props,"exitPaths.back","/learn"));if(this.projectIsNext())e=n.projects[0];else if(this.isLastLesson()){var r=this.currentUnitIndex(),i=this.props.segment.units[r+1];if(t=i.lessons[0],!t&&(e=i.projects[0],!e.should_show))return void(window.location=composerData.get("landing_path"))}else t=n.lessons[this.currentUnitIndex()+1];this.setState({wall:u["default"].createElement(B["default"],{type:"screen",course:this.state.lesson,nextProject:e,onClose:this.clearWall,nextLesson:t})})}},_clearWall:function(){this.setState({wall:void 0})},_pickAWall:function(){return this.state.wall?this.state.wall:this.isExerciseLocked()?u["default"].createElement(A["default"],{courseStarted:this.isCourseStarted(),course:this.props.course}):this._showingFinalExercise()&&this.canAccessNextExercise()&&this.props.course.wip?u["default"].createElement(I["default"],null):void 0},setProgressToCurrentExercise:function(){this.setAndUpdateProgressState({lessonIndex:this.state.currentLessonIndex,exerciseIndex:this.state.currentExerciseIndex,checkpointIndex:0})},currentWorkspace:function(){try{return this.state.currentExercise.workspace}catch(e){return this.props.initialExercise.workspace}},uploadInitialSavepoint:function(){this.state.adapter.trigger("godmode:uploadInitial")},_mayResetExercise:function(){return void 0!==this.state.adapter&&void 0!==this.state.adapter.checkpoints&&this.state.adapter.checkpoints.length>0&&!this.state.isAnon},_contentStudioURL:function(){var e=this.props.revision||"master",t="http://contentstudio.codecademy.com/#/"+e+"/courses",n=this.props.course.slug,r=this.state.currentLesson.unit_slug,i=this.state.currentLesson.slug,o=this.state.currentExercise.slug;return t+"/"+n+"/units/"+r+"/lessons/"+i+"/exercises/"+o},render:function(){var e={isAnon:this.state.isAnon},t={readonly:this.state.readonly,fileNavReady:this.state.fileNavReady,isProject:!1},n={errors:this.state.errors,wall:this._pickAWall(),groupsLink:this.props.course.meta.qa_forum_url},r={componentShouldBeDisabled:this.componentShouldBeDisabled},i=void 0===this.state.adapter._cache.godexClient||void 0===this.state.adapter._cache.godexClient.instance?void 0:this.state.adapter._cache.godexClient.instance.hostname,o=f["default"]({francine:!0,"francine--butterbar":this.props.hasButterbar});return u["default"].createElement("div",{id:"workspace",className:o},u["default"].createElement(L["default"],{exitPaths:this.props.exitPaths,title:this.props.course.title,godexStatus:this.state.godexStatus,onAdminChange:this.handleAdminChange,uploadInitialSavepoint:this.uploadInitialSavepoint,setProgressToCurrentExercise:this.setProgressToCurrentExercise,profileImage:this.props.profileImage,currentExercise:this.state.currentExercise,"private":this.state.currentLesson["private"],prerender:this.props.prerender,serverUrl:i,contentStudioURL:this._contentStudioURL()}),this.discoveryCues(),u["default"].createElement(F["default"],{ref:"globalModal",broadcast:this.state.adapter.createComponentBroadcastFunction("GlobalModal"),environment:"lessons"}),u["default"].createElement(E["default"],{ref:"componentGrid",key:this.state.currentExercise.slug,components:this.state.currentExercise.components,adapter:this.state.adapter,modifiers:t,helpers:r,presenter:n,user:e}),u["default"].createElement(T["default"],{achievements:this.state.achievements}),u["default"].createElement(P.Footer,{disabled:this.componentShouldBeDisabled("Footer"),course:this.props.course,progress:this.state.progress.current_state,initialUnit:this.state.currentLesson.unit_slug,initialLesson:this.state.currentLesson.slug,initialExercise:this.state.currentExercise.slug,titleRoute:s["default"].get(this.props,"exitPaths.back"),title:this.state.currentExerciseIndex+1+". "+this.state.currentExercise.title,unlockAll:this.state.nolock},u["default"].createElement(P.FooterSection,{position:"center"},u["default"].createElement(Y["default"],{exitPaths:this.props.exitPaths,mayProceed:this.state.nolock||!this.isOnFarthestUnlockedExercise()||this.canAccessNextExercise(),currentLessonIndex:this.state.currentLessonIndex,currentLesson:this.state.currentLesson,currentExerciseIndex:this.state.currentExerciseIndex,currentExercise:this.state.currentExercise,exerciseNames:this.state.currentLesson.exercises_order,navigate:this.navigate,course:this.props.course,farthestCompleteExerciseIndex:this.state.progress.current_state.exercise,farthestCompleteLessonIndex:this.state.progress.current_state.lesson})),u["default"].createElement(P.FooterSection,{position:"right"},u["default"].createElement(W["default"],{noun:"exercise",courseSlug:this.state.currentLesson.course_slug,contentSlug:this.state.currentLesson.slug,contentTitle:this.state.currentLesson.title,allowReset:this._mayResetExercise(),courseMeta:this.props.course.meta}))))}}),e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0;var i=n(1),o=r(i),a=n(72),s=r(a);t["default"]=o["default"].createClass({displayName:"locked_exercise_wall",render:function(){
var e=this.props.courseStarted?"Continue?":this.props.course.title,t=this.props.courseStarted?"Oops! It looks like you can't access this exercise yet! Click below to resume where you left off.":"We've noticed you haven't started this course yet! Click below to get started.",n=this.props.courseStarted?"Resume":"Start";return o["default"].createElement(s["default"],null,o["default"].createElement("h2",null,e),o["default"].createElement("p",null,t),o["default"].createElement("a",{href:this.props.course.resume_path,className:"button button--alternate fcn-wall__nav"},n))}}),e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0;var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=n(646),a=r(o),s=n(344),l=r(s),u=n(115),c=r(u),d=n(347),p=r(d),f=n(1),h=r(f),m=n(211),g=r(m);t["default"]=h["default"].createClass({displayName:"Narrative",mixins:[g["default"]],getInitialState:function(){var e="",t="";return this.props.presenter.instructions&&(e=c["default"](this.props.presenter.instructions)),this.props.presenter.content&&(t=c["default"](this.props.presenter.content)),{content:t,instructions:e}},componentDidUpdate:function(e,t){this.listenForLinkClicks(".narrative--markdown a")},scrollToInstructions:function(){this.refs.accordion&&this.refs.accordion.openSection("instructions")},scrollToSupport:function(){this.refs.accordion&&this.refs.accordion.openSection("support")},render:function(){var e,t,n=this.props.presenter;!n.instructions||n.checkpoints&&0!==n.checkpoints.length||(e=h["default"].createElement("div",{className:"accordion-section-body__padded",dangerouslySetInnerHTML:{__html:this.state.instructions}})),n.checkpoints&&n.checkpoints.length>0&&(t=n.checkpoints.map(function(e,t){var r=n.checkpoints[t-1],o=!1;return r&&"satisfied"!==r.status&&(o=!0),h["default"].createElement(a["default"],i({key:"checkpoint-"+t,index:t+1,disabled:o},e))}));var r=[{heading:h["default"].createElement("span",{className:"learn-header"},h["default"].createElement("span",{className:"fcn-icon fcn-icon-learn"}),"Learn"),content:h["default"].createElement("div",{className:"accordion-section-body__padded narrative--markdown",dangerouslySetInnerHTML:{__html:this.state.content}}),key:"learn"}];return(e||t)&&r.push({heading:h["default"].createElement("span",null,h["default"].createElement("span",{className:"fcn-icon fcn-icon-instructions"}),"Instructions"),content:h["default"].createElement("div",{className:"narrative--markdown"},t,e),key:"instructions"}),r.push({heading:h["default"].createElement("span",{className:"support-header"},h["default"].createElement("div",{className:"fcn-icon fcn-icon-support"}),"Report a Bug"),content:h["default"].createElement(l["default"],null),key:"support"}),h["default"].createElement("div",null,h["default"].createElement(p["default"],{content:r,ref:"accordion"}))}}),e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0;var i=n(1),o=r(i),a=n(72),s=r(a),l=n(14),u=r(l),c=o["default"].createClass({displayName:"OutageWall",propTypes:{courseSlug:o["default"].PropTypes.string.isRequired},_sendAway:function(){u["default"].track("action","click",{target:"outageRedirect",skill:this.props.courseSlug}),window.location.replace("/learn")},render:function(){return o["default"].createElement(s["default"],null,o["default"].createElement("h2",null,"Sorry about that!"),o["default"].createElement("p",null,"There are a lot of people taking this course right now! It might be unavailable until the crowd clears."),o["default"].createElement("p",null,"Until then, how about taking one of our other courses?"),o["default"].createElement("button",{onClick:this._sendAway,className:"button button--alernative fcn-wall__nav"},"Browse More Courses"))}});t["default"]=c,e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0;var i=n(1),o=r(i),a=n(2),s=r(a),l=n(5),u=r(l),c=n(743),d=r(c),p=n(3),f=r(p);n(22);var h=n(14),m=(r(h),n(714),n(17)),g=(r(m),n(357)),v=n(38),y=r(v),_=n(355),b=r(_),x=n(113),w=r(x),k=n(365),C=(r(k),n(343)),M=r(C),T=n(348),S=r(T),E=n(349),D=r(E),L=n(353),P=(r(L),n(205)),N=r(P),A=n(634),R=r(A),I=n(736),O=r(I),F=n(364),j=r(F),Y=n(169),H=r(Y);t["default"]=o["default"].createClass({displayName:"projects",propTypes:{project:o["default"].PropTypes.object,course:o["default"].PropTypes.object,selfAssessments:o["default"].PropTypes.array,skill:o["default"].PropTypes.object,isRegisteredUser:o["default"].PropTypes.bool,progress:o["default"].PropTypes.object,profileImage:o["default"].PropTypes.string},mixins:g.LearnMixins.concat([O["default"],j["default"],u["default"].listenTo(d["default"],"onSelfAssessmentChange"),u["default"].connect(H["default"],"backendReady")]),onSelfAssessmentChange:function(e,t){this.setState({selfAssessmentsDone:t,selfAssessments:e}),this.state.godexReady&&this.state.adapter.trigger("interface:persist")},getInitialState:function(){var e=d["default"].getInitialState({userProgress:this.props.selfAssessments,projectAssessments:this.props.project.self_assessments,projectSlug:this.props.project.slug,skillSlug:this.props.course.slug,revision:this.props.course.revision}),t={_schema:"Brief",objective:this.props.project.objective},n=this.props.project.components;n.Brief=t;var r=b["default"].forProjectsWithComponents(n);return r.controller=this,w["default"].newAdapter(r),{adapter:r,godexStatus:{type:"",message:"",visible:!1},isAnon:!this.props.isRegisteredUser,godexReady:!1,fileNavReady:!1,restoringFiles:!1,wall:this.anonymousUserWallIfNeeded(),components:n,selfAssessmentsDone:e.allDone,selfAssessments:e.assessments,progress:this.props.progress}},updateExerciseComponent:function(e,t){return void 0===this.state.components[e]?(console.warn("Tried to update a nonexistent component named ",e),void console.trace()):(this.state.components[e]=f["default"].extend(this.state.components[e],t),void this.setState({components:this.state.components}))},addExtrasToAdapter:function(e){var t=this;f["default"].defer(function(){void 0!==t.refs.globalModal&&e.registerComponent&&e.registerComponent("GlobalModal",t.refs.globalModal)})},componentDidMount:function(){var e=this;f["default"].defer(function(){e.addExtrasToAdapter(e.state.adapter)}),this.state.adapter.trigger("interface:ready"),this.state.adapter.extendCache(),y["default"]("info","Mounted Projects controller on project:"+this.props.project.slug)},componentDidUpdate:function(e,t){this.addExtrasToAdapter(this.state.adapter)},currentWorkspace:function(){var e=this.props.project.workspace;return e.id=this.props.workspace_id,e},gridSetup:function(e){0===this.state.progress.status&&e.expandSlotInDirection(25,"left")},componentsToHide:function(){return Object.keys(this.props.project.components).filter(function(e){return"Brief"!==e&&"WebBrowser"!==e})},revealComponents:function(){for(var e=this.componentsToHide(),t=Array.isArray(e),n=0,e=t?e:e[Symbol.iterator]();;){var r;if(t){if(n>=e.length)break;r=e[n++]}else{if(n=e.next(),n.done)break;r=n.value}var i=r;this.refs.componentGrid.expandSlotByName(i)}this.setState({grid:this.state.grid})},wall:function(){return void 0!==this.state.wall?this.state.wall:void 0},_uploadInitialSavepoint:function(){this.state.adapter.trigger("godmode:uploadInitial")},clearWall:function(){this.setState({wall:void 0})},completeProject:function(){if(this.props.segment){var e=void 0,t=void 0,n=this.currentUnit();if(this.courseIsComplete())return void(window.location=f["default"].get(this.props,"exitPaths.back"));if(this.projectIsNext())e=n.projects[this.currentProjectIndex()+1];else if(this.isLastProject()){var r=this.currentUnitIndex(),i=this.props.segment.units[r+1];if(t=i.lessons[0],!t&&(e=i.projects[0],!e.should_show))return void(window.location=composerData.get("landing_path"))}else t=n.lessons[this.currentUnitIndex()+1];this.setState({wall:o["default"].createElement(N["default"],{type:"screen",course:this.props.course,nextProject:e,onClose:this.clearWall,nextLesson:t})})}},getSelfAssessmentTasks:function(){var e=this.state.selfAssessments||[],t=f["default"](e).pluck("tasks").flatten().value();return t},_contentStudioURL:function(){var e=this.props.revision||"master",t="http://contentstudio.codecademy.com/#/"+e+"/courses",n=this.props.course.slug,r=this.props.project.unit_slug,i=this.props.project.slug;return t+"/"+n+"/units/"+r+"/projects/"+i},render:function(){var e={componentShouldBeDisabled:this.componentShouldBeDisabled,positionCueSignal:this.positionCueSignal},t={readonly:!1,fileNavReady:!0,isProject:!0,assessments:this.state.selfAssessments},n={progress:this.state.progress,wall:this.wall()},r=o["default"].createElement(S["default"],{ref:"componentGrid",components:this.state.components,adapter:this.state.adapter,helpers:e,modifiers:t,presenter:n,gridSetup:this.gridSetup,user:{isAnon:!1}}),i=s["default"]({"fcn-projects":!0,francine:!0,"francine--butterbar":this.props.hasButterbar});s["default"]({"fcn-nav-footer":!0,disabled:this.componentShouldBeDisabled("Footer")});return o["default"].createElement("div",{className:i,id:"workspace"},o["default"].createElement(M["default"],{exitPaths:this.props.exitPaths,title:this.props.exitPaths.title,godexStatus:this.state.godexStatus,onAdminChange:this.handleAdminChange,profileImage:this.props.profileImage,uploadInitialSavepoint:this._uploadInitialSavepoint,currentExercise:this.props.project,prerender:this.props.prerender,contentStudioURL:this._contentStudioURL()}),this.discoveryCues(),o["default"].createElement(D["default"],{ref:"globalModal",broadcast:this.state.adapter.createComponentBroadcastFunction("GlobalModal"),user:{isAnon:!1},environment:"projects"}),r,o["default"].createElement(R["default"],{course:this.props.course,initialUnit:this.props.project.unit_slug,initialLesson:this.props.project.slug,initialExercise:this.props.project.slug,disabled:this.componentShouldBeDisabled("Footer"),exitPaths:this.props.exitPaths,courseTitle:this.props.course.title,courseSlug:this.props.course.slug,courseMeta:this.props.course.meta,projectSlug:this.props.project.slug,projectTitle:this.props.project.title,"private":this.props.project["private"],tasks:this.getSelfAssessmentTasks(),tasksComplete:this.state.selfAssessmentsDone,title:""+this.props.project.title,onProjectComplete:this.completeProject}))}}),e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0;var i=n(1),o=r(i),a=n(2),s=r(a);t["default"]=o["default"].createClass({displayName:"slot",render:function(){var e,t,n=this,r=this.props.slot.geometry,i={position:"absolute",top:100*r.top()+"%",right:100-100*r.right()+"%",bottom:100-100*r.bottom()+"%",left:100*r.left()+"%"},a=s["default"]({"fcn-component":!0,disabled:this.props.modifiers.disabled||this.props.modifiers.collapsed,collapsed:this.props.modifiers.collapsed}),l=s["default"]({"fcn-slot":!0,"fcn-slot--no-top-neighbor":r.soloEdges().top,"fcn-slot--no-right-neighbor":r.soloEdges().right,"fcn-slot--no-bottom-neighbor":r.soloEdges().bottom,"fcn-slot--no-left-neighbor":r.soloEdges().left,collapsed:this.props.modifiers.collapsed,"fcn-slot--collapsed-x":r.withinCollapseThreshold("x"),"fcn-slot--collapsed-y":r.withinCollapseThreshold("y")});return o["default"].createElement("div",{id:"discovery-resize-"+this.props.locations,className:l,style:i,"data-fcn-arrangement":this.props.slot.arrangement.slots},o["default"].createElement("div",{className:a},o["default"].createElement("div",{className:"overlay"}),o["default"].createElement(this.props.component.constructor,{presenter:this.props.component.presenter,user:this.props.user,broadcast:this.props.adapter.createComponentBroadcastFunction(this.props.component.name),modifiers:this.props.modifiers,helpers:this.props.helpers,geometry:this.props.slot.geometry,ref:this.props.component.name})),r.withinCollapseThreshold("x")||r.withinCollapseThreshold("y")?o["default"].createElement("div",{className:s["default"]((e={"fcn-slot-snapped-button":!0},e["fcn-slot-snapped-button--"+this.props.component.name]=!0,e)),onClick:function(){n.props.expandSlot(n.props.slot.geometry.id)}},o["default"].createElement("div",{className:s["default"]((t={"fcn-slot-snapped-button__icon":!0,"fcn-icon":!0},t["fcn-icon-"+(this.props.component.icon||"learn")]=!0,t))})):void 0)},componentDidMount:function(){this.props.adapter.registerComponent&&this.props.adapter.registerComponent(this.props.component.name,this.refs[this.props.component.name])},componentDidUpdate:function(){this.props.adapter.registerComponent&&this.props.adapter.registerComponent(this.props.component.name,this.refs[this.props.component.name])}}),e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0;var i=n(1),o=r(i),a=n(9),s=r(a),l=o["default"].createClass({displayName:"SQLPreview",propTypes:{result:o["default"].PropTypes.string.isRequired},resultTable:function(){var e,t=s["default"]("<div/>");return s["default"]("<div/>").html(this.props.result).find("tr").each(function(n,r){s["default"](r).find("th").length>0&&(e=s["default"]("<table/>"),t.append(e)),e.append(r)}),t.html()},results:function(){return""===this.props.result?o["default"].createElement("div",{className:"fcn-sqlpreview--schema--undef"},"Run a query to see results."):o["default"].createElement("div",{className:"fcn-sqlpreview--results-table",dangerouslySetInnerHTML:{__html:this.resultTable()}})},render:function(){return o["default"].createElement("div",{className:"fcn-sqlpreview--results"},o["default"].createElement("h3",null,"Query Results"),this.results())}});t["default"]=l,e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0;var i=n(1),o=r(i),a=n(3),s=r(a),l=o["default"].createClass({displayName:"SQLPreview",propTypes:{schema:o["default"].PropTypes.array.isRequired},schemaTable:function(){return null==this.props.schema||0===this.props.schema.length?o["default"].createElement("div",{className:"fcn-sqlpreview--schema--undef"},"Schema undefined."):s["default"].map(this.props.schema,function(e){var t=s["default"].map(e.Columns,function(e){return o["default"].createElement("tr",null,o["default"].createElement("td",{className:"fcn-sqlpreview--schema--name"},e.Name),o["default"].createElement("td",{className:"fcn-sqlpreview--schema--type"},e.Type))});return o["default"].createElement("table",null,o["default"].createElement("thead",null,o["default"].createElement("tr",null,o["default"].createElement("th",{colSpan:"2"},e.Name,o["default"].createElement("span",{className:"fcn-sqlpreview--schema--rows"},e.Rows," rows")))),o["default"].createElement("tbody",null,t))})},render:function(){return o["default"].createElement("div",{className:"fcn-sqlpreview--schema"},o["default"].createElement("h3",null,"Database Schema"),o["default"].createElement("div",null,this.schemaTable()))}});t["default"]=l,e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0;var i=n(1),o=r(i),a=n(666),s=r(a),l=n(665),u=r(l),c=o["default"].createClass({displayName:"SQLPreview",getInitialState:function(){return{result:"",schema:[],dump:{}}},render:function(){return o["default"].createElement("div",{className:"fcn-sqlpreview--container"},o["default"].createElement(s["default"],{schema:this.state.schema}),o["default"].createElement(u["default"],{result:this.state.result}))}});t["default"]=c,e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0;var i=n(1),o=r(i),a=n(30),s=r(a),l=n(2),u=r(l),c=o["default"].createClass({displayName:"TaskCheckBox",mixins:[s["default"]],propTypes:{checked:o["default"].PropTypes.bool.isRequired,onClick:o["default"].PropTypes.func.isRequired,broadcast:o["default"].PropTypes.func.isRequired},componentDidMount:function(){this.props.broadcast("taskItemMounted")},render:function(){var e=u["default"]({"fcn-task__check":!0,"fcn-task__check--checked":this.props.checked});return o["default"].createElement("div",{"data-cue":"discovery-checklist",className:e,onClick:this.props.onClick},o["default"].createElement("span",{className:"fcn-icon fcn-icon-checkmark fcn-task__icon"}))}});t["default"]=c,e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0;var i=n(1),o=r(i),a=n(30),s=r(a),l=n(2),u=r(l),c=n(668),d=r(c),p=n(115),f=r(p),h=n(633),m=r(h),g=n(324),v=o["default"].createClass({displayName:"TaskItem",mixins:[s["default"]],propTypes:{done:o["default"].PropTypes.bool.isRequired,text:o["default"].PropTypes.string.isRequired,number:o["default"].PropTypes.number.isRequired,setTask:o["default"].PropTypes.func.isRequired,hint:o["default"].PropTypes.string},getInitialState:function(){return{text:f["default"](this.props.text)}},handleClick:function(){this.props.setTask(!this.props.done)},render:function(){var e=u["default"]({"fit-full":!0,"fcn-task":!0,"fcn-task--complete":this.props.done});return o["default"].createElement("article",{className:e},o["default"].createElement("div",{className:"grid-row accordion-section-body__padded",onClick:this.handleClick},o["default"].createElement("div",{className:"grid-col-1 grid-col--no-padding"},o["default"].createElement(d["default"],{broadcast:this.props.broadcast,checked:this.props.done})),o["default"].createElement("div",{className:"grid-col-1 grid-col--no-padding"},o["default"].createElement("span",{className:"fcn-task__number"},this.props.number,".")),o["default"].createElement("div",{className:"grid-col-10 grid-col--no-padding"},o["default"].createElement("div",{className:"task--markdown",dangerouslySetInnerHTML:{__html:this.state.text}}))),this.props.hint?o["default"].createElement(g.Experiment,{name:"exp_hints_2015_12_18"},o["default"].createElement(g.Variant,{name:"treatment","default":!0},o["default"].createElement(m["default"],{hint:this.props.hint}))):null)}});t["default"]=v,e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0;var i=n(1),o=r(i),a=n(211),s=r(a),l=n(669),u=r(l),c=n(671),d=r(c);t["default"]=o["default"].createClass({displayName:"TaskList",mixins:[s["default"]],propTypes:{broadcast:o["default"].PropTypes.func.isRequired,tasks:o["default"].PropTypes.array.isRequired,setTask:o["default"].PropTypes.func.isRequired},componentDidUpdate:function(e,t){this.listenForLinkClicks(".task--markdown a")},makeTaskItems:function(e,t,n){var r=this,i=[];return e.forEach(function(e,a){i.push(o["default"].createElement(u["default"],{text:e.text,number:a+1+t,key:"task-"+e.key,hint:e.hint,done:e.done,broadcast:r.props.broadcast,setTask:function(e){r.props.setTask(n,a,e)}}))}),o["default"].createElement("div",null,i)},render:function(){var e=this,t=[],n=0;return this.props.tasks.forEach(function(r,i){r.heading&&r.heading.length>0&&t.push(o["default"].createElement(d["default"],{key:"task-heading-"+i,heading:r.heading})),t.push(e.makeTaskItems(r.tasks,n,i)),n+=r.tasks.length}),o["default"].createElement("div",{className:"fcn-tasks"},o["default"].createElement("span",{className:"fcn-tasks__help"},"Mark each task as complete by checking them off"),t)}}),e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0;var i=n(1),o=r(i),a=n(30),s=r(a),l=o["default"].createClass({displayName:"TaskListHeader",mixins:[s["default"]],propTypes:{heading:o["default"].PropTypes.string.isRequired,broadcast:o["default"].PropTypes.func.isRequired},render:function(){return o["default"].createElement("article",{className:"fit-full fcn-task-header"},this.props.heading)}});t["default"]=l,e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0;var i=n(1),o=r(i),a=n(30),s=r(a),l=n(72),u=r(l),c=o["default"].createClass({displayName:"ComingSoonWall",propTypes:{dismiss:o["default"].PropTypes.func.isRequired},mixins:[s["default"]],render:function(){return o["default"].createElement(u["default"],{dismiss:this.props.dismiss},o["default"].createElement("div",null,o["default"].createElement("h2",null,"More Coming Soon!"),o["default"].createElement("p",null,"Great job completing this lesson! We'll be adding more to this course soon, so look out for an email with updates."),o["default"].createElement("a",{href:"/learn",className:"button button--alternate fcn-wall__nav"},"SEE MORE COURSES")))}});t["default"]=c,e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0;var i=n(1),o=r(i),a=n(30),s=r(a),l=n(72),u=r(l),c=o["default"].createClass({displayName:"CourseCompleteWall",propTypes:{courseName:o["default"].PropTypes.string.isRequired,courseSlug:o["default"].PropTypes.string.isRequired,achievements:o["default"].PropTypes.array.isRequired,dismiss:o["default"].PropTypes.func.isRequired},mixins:[s["default"]],render:function(){var e=this.props.achievements,t=void 0;e.forEach(function(e){/^skill-/.test(e.slug)&&(t=e)});var n=void 0;return n=t?"cc-achievement cc-achievement--"+t.icon:"cc-achievement cc-achievement--code-achievement",o["default"].createElement(u["default"],{dismiss:this.props.dismiss},o["default"].createElement("div",null,o["default"].createElement("h2",null,"Congratulations!"),o["default"].createElement("p",null,o["default"].createElement("span",{className:n})),o["default"].createElement("p",null,"Congratulations on completing the course ",o["default"].createElement("strong",null,this.props.courseName),"! You've learned a new skill and should be proud!"),o["default"].createElement("p",null,"Want to take a look at your profile and see what you've accomplished?"),o["default"].createElement("a",{href:"/profiles/me",className:"button button--alternate fcn-wall__nav"},"SEE YOUR ACHIEVEMENTS")))}});t["default"]=c,e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0;var i=n(209),o=r(i),a=n(1),s=r(a);t["default"]=s["default"].createClass({displayName:"FullWebPreview",render:function(){return s["default"].createElement("div",null,s["default"].createElement("div",{className:"fcn-component-header"}),s["default"].createElement(o["default"],this.props))}}),e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0;var i=n(3),o=r(i),a=n(209),s=r(a),l=n(1),u=r(l),c=n(2),d=r(c);t["default"]=u["default"].createClass({displayName:"PresetTemplatedWebPreview",getInitialState:function(){return{snippet:this.props.presenter.snippets[0].label}},_selectSnippet:function(e){this.setState({snippet:e.label}),this.props.broadcast("selectSnippet",e)},componentDidMount:function(){o["default"].defer(function(){this._selectSnippet(this.props.presenter.snippets[0])}.bind(this))},render:function(){return u["default"].createElement("div",null,u["default"].createElement("div",{className:"fcn-component-header"}),function(){var e=[];return this.props.presenter.snippets.forEach(function(t){var n=d["default"]({button:!0,"button--alternate":this.state.snippet!==t.label});e.push(u["default"].createElement("a",{className:n,onClick:function(){this._selectSnippet(t)}.bind(this)},t.label))}.bind(this)),e}.bind(this)(),u["default"].createElement(s["default"],this.props))}}),e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0;var i=n(209),o=r(i),a=n(1),s=r(a);t["default"]=s["default"].createClass({displayName:"TemplatedWebPreview",render:function(){return s["default"].createElement("div",{className:"fcn-component-container"},s["default"].createElement("div",{className:"fcn-component-header"}),s["default"].createElement(o["default"],this.props))}}),e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0;var i=n(332),o=r(i);t["default"]=o["default"].extend({initialize:function(){},createComponentBroadcastFunction:function(e){return function(){var t=arguments[0],n=["component",e,t].join(":"),r=Array.prototype.slice.call(arguments,1),i=[n].concat(r);this.trigger.apply(this,i)}.bind(this)},_handle:function(e){this._handlers[e].forEach(function(e){e.call(this)}.bind(this))},registerComponent:function(e,t){this._components[e]=t},destroy:function(){this._handle("destroy");for(var e in this._events)this.off(e)},inheritCache:function(e){this._cache=e._cache},extendCache:function(){this._handle("extendCache")}}),e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0;var i=n(9),o=r(i),a=n(3),s=r(a),l=n(677),u=r(l);t["default"]=function(e){return function(){function t(e,t){void 0!==e[t]&&(l[t].push(e[t]),delete e[t])}var n=o["default"].extend(!0,{mixins:[]},e),r={},i=n.mixins,a=[n.events],l={destroy:[],extendCache:[]};delete n.events,t(n,"destroy"),t(n,"extendCache"),r=s["default"].extend(r,n),void 0!==i&&i.forEach(function(e){t(e,"destroy"),t(e,"extendCache"),a.push(s["default"].extend({},e.events)),delete e.events,r=s["default"].extend(r,e)});var c=u["default"].extend(r),d=new c;return d._handlers=l,d._components={},d._state={},d._cache={},a.forEach(function(e){for(var t in e)d.on(t,e[t].bind(d))}),d}},e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0;var i=n(9);r(i);n(22);var o=n(14),a=(r(o),n(27)),s=r(a);t["default"]={events:{"interface:persist":function(){s["default"].persist()},"component:Brief:start":function(){var e=this;this._components.WebBrowser&&this._components.WebBrowser.home(),this.controller.updateProgress(1,{success:function(){e.controller.revealComponents(),e.controller.setState({progress:{status:1}})}})}}},e.exports=t["default"]},function(e,t){"use strict";t.__esModule=!0,t["default"]={events:{"component:NonPersistentCodeEditor:update":function(e){this.controller.updateExerciseComponent("FullWebPreview",e)},"component:PersistentCodeEditor:update":function(e){this.controller.updateExerciseComponent("FullWebPreview",e)}}},e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0;var i=n(26),o=r(i);t["default"]={events:{"component:PersistentCodeEditor:showFileNav":function(e){this._components.GlobalModal.toggleModal("FileTool")},"component:PersistentCodeEditor:openMissingFilesDialog":function(e){this.openMissingFilesDialog(e)},"component:GlobalModal:toggleModal":function(){this._components.GlobalModal.toggleModal("FileTool")},"component:GlobalModal:toggleFileTool":function(){this._components.GlobalModal.closeAddFileTool()},"component:GlobalModal:getConfirmation":function(e,t){this._components.GlobalModal.setState({secondaryModalContent:e,confirmationCB:t})}},openMissingFilesDialog:function(e){var t=e.slice(e.lastIndexOf("/")+1||0,e.length),n=this._components.GlobalModal.resetFilesContent(e,t);this._components.GlobalModal.openSecondaryModal(n),o["default"].increment("francine.filenav.move-file","error")}},e.exports=t["default"]},function(e,t){"use strict";t.__esModule=!0,t["default"]={events:{"component:NonPersistentCodeEditor:update":function(e){this.controller.updateExerciseComponent("NonPersistentCodeEditor",e)}}},e.exports=t["default"]},function(e,t){"use strict";t.__esModule=!0,t["default"]={events:{"component:PersistentCodeEditor:updateFiles":function(){this._components.OutputTerminal.clear()},"godex:output":function(e){this._components.OutputTerminal.print(e.Output,"stdout")},"godex:error":function(e){this._components.OutputTerminal.print(e.Error,"stderr")}}},e.exports=t["default"]},function(e,t){"use strict";t.__esModule=!0,t["default"]={events:{"component:PersistentCodeEditor:toggleFileTool":function(){this._components.PersistentCodeEditor.toggleFileTool()},"component:PersistentCodeEditor:updateFiles":function(){this._components.PersistentCodeEditor.setState({running:!0})},"component:PersistentCodeEditor:submit":function(){this.handleWorkspaceSaveAfterSubmit()},"godex:fs":function(e){this._components.PersistentCodeEditor.reloadFile(e.path)}}},e.exports=t["default"]},function(e,t){"use strict";t.__esModule=!0,t["default"]={_buildTemplatedFile:function(e){var t=this._components.PresetTemplatedWebPreview.props.presenter.source;return t=t.replace("{{{snippet}}}",e.content),{files:[{filename:"index.html",content:t}]}},events:{"component:PresetTemplatedWebPreview:selectSnippet":function(e){this.controller.updateExerciseComponent("PresetTemplatedWebPreview",this._buildTemplatedFile(e))}}},e.exports=t["default"]},function(e,t){"use strict";t.__esModule=!0,t["default"]={events:{"godex:ready":function(){var e=this;this._cache.godexClient.on("sql:stdout",function(t){e._components.SQLPreview.setState({result:t.result,schema:t.schema}),""!=t.error?e.controller.setState({errors:{visible:!0,timestamp:(new Date).valueOf(),friendly:t.error,component:"PersistentCodeEditor"},skipTests:!0}):e.controller.setState({skipTests:!1})})}}},e.exports=t["default"]},function(e,t){"use strict";t.__esModule=!0,t["default"]={events:{"component:NonPersistentEditor:update":function(e){},"interface:ready":function(){}}},e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0;var i=n(3);r(i);t["default"]={events:{"godex:ready":function(){this._components.Terminal.onGodexReady(),this._cache.godexClient.on("RailsErr",function(e){this._components.Terminal.getActiveTerminal().print(e.RailsError+"\n")}.bind(this))},"godex:disconnected":function(){this._components.Terminal.onGodexDisconnected()},"lifesaver:restored":function(e){this._components.Terminal&&this._components.Terminal.resetTerminals()},"interface:resized":function(){this._components.Terminal&&this._components.Terminal.onResize()},"component:Terminal:pty":function(e,t){var n=e.split(" "),r=n[0],i=n.slice(1);this._cache.godexClient.spawnPty(this._cache.currentWorkspace.slug,{Name:r,Args:i},function(e,n){t({fake:!1,ptyStream:n}),n.on("end",function(){t({fake:!0})})})},"component:Terminal:input":function(e,t){this._cache.godexClient.execute(this._cache.currentWorkspace.slug,e,function(n,r){t(e,r.Content,r.Error?1:0)}.bind(this))}}},e.exports=t["default"]},function(e,t){"use strict";t.__esModule=!0,t["default"]={events:{"godex:ready":function(){this._components.WebBrowser.refresh()},"component:WebBrowser:translate":function(e,t){var n=this._translateBrowserURL(e);void 0!==t&&t(n)},"component:WebBrowser:loadInternal":function(e){var t=this._reverseTranslateBrowserURL(e);t!==this._components.WebBrowser.state.displayURL&&this._components.WebBrowser.handleBroadcastURL(e,t),this._components.WebBrowser.setState({displayURL:t})},"component:Narrative:navigateToURL":function(e){this._components.WebBrowser.loadUrl(e)},"component:Brief:navigateToURL":function(e){this._components.WebBrowser.loadUrl(e)}},_parser:document.createElement("a"),_parseURL:function(e){this._parser.href=e},_translateBrowserURL:function(e){return void 0===e?"":(e=e.trim(),/http.*/.test(e)||(e="http://"+e),this._parseURL(e),this._originalPort=this._parser.port,"8080"===this._parser.port&&(this._parser.port="8000"),"localhost"!==this._parser.hostname?e:"development"===CCDATA.env?this._parser.protocol+"//external-dev.codecademy.com:"+this._parser.port+this._parser.pathname+"?nonce="+(new Date).valueOf():this._cache.godexManager?"https://"+this._cache.godexManager.mgmt.instance.hostname+"-"+this._parser.port+".terminal.com"+this._parser.pathname+"?nonce="+(new Date).valueOf():"")},_reverseTranslateBrowserURL:function(e){return this._parseURL(e),"development"===CCDATA.env?this._parser.protocol+"//localhost:"+this._originalPort+this._parser.pathname:/terminal.com/.test(e)?this._parser.protocol+"//localhost:"+this._originalPort+this._parser.pathname:e;
}},e.exports=t["default"]},function(e,t){"use strict";t.__esModule=!0,t["default"]={events:{"component:PersistentCodeEditor:openedFile":function(){this.dirtyUIState()}},submit:function(){void 0!==this.checkpoints&&this.checkpoints.length>0&&this.controller.refs.componentGrid.expandSlotByName("Narrative"),this.handleWorkspaceSaveAfterSubmit()},handleWorkspaceSaveAfterSubmit:function(){void 0===this.checkpoints||0===this.checkpoints.length||this.controller.state.skipTests?this.cleanUp():(this.dirtyWorkspaceState(),this.runCheckpointTests())}},e.exports=t["default"]},function(e,t){"use strict";t.__esModule=!0,t["default"]={events:{"component:Terminal:result":function(){this.dirtyUIState(),this.dirtyWorkspaceState(),this.runCheckpointTests()},"component:Terminal:pty_result":function(){this.dirtyUIState(),this.dirtyWorkspaceState(),this.runCheckpointTests()}}},e.exports=t["default"]},function(e,t){"use strict";t.__esModule=!0,t["default"]={events:{"component:WebBrowser:runTests":function(){this.dirtyUIState(),this.runCheckpointTests()},"component:Narrative:navigateToURL":function(e){this.dirtyUIState(),this.runCheckpointTests()}}},e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0;var i=n(27),o=r(i);t["default"]={handleWorkspaceSaveAfterSubmit:function(){var e=this;this._components.WebBrowser&&this._components.WebBrowser.home(),o["default"].persist().then(function(){e._components.PersistentCodeEditor.setState({status:null,running:!1})})}},e.exports=t["default"]},function(e,t){"use strict";t.__esModule=!0,t["default"]={events:{"godex:ready":function(){this.controller.state.progress&&0!==this.controller.state.progress.status?this._components.WebBrowser.refresh():this._components.WebBrowser.loadUrl(this.controller.props.project.preview_url)}}},e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0;var i=n(168),o=r(i);t["default"]={events:{"interface:resized":function(){o["default"].resized()},"interface:resizing":function(){o["default"].resizing()},"component:Brief:taskItemMounted":function(){o["default"].resized()}}},e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0;var i=n(371),o=r(i),a=n(26),s=r(a),l=n(550),u=r(l),c=n(35),d=r(c),p=n(336),f=r(p),h=n(27),m=r(h),g=n(200),v=r(g),y=n(38),_=r(y),b=window.WebSocket,x=3,w=15e3,k=3;t["default"]={extendCache:function(){var e=this;return this.controller.currentWorkspace().backend===!1?void m["default"].setWorkspace(this.controller.currentWorkspace()).then(function(){v["default"].ready()},function(){throw new Error("Failed to initialize")}):(void 0===this._cache.hasAskedForNewGodexInstance&&(this._cache.hasAskedForNewGodexInstance=!1),void 0===this._cache.hasGottenGodexInstance&&(this._cache.hasGottenGodexInstance=!1,o["default"].init({userTimingHandler:function(){},eventHandler:function(){e._cache.godexClient&&e._cache.godexClient.acknowledgeSessionStillAlive()}})),void(CCDATA.current_user&&(this._cache.currentWorkspace&&this.controller.currentWorkspace().slug===this._cache.currentWorkspace.slug?(this._acceptGodexClient(this._cache.godexClient),this._cleanupOnceWorkspaceIsReady()):this._getFreshGodexConn())))},_getFreshGodexConn:function(){delete this._cache.godexClient,v["default"].load(),this.controller.setState({godexReady:!1}),this._cache.godexManager=new u["default"].Manager(window.location.protocol+"//"+window.location.host+"/api/management/v1",{id:CCDATA.current_user._id,authentication_token:CCDATA.current_user.authentication_token}),void 0!==b?(s["default"].increment("francine.godexer.websocket","available"),this._cache.connectionAttemptCounter=0,this._cache.firstConnectionAttemptTime=new Date,this._cache.hasGottenWorkspaceBefore=!1,this._attemptToConnect()):(s["default"].increment("francine.godexer.websocket","unavailable"),_["default"]("error","Unable to proceed because Websockets are unsupported"),this.controller.setGodexStatus("Sorry, your browser is unsupported","error"))},_withGodexClient:function(e){var t=this;void 0===this._cache.godexClient?(this._cache.hasGottenGodexInstance||this.controller.registerPerformanceMeasurement("getGodexInstanceStart"),this._cache.godexManager.getGodexClient(this.controller.currentWorkspace().slug,function(n,r){t._acceptGodexClient(r),s["default"].increment("francine.godexer.get-client","ok"),_["default"]("info","Successfully connected to Godex instance"),t._cache.suspicionThatInstanceIsBad=0,e(r)},function(e,n){t.controller.apologizeForOutage(),t.controller.setGodexStatus("Workspace unavailable, try again later","error"),s["default"].increment("francine.godexer.get-client","error"),_["default"]("error","Godex instance not available")})):e(this._cache.godexClient)},_attemptToConnect:function(){this.controller.setGodexStatus("Connecting to Codecademy...","neutral"),_["default"]("info","Attempting to connect to Godex instance for workspace '"+this.controller.currentWorkspace().slug+"'"),this._withGodexClient(function(e){this._cache.godexConnectionAttemptTime=new Date,this._cache.hasGottenGodexInstance||this.controller.registerPerformanceMeasurement("godexConnectStart"),e.connect(),this._cache.connectionAttemptTimeout=setTimeout(function(){s["default"].increment("francine.godexer","timed-out"),_["default"]("error","Godex connection attempt timed out"),e.close(4e3,"Connection Timeout")}.bind(this),w)}.bind(this))},_acceptGodexClient:function(e){var t=this;this._cache.godexClient=e,f["default"].setGodexClient(e),e.removeAllListeners("ready"),e.on("ready",function(){if(this._cache.hasGottenGodexInstance||this.controller.registerPerformanceMeasurement("godexConnectEnd"),clearTimeout(this._cache.connectionAttemptTimeout),this._cache.connectionAttemptCounter=0,this._ensureWorkspace(),void 0!==this._cache.firstConnectionAttemptTime){var e=(new Date).valueOf()-this._cache.firstConnectionAttemptTime.valueOf();s["default"].timing("francine.godexer","first-successful-connection",e),this._sendMetricToLogService("first-successful-connection",e)}void 0!==this._cache.godexConnectionAttemptTime&&(s["default"].timing("francine.godexer","godex-connection",(new Date).valueOf()-this._cache.godexConnectionAttemptTime.valueOf()),delete this._cache.godexConnectionAttemptTime),_["default"]("info","Godex instance ready"),s["default"].increment("francine.godexer","ready")}.bind(this)),e.removeAllListeners("unauthorized"),e.on("unauthorized",function(){clearTimeout(this._cache.connectionAttemptTimeout),this._apologize(),s["default"].increment("francine.godexer","unauthorized"),_["default"]("error","Godex connection unauthorized")}.bind(this)),["output","input","error","result","fs"].forEach(function(t){e.removeAllListeners(t),e.on(t,function(e){this.trigger("godex:"+t,e)}.bind(this))}.bind(this)),e.on("idle",function(){e.removeAllListeners("disconnected"),t.controller.connection_idle(),v["default"].load(),t.controller.setState({idle:!0,godexReady:!1}),e.close(1e3,"Client Went Idle.")}),e.removeAllListeners("disconnected"),e.on("disconnected",function(){clearTimeout(this._cache.connectionAttemptTimeout),this.trigger("godex:disconnected"),v["default"].load(),this.controller.setState({godexReady:!1}),this._respondToDisconnection(),s["default"].increment("francine.godexer","disconnected"),_["default"]("error","Disconnected from Godex")}.bind(this))},_giveUpOnInstance:function(e){var t=this;delete this._cache.godexClient,s["default"].increment("francine.godexer","give-up"),this._cache.hasAskedForNewGodexInstance?(this._apologize(),s["default"].increment("francine.godexer","fresh-instance-bad"),_["default"]("error","Cannot proceed because have given up on two bad instances already"),this.controller.apologizeForOutage()):(_["default"]("error","Giving up on Godex instance and asking for a fresh one"),this._cache.godexManager.askForFreshGodexInstance({success:function(){this._cache.connectionAttemptCounter=0,this._cache.hasAskedForNewGodexInstance=!0,this._attemptToConnect()}.bind(this),error:function(e){t._apologize()}}))},incrementSuspicionThatInstanceIsBad:function(){this._cache.suspicionThatInstanceIsBad++,_["default"]("error","Recognizing sign of bad Godex instance ("+this._cache.suspicionThatInstanceIsBad+"/"+k+" strikes)"),this._cache.suspicionThatInstanceIsBad>=k&&(_["default"]("error","Bad instance threshold crossed; giving up on current instance"),this._giveUpOnInstance())},_respondToDisconnection:function(){this._cache.connectionAttemptCounter++,this._cache.connectionAttemptCounter>x?this._giveUpOnInstance():setTimeout(this._attemptToConnect.bind(this),1e3)},_ensureWorkspace:function(){console.info("ensuring workspace",this._cache.currentWorkspace);var e=this.controller.currentWorkspace();if(void 0===e)throw this._apologize(),new Error("Exercise does not define its workspace");v["default"].load(),this._cache.currentWorkspace=e,this._createWorkspace(e,function(e){var t=this;m["default"].setWorkspace(e).then(function(){t.controller.setState({godexReady:!1}),t._cleanupOnceWorkspaceIsReady()})}.bind(this))},_createWorkspace:function(e,t){var n=new Date;this.controller.setGodexStatus("Setting up workspace...","neutral"),_["default"]("info","Setting up workspace '"+this.controller.currentWorkspace().slug+"'"),this._cache.godexClient.createWorkspace(e.slug,e.type,function(r,i){if(r)this._apologize(),s["default"].increment("francine.godexer.create-workspace","error"),_["default"]("error","Error setting up workspace '"+this.controller.currentWorkspace().slug+"': "+r);else{if(t.call(this,e),s["default"].timing("francine.godexer.create-workspace",e.slug,(new Date).valueOf()-n.valueOf()),_["default"]("info","Successfully set up workspace '"+this.controller.currentWorkspace().slug+"'"),this._cache.hasGottenGodexInstance||(this.controller.registerPerformanceMeasurement("godexReady"),this._cache.hasGottenGodexInstance=!0),!this._cache.hasGottenWorkspaceBefore){var o=(new Date).valueOf()-this._cache.firstConnectionAttemptTime.valueOf();this._sendMetricToLogService("workspace-ready",o),this._cache.hasGottenWorkspaceBefore=!0,delete this._cache.firstConnectionAttemptTime}this.controller.setGodexStatus("Workspace ready","success")}}.bind(this))},_cleanupOnceWorkspaceIsReady:function(){this.controller.currentWorkspace();void 0!==this._runExerciseSetup?this._runExerciseSetup(function(){this.controller.setState({godexReady:!0}),this.trigger("godex:ready"),v["default"].ready()}.bind(this)):(this.controller.setState({godexReady:!0}),this.trigger("godex:ready"),v["default"].ready())},_apologize:function(){this.controller.setGodexStatus("Oops! We're having a problem. Please wait a moment and try again.","error")},_sendMetricToLogService:function(e,t){var n=null;this._cache.currentWorkspace&&(n=this._cache.currentWorkspace.slug),d["default"].info({metric:e,value:t,workspace:n},"godex_client_metrics")}},e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0;var i=n(26),o=r(i),a=n(27),s=r(a);t["default"]={_runExerciseSetup:function(e){var t=this.controller.state.currentExercise.setup;void 0!==t&&this.controller.isActiveCheckpoint(this.controller.state.currentLessonIndex,this.controller.state.currentExerciseIndex,0)?(this.controller.setState({godexReady:!1}),this._cache.godexClient.execute(this.controller.state.currentExercise.workspace.slug,t.command,function(t,n){var r=this;n.Error?(o["default"].increment("francine.godexer.setup-exercise","error"),this._apologize()):(o["default"].increment("francine.godexer.setup-exercise","success"),s["default"].persist().then(function(){r.trigger("interface:ready"),e()}))}.bind(this).bind(t))):e()}},e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0;var i=n(14),o=r(i),a=n(38),s=r(a),l=n(113);r(l);t["default"]={events:{"component:Narrative:showWall":function(e){this.controller.setState({wall:e})},"component:Narrative:hideWall":function(){this.controller.setState({wall:void 0})},"component:Narrative:fixFiles":function(){this.fixFiles()},"component:GlobalModal:fixFiles":function(){this.fixFiles()},"component:Reflux:fixFiles":function(){this.fixFiles()},"component:PersistentCodeEditor:keepTrying":function(){o["default"].track("exercise","offer_support",{skill:this.controller.props.course.slug,topic:this.controller.state.currentLesson.slug,exercise:this.controller.state.currentExercise.slug,failures:this._totalFailures,user_response:"keep_trying"}),this._failures=0},"component:PersistentCodeEditor:showAnswer":function(){o["default"].track("exercise","offer_support",{skill:this.controller.props.course.slug,topic:this.controller.state.currentLesson.slug,exercise:this.controller.state.currentExercise.slug,failures:this._totalFailures,user_response:"get_answer"}),this.controller.setState({godexReady:!1}),this.controller.setGodexStatus("Fetching code...","neutral");var e=this.finalSavepointSlug(),t=function(e,t){e?this.controller.setGodexStatus("Something went wrong.","error"):(this.controller.setGodexStatus("Successfully retrieved code.","success"),this._components.PersistentCodeEditor.promptRun(),s["default"]("info","Successfully fetched answer files using Lakitu")),this.controller.setState({godexReady:!0})}.bind(this);this._failures=0,s["default"]("info","Fetching answer files using Lakitu"),this.restoreWorkspace(e,t)},"tester:tested":function(e,t){if(e&&this.controller.state.uploadSavepoints){var n=this.finalSavepointSlug();this.controller.setGodexStatus("Saving workspace checkpoint: "+n+"...","neutral"),this.checkpointWorkspace(n)}e||t||(this._failures++,this._totalFailures++,this._failures===this._cache.failureThreshold&&void 0!==this._components.PersistentCodeEditor&&this._components.PersistentCodeEditor.offerAnswer())},"lifesaver:restored":function(e){this.controller.hideErrors(),this.dirtyWorkspaceState()}},initialSavepointSlug:function(){return this.controller.state.currentExercise.slug+"-initial"},finalSavepointSlug:function(){return this.controller.state.currentExercise.slug+"-final"},fixFiles:function(){o["default"].track("exercise","fix_files",{skill:this.controller.props.course.slug,topic:this.controller.state.currentLesson.slug,exercise:this.controller.state.currentExercise.slug,failures:this._totalFailures});var e=this.initialSavepointSlug(),t=function(e,t){e?this.controller.setGodexStatus("Something went wrong.","error"):(this.controller.setGodexStatus("Fixed your files.","success"),this.controller.setProgressToCurrentExercise(),this.controller.refreshNav()),this.controller.setState({godexReady:!0})}.bind(this);this.controller.setState({godexReady:!1}),this.controller.setGodexStatus("Fixing your files...","neutral"),this.restoreWorkspace(e,t)}},e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0;var i=n(1),o=(r(i),n(5)),a=(r(o),n(14)),s=(r(a),n(17)),l=(r(s),n(167)),u=r(l),c=n(38),d=r(c),p=4;t["default"]={extendCache:function(){void 0===this._cache.failureThreshold&&(this._cache.failureThreshold=p)},events:{"interface:ready":function(){this._failures=0,this._totalFailures=0},"godex:ready":function(){this.controller.state.uploadSavepoints&&this.uploadInitialSavepoint()},"godmode:uploadInitial":function(){this.uploadInitialSavepoint()}},uploadInitialSavepoint:function(){var e=this.initialSavepointSlug();this.controller.setGodexStatus("Saving workspace checkpoint: "+e+"...","neutral"),this.checkpointWorkspace(e)},restoreWorkspace:function(e,t){var n=e.split("-").pop();d["default"]("info","Restoring workspace using Lakitu: "+e),this._cache.godexClient.restoreWorkspace(this._cache.currentWorkspace.slug,e,function(e,n,r){this.controller.setState({wall:void 0}),t&&t(n,r),n||(d["default"]("info","Successfully restored workspace using Lakitu"),this.trigger("lifesaver:restored",e),u["default"].loadFiles())}.bind(this,n))},checkpointWorkspace:function(e){this._cache.godexClient.checkpointWorkspace(this._cache.currentWorkspace.slug,e,function(e){e?this.controller.setGodexStatus("Something went wrong.","error"):this.controller.setGodexStatus("Saved workspace!","success")}.bind(this))}},e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0;var i=n(14),o=r(i),a=n(202),s=r(a);t["default"]={events:{"component:Reflux:fixFiles":function(){var e=this;o["default"].track("project","reset",{project:this.controller.props.project.slug}),s["default"].resetProject();var t=this.initialSavepointSlug(),n=function(t,n){t?e.controller.setGodexStatus("Something went wrong.","error"):(e.controller.setGodexStatus("Your project was reset.","success"),e.controller.updateProgress(0,{success:function(){e.controller.setProps({progress:{status:0}})}})),e.controller.setState({godexReady:!0})};this.controller.setState({godexReady:!1}),this.controller.setGodexStatus("Resetting your project...","neutral"),this.restoreWorkspace(t,n)},"component:Brief:showWall":function(e){this.controller.setState({wall:e})},"component:Brief:hideWall":function(e){this.controller.setState({wall:void 0})}},initialSavepointSlug:function(){return""}},e.exports=t["default"]},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}exports.__esModule=!0;var _platformLibsProblem_reporter=__webpack_require__(361),_platformLibsProblem_reporter2=_interopRequireDefault(_platformLibsProblem_reporter),_libsEvent_tracking=__webpack_require__(14),_libsEvent_tracking2=_interopRequireDefault(_libsEvent_tracking),_libsStatsd=__webpack_require__(26),_libsStatsd2=_interopRequireDefault(_libsStatsd),_testersWebSCT=__webpack_require__(709),_testersWebSCT2=_interopRequireDefault(_testersWebSCT),_testersRubySCT=__webpack_require__(708),_testersRubySCT2=_interopRequireDefault(_testersRubySCT),_testersRspecTest=__webpack_require__(707),_testersRspecTest2=_interopRequireDefault(_testersRspecTest),_testersKarmaTest=__webpack_require__(706),_testersKarmaTest2=_interopRequireDefault(_testersKarmaTest),_testersBatsTest=__webpack_require__(702),_testersBatsTest2=_interopRequireDefault(_testersBatsTest),_testersComponentTest=__webpack_require__(703),_testersComponentTest2=_interopRequireDefault(_testersComponentTest),_testersWorkspaceTest=__webpack_require__(710),_testersWorkspaceTest2=_interopRequireDefault(_testersWorkspaceTest),_testersExecuteFileTest=__webpack_require__(704),_testersExecuteFileTest2=_interopRequireDefault(_testersExecuteFileTest),_testersExecuteTest=__webpack_require__(705),_testersExecuteTest2=_interopRequireDefault(_testersExecuteTest),_platformLibsTestersError_recognition=__webpack_require__(718),_libsLoggingLogger=__webpack_require__(35),_libsLoggingLogger2=_interopRequireDefault(_libsLoggingLogger),_platformLibsActivityLogger=__webpack_require__(38),_platformLibsActivityLogger2=_interopRequireDefault(_platformLibsActivityLogger),_platformActionsWorkspaceActions=__webpack_require__(27),_platformActionsWorkspaceActions2=_interopRequireDefault(_platformActionsWorkspaceActions),Testers={webSCT:_testersWebSCT2["default"],rubySCT:_testersRubySCT2["default"],rspecTest:_testersRspecTest2["default"],karmaTest:_testersKarmaTest2["default"],componentTest:_testersComponentTest2["default"],workspaceTest:_testersWorkspaceTest2["default"],batsTest:_testersBatsTest2["default"],executeFileTest:_testersExecuteFileTest2["default"],executeTest:_testersExecuteTest2["default"]},COMPONENT_HINT_ORDER=["PersistentCodeEditor","Terminal","WebBrowser"];exports["default"]={events:{"interface:ready":function interfaceReady(){this._untestedState={dirtyWorkspace:!1,dirtyUI:!1},this.checkpoints=[],this.controller.setState({adapter:this});var checkpoint=this._loadCheckpoint.bind(this);try{eval(this.controller.state.currentExercise.tests.checkpoints)}catch(e){_libsStatsd2["default"].increment("francine.tester.checkpoints","eval-error"),this.controller.setGodexStatus("Aw, snap! There's an error in the exercise. Please try again later.","error"),this._reportEvalError(e,"Eval error when parsing checkpoints")}0!==this.checkpoints.length||this.controller.state.readonly?(this.checkpoints.forEach(function(e,t){var n=this.controller.isCheckpointComplete(this.controller.state.currentLessonIndex,this.controller.state.currentExerciseIndex,t);e.status=n?"satisfied":"default"},this),this.controller.updateExerciseComponent("Narrative",{checkpoints:this.checkpoints}),this.controller.refreshNav()):this.controller.isExerciseComplete(this.controller.state.currentLessonIndex,this.controller.state.currentExerciseIndex)||this.controller.handleCheckpointUpdate({checkpointIndex:-1})},"lifesaver:restored":function(e){"final"===e?this._completeCheckpoints():"initial"===e?this._resetCheckpoints():console.error("Unknown lakitu type: "+e)}},_loadCheckpoint:function(e,t){void 0===this.checkpoints&&(this.checkpoints=[]),this.checkpoints.push({label:e,test:t.bind(this),status:"default",message:""})},dirtyWorkspaceState:function(){this._untestedState.dirtyWorkspace=!0},dirtyUIState:function(){this._untestedState.dirtyUI=!0},clearUntestedState:function(){this._untestedState={dirtyUI:!1,dirtyWorkspace:!1}},runCheckpointTests:function(){var e=this;if(!this._cache.runningCheckpointTests&&!this.controller.state.isAnon&&!this.controller.state.readonly)if(this._cache.runningCheckpointTests=!0,this._cache.abort=!1,this._components.WebBrowser&&this._untestedState.dirtyWorkspace){var t=!1;this._components.WebBrowser.refresh(function(){t=!0,setTimeout(function(){e._startRunningCheckpoints()},750)}),setTimeout(function(){return e._cache.abort?e.cleanUp():void(t||e._startRunningCheckpoints())},2e3)}else this._startRunningCheckpoints()},_startRunningCheckpoints:function(){if(0===this.checkpoints.length)return void this.cleanUp();this._setupBeforeRunning();for(var e=-1,t=0;t<this.checkpoints.length;t++)if("satisfied"!==this.checkpoints[t].status){e=t;break}return-1===e?void this.cleanUp():(_platformLibsActivityLogger2["default"]("info","Running checkpoints starting with index "+e),void this._runCheckpointTest(e))},abortCheckpoints:function(){this._cache.runningCheckpointTests&&(this._cache.abort=!0)},_checkForAllPassed:function(){return this.checkpoints.every(function(e){return"satisfied"===e.status})},_getTestsForCheckpoint:function(e){var t={componentTest:Testers.componentTest.bind(this),workspaceTest:Testers.workspaceTest.bind(this),executeFileTest:Testers.executeFileTest.bind(this),webSCT:Testers.webSCT.bind(this),rubySCT:Testers.rubySCT.bind(this),rspecTest:Testers.rspecTest.bind(this),karmaTest:Testers.karmaTest.bind(this),activeBatsTest:Testers.batsTest.bind(this,!1),passiveBatsTest:Testers.batsTest.bind(this,!0),executeTest:Testers.executeTest.bind(this),batsTest:Testers.batsTest.bind(this,!0)},n=function(e,t){t.result({pass:!1,errors:{tool:"",component:""}},"autoFailTest")};return this._state.farthestProgressionAfterRun>this._state.farthestProgressionBeforeRun&&(this._untestedState.dirtyWorkspace||(t.rspecTest=n,t.karmaTest=n,t.webSCT=n,t.rubySCT=n,t.workspaceTest=n,t.executeFileTest=n),this._untestedState.dirtyUI||(t.componentTest=n)),t},_runCheckpointTest:function(e){var t=this;if(void 0===this.checkpoints)return console.warn("No checkpoints found for this exercise."),void this.cleanUp();if(this._cache.abort)return console.info("Aborted running checkpoints at index",e),this.cleanUp();var n=this.checkpoints[e],r={checkpointIndex:e,showPending:function(){t.checkpoints[e].status="pending",t.controller.updateExerciseComponent("Narrative",{checkpoints:t.checkpoints})},result:function(r,i){if(t._cache.abort)return console.info("Aborted running checkpoints at index",e),t.cleanUp();if(n.status=r.pass?"satisfied":"unsatisfied",t.controller.updateExerciseComponent("Narrative",{checkpoints:t.checkpoints}),r.pass)return t.controller.hideErrors(),t._state.farthestProgressionAfterRun=e,e<t.checkpoints.length-1?void t._runCheckpointTest(e+1):(_platformLibsActivityLogger2["default"]("info","Ran all checkpoints successfully"),void t.cleanUp());r.errors.component||(r.errors.component=t._chooseComponentForHint());var o=t._state.farthestProgressionAfterRun>t._state.farthestProgressionBeforeRun;if(o){for(var a=e;a<t.checkpoints.length;a++)t._unsetCheckpointState(t.checkpoints[a]);t._state.gotActiveFeedback=!0}else{r.passive?t._unsetCheckpointState(t.checkpoints[e]):t._state.gotActiveFeedback=!0;for(var a=e+1;a<t.checkpoints.length;a++)t._unsetCheckpointState(t.checkpoints[a]);if(r.errors.tool){var s=_platformLibsTestersError_recognition.recognize(r.errors.tool);switch(s.probableCause){case _platformLibsTestersError_recognition.causes.NETWORK_ISSUES:r.errors.friendly="Sorry, it looks like we're experiencing a temporary problem. Please try again!";break;case _platformLibsTestersError_recognition.causes.BAD_TERMINAL_INSTANCE:r.errors.friendly="Sorry, it looks like we're experiencing a temporary problem. Please try again!",t.incrementSuspicionThatInstanceIsBad();break;case _platformLibsTestersError_recognition.causes.UNKNOWN_CAUSE:r.errors.friendly="Something has gone wrong. Please try again in a little while.";break;case _platformLibsTestersError_recognition.causes.USER_ERROR:}t._instrumentRecognizedToolError(s),_libsLoggingLogger2["default"].error({message:r.errors.tool,id:s.id,cause:s.probableCause},"platform_tool_errors")}r.passive||t.controller.showErrors(r.errors)}t.controller.updateExerciseComponent("Narrative",{checkpoints:t.checkpoints}),_platformLibsActivityLogger2["default"]("info","Failed on checkpoint index "+e),t.cleanUp()}},i=this._getTestsForCheckpoint(e);try{n.test(i,r),_libsStatsd2["default"].increment("francine.tester.checkpoints","test-eval-success")}catch(o){console.error("Checkpoint test run error:\n"+o),_libsStatsd2["default"].increment("francine.tester.checkpoints","test-eval-error"),r.result({pass:!1}),this.controller.setGodexStatus("Aw, snap! There's an error in the exercise. Please try again later.","error"),this._reportEvalError(o,"Eval error when running checkpoint "+e)}},_chooseComponentForHint:function(){for(var e=COMPONENT_HINT_ORDER,t=Array.isArray(e),n=0,e=t?e:e[Symbol.iterator]();;){var r;if(t){if(n>=e.length)break;r=e[n++]}else{if(n=e.next(),n.done)break;r=n.value}var i=r;if(this.controller.state.currentExercise.components[i])return i}var o=Object.keys(this.controller.state.currentExercise.components).filter(function(e){return"Narrative"!==e});return o.length>0?o[0]:null},_setupBeforeRunning:function(){this._components.PersistentCodeEditor&&this._components.PersistentCodeEditor.setState({running:!0,status:"Running"}),this._state.farthestProgressionBeforeRun=-1;for(var e=0;e<this.checkpoints.length;e++)"satisfied"===this.checkpoints[e].status&&(this._state.farthestProgressionBeforeRun=e);this._state.gotActiveFeedback=!1,this._state.farthestProgressionAfterRun=-1,this._state.testerSetupState={}},_runTesterWithSetup:function(e,t,n){var r=this;this._state.testerSetupState[e]!==!0?t.call(this,function(){r._state.testerSetupState[e]=!0,n.call(r)}):n.call(this)},cleanUp:function(){var e=this;this._components.PersistentCodeEditor&&this._components.PersistentCodeEditor.setState({running:!1,status:"All changes saved"});var t=-1;this.checkpoints.forEach(function(e,n){"satisfied"===e.status&&(t=n)},this),1>t&&this._state.gotActiveFeedback&&this._components.Narrative&&this._components.Narrative.scrollToInstructions();var n=this._state.farthestProgressionAfterRun>this._state.farthestProgressionBeforeRun,r=this._checkForAllPassed();_libsEvent_tracking2["default"].track("action","submit",{skill:this.controller.props.course.slug,curriculum:this.controller.props.course.slug,topic:this.controller.state.currentLesson.slug,exercise:this.controller.state.currentExercise.slug,number_checkpoints:this.checkpoints.length,last_passing_checkpoint_index:t,completed:r,correct:n,submit_type:"exercise_submit"}),_platformActionsWorkspaceActions2["default"].persist().then(function(){e.trigger("tester:tested",r,n)},function(){e.controller.setGodexStatus("Sorry, there was an error saving your code","error")}),this.clearUntestedState(),this._cache.runningCheckpointTests=!1,this._cache.abort=!1,this.controller.handleCheckpointUpdate({checkpointIndex:this._state.farthestProgressionAfterRun?this._state.farthestProgressionAfterRun:0})},_unsetCheckpointState:function(e){this._updateCheckpointState(e,"default")},_updateCheckpointState:function(e,t){e.status=t},_resetCheckpoints:function(){this._updateAllCheckpoints("default")},_completeCheckpoints:function(){this._updateAllCheckpoints("satisfied"),this._state.farthestProgressionAfterRun=this.checkpoints.length-1,this.cleanUp()},_updateAllCheckpoints:function(e){var t=this;this.checkpoints&&this.checkpoints.length&&(this.checkpoints.forEach(function(n){t._updateCheckpointState(n,e)}),this.controller.updateExerciseComponent("Narrative",{checkpoints:this.checkpoints}))},_reportEvalError:function(e,t){_platformLibsProblem_reporter2["default"].report({error:e,preface:t,type:"checkpoint-eval"}),_platformLibsActivityLogger2["default"]("error",t+": '"+e.message.replace('"','"')+"'")},_instrumentRecognizedToolError:function(e){_libsStatsd2["default"].increment("francine.tester.recognized-errors.id",e.id),_libsStatsd2["default"].increment("francine.tester.recognized-errors.cause",e.probableCause)}},module.exports=exports["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0;var i=n(26),o=r(i);t["default"]=function(e,t,n){var r=this;if(void 0===this._cache.godexClient)throw new Error("Not connected to Godex; can't run bats test");var i=(new Date).valueOf();this._cache.godexClient.updateFiles(this.controller.state.currentExercise.workspace.slug,[{Filename:".test.bats",Content:this.controller.state.currentExercise.tests.files[t]}],function(){r._cache.godexClient.execute(r.controller.state.currentExercise.workspace.slug,"bats .test.bats",function(t,r){o["default"].timing("francine.godexer.testers","batsTest",(new Date).valueOf()-i.valueOf());var a="";if(r.Error){var s=r.Content.split("\n"),l=s.filter(function(e){return/not ok/gi.test(e)});l.length>0?a=l[0].replace(/not ok \d/,""):(console.error("Warning: bats error output not as expected. You may have a malformed test file."),console.error(r.Content))}n.result({pass:!r.Error,passive:e,errors:{friendly:a}},"batsTest")}.bind(r))})},e.exports=t["default"]},function(e,t){"use strict";t.__esModule=!0,t["default"]=function(e,t){var n=this;if(void 0===t)throw new Error("Callback missing from componentTest.");var r={FullWebPreview:this._components.FullWebPreview,WebBrowser:this._components.WebBrowser,CodeEditor:this._components.PersistentCodeEditor};if(this._components.Terminal)!function(){var i=n._components.Terminal.getActiveTerminal();if(i)r.Terminal=i;else{console.info("No active terminal; using noop");var o=function(){return!1};r.Terminal={ranOneOfWithExitCode:o,didRunCommand:o,didRunOneOf:o}}n._terminalPollingID&&window.clearInterval(n._terminalPollingID);var a=100,s=2e3/a,l=0;n._terminalPollingID=window.setInterval(function(){var i=e(r,t);void 0===i.passive&&(i.passive=!1),i.pass||l>s?(window.clearInterval(n._terminalPollingID),delete n._terminalPollingID,t.result(i,"componentTest")):l++},a)}();else{var i=e(r,t);void 0===i.passive&&(i.passive=!1),t.result(i,"componentTest")}},e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0;var i=n(26),o=r(i);t["default"]=function(e,t,n,r,i){if(void 0===this._cache.godexClient)throw new Error("Not connected to Godex; can't run bats test");var a=this.controller.state.currentExercise.workspace.slug,s=this._cache.godexClient,l=(new Date).valueOf();s.updateFiles(a,[{Filename:e,Content:this.controller.state.currentExercise.tests.files[e]}],function(){s.execute(a,t,function(t,u){o["default"].timing("francine.godexer.testers","executeFileTest",(new Date).valueOf()-l.valueOf()),
s.deleteFile(a,e,function(){i.result({pass:!u.Error,passive:r,errors:{friendly:n}},"executeFileTest")})})})},e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0;var i=n(26);r(i);t["default"]=function(e,t,n){if(void 0===this._cache.godexClient)throw new Error("Not connected to Godex; can't run SCT");this._cache.godexClient.execute(this._cache.currentWorkspace.slug,e,function(e,r){var i=t(r.Error,r.Content);n.result(i,"executeTest")})},e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0;var i=n(3),o=r(i),a=n(26),s=r(a),l=function(e,t){var n=this;if(void 0===this._cache.godexClient)throw new Error("Not connected to Godex; can't run karma test");t.showPending();var r=o["default"].get(this.controller,"state.currentExercise.workspace.slug"),i=(new Date).valueOf();this._cache.godexClient.updateFiles(r,[{Filename:"test/test.js",Content:this.controller.state.currentExercise.tests.files[e]}],function(){n._cache.godexClient.execute(r,"/usr/local/lib/node_modules/karma/bin/karma start .karma.conf.js",function(e,n){s["default"].timing("francine.godexer.testers","karmaTest",(new Date).valueOf()-i.valueOf());var r=n.Content.trim().split("\n"),o=void 0,a=void 0,l="",u="",c={};try{if(o=JSON.parse(r[r.length-1]),o.summary.failed>0)for(var d=o.result[Object.keys(o.result)[0]],p=0;p<d.length;p++)if(!d[p].success){var f=d[p].description;l+=f+"\n"}0===o.summary.failed&&o.summary.success>0?a=!0:0===o.summary.failed&&0===o.summary.success?(a=!1,u=r.slice(4,r.length-1).join()):o.summary.failed>0&&(a=!1),l?c.friendly=l:u&&(c.tool=u),t.result({pass:a,errors:Object.assign({},c)},"karmaTest")}catch(h){var m=n.Content.split("\n")[0];t.result({pass:!1,errors:{tool:m}},"karmaTest")}})})};t["default"]=l,e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0;var i=n(26),o=r(i);t["default"]=function(e,t){if(void 0===this._cache.godexClient)throw new Error("Not connected to Godex; can't run rspec test");t.showPending();var n=(new Date).valueOf();this._cache.godexClient.updateFiles(this.controller.state.currentExercise.workspace.slug,[{Filename:"spec/spec.rb",Content:this.controller.state.currentExercise.tests.files[e]}],function(e,r){this._cache.godexClient.execute(this.controller.state.currentExercise.workspace.slug,"bundle exec rspec --format j spec/spec.rb",function(e,r){o["default"].timing("francine.godexer.testers","rspecTest",(new Date).valueOf()-n.valueOf());var i,a=r.Content.split("\n");try{i=JSON.parse(a[a.length-1]);var s="";if(i.summary.failure_count>0)for(var l=0;l<i.examples.length;l++)if("failed"===i.examples[l].status){var u=i.examples[l].exception.message;s+=u+"\n"}s=s.split("Diff:")[0];var c=0===i.summary.failure_count;t.result({pass:c,errors:{friendly:s}},"rspecTest")}catch(d){var p=r.Content.split("\n");p=p.filter(function(e){return!/warning/gi.test(e)});var f=new RegExp("/.*"+this.controller.currentWorkspace().slug+"/","g");p[0]=p[0].replace(f,""),t.result({pass:!1,errors:{tool:p[0]}},"rspecTest")}}.bind(this))}.bind(this))},e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0;var i=n(26),o=r(i);t["default"]=function(e,t){if(void 0===this._cache.godexClient)throw new Error("Not connected to Godex; can't run SCT");var n=(new Date).valueOf();this._runTesterWithSetup("rubySCT",function(e){var t=this._components.PersistentCodeEditor.props.presenter.files;this._cache.godexClient.run(this._cache.currentWorkspace.slug,t[0].filename,function(t,n){e.call(this)})},function(){this._cache.godexClient.updateFiles(this._cache.currentWorkspace.slug,[{Filename:e,Content:this.controller.state.currentExercise.tests.files[e]}],function(){this._cache.godexClient.sct(this.controller.state.currentExercise.workspace.slug,e,function(e,r){o["default"].timing("francine.godexer.testers","rubySCT",(new Date).valueOf()-n.valueOf()),t.result({pass:r.Pass,errors:{friendly:r.Hint}},"rubySCT")})}.bind(this))})},e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0;var i=n(1),o=(r(i),n(15)),a=r(o),s=n(26),l=r(s);t["default"]=function(e,t){var n=this.controller.state.currentExercise.tests.files[e],r=!1;if(this._components.WebBrowser.state.history.length>0&&void 0!==this._components.WebBrowser.refs.browser){var i=function o(e){var n=e.data;"webSCT:response"===n.event&&(e.target.removeEventListener(e.type,o),t.result({pass:void 0===n.error,errors:{friendly:n.error}},"webSCT"),r=!0)};window.addEventListener("message",i),a["default"].findDOMNode(this._components.WebBrowser.refs.browser).contentWindow.postMessage({event:"webSCT:request",code:n},"*"),setTimeout(function(){r||(l["default"].increment("francine.tester.webSCT","timeout"),t.result({pass:!1,errors:{friendly:"No response received from web browser"}},"webSCT"))},2e3)}else t.result({pass:!1,errors:{friendly:"Please reload your project in the web browser."}},"webSCT")},e.exports=t["default"]},function(e,t){"use strict";t.__esModule=!0,t["default"]=function(e){var t=this,n={fileContains:function(e,n,r){t._cache.godexClient.getFile(t._cache.currentWorkspace().slug,e,"text",function(e,t){if(e)r(!1);else{var i=new RegExp(n).test(t.Content);r(i)}})},fileExists:function(e,n){t._cache.godexClient.getFile(t._cache.currentWorkspace().slug,e,"text",function(e,t){n(!e)})}};e(n)},e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0;var i=n(332),o=r(i),a={PersistentCodeEditor:"CodeEditor",NonPersistentCodeEditor:"CodeEditor",FullWebPreview:"Preview",TemplatedWebPreview:"Preview",PresetTemplatedWebPreview:"Preview",WebBrowser:"Preview",Terminal:"Terminal",OutputTerminal:"Terminal",Brief:"Narrative",SQLPreview:"SQLPreview"};t["default"]=o["default"].extend({initialize:function(){this.arrangements={},this.registerLayouts([{Narrative:"03"},{Narrative:"03",CodeEditor:"1245"},{Narrative:"03",Preview:"1245"},{Narrative:"03",Terminal:"1245"},{Narrative:"03",Image:"1245"},{Narrative:"03",SQLPreview:"1245"},{Narrative:"03",CodeEditor:"14",Preview:"25"},{Narrative:"03",CodeEditor:"14",Image:"25"},{Narrative:"03",CodeEditor:"14",Terminal:"25"},{Narrative:"03",CodeEditor:"14",SQLPreview:"25"},{Narrative:"03",CodeEditor:"1",Preview:"25",Terminal:"4"},{Narrative:"03",CodeEditor:"1",Image:"25",Terminal:"4"},{Narrative:"03",Preview:"14",Image:"25"},{Narrative:"03",Preview:"25",Terminal:"14"},{Narrative:"03",Terminal:"45",Image:"12"}])},registerLayouts:function(e){e.forEach(function(e){this.registerLayout(e)}.bind(this))},registerLayout:function(e){var t=Object.keys(e).sort().join("_"),n={};for(var r in e)n[r]={slots:""+e[r],cols:this._determineColForSlots(e[r])};this.arrangements[t]=n},_determineColForSlots:function(e){e+="";var t="";return/[03]/.test(e)&&(t+="1"),/[14]/.test(e)&&(t+="2"),/[25]/.test(e)&&(t+="3"),t},getArrangement:function(e){return this.arrangements[this.buildComponentName(e)]},arrangementAmong:function(e,t){var n=this.getArrangement(t);if(void 0===n)throw new Error("Couldn't find layout for "+this.buildComponentName(t));return n[a[e._schema]]||n[e._schema]},buildComponentName:function(e){return Object.keys(e).map(function(e){return a[e]||e}).sort(function(e,t){return e.toLowerCase().localeCompare(t.toLowerCase())}).join("_")}}),e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}t.__esModule=!0;var o=n(1),a=r(o),s=n(659),l=r(s),u=n(663),c=r(u),d=n(218),p=r(d),f=a["default"].createClass({displayName:"Platform",propTypes:{type:a["default"].PropTypes.oneOf(["lessons","projects"])},componentWillMount:function(){p["default"].setData(this.props.proData)},render:function(){var e=this.props,t=e.type,n=i(e,["type"]);return"lessons"===t?a["default"].createElement(l["default"],n):"projects"===t?a["default"].createElement(c["default"],n):null}});t["default"]=f,e.exports=t["default"]},function(e,t){"use strict";t.__esModule=!0,window.__debug__={},t["default"]=function(e,t){window.__debug__[e]=t},e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}t.__esModule=!0;var o=n(903),a=r(o),s=function(){function e(t,n,r){i(this,e),this.slug=t+"",this.buckets=n,this.bucket=this._getBucket(this.slug,n,r)}return e.prototype._getBucket=function(e,t,n){for(var r=a["default"](n+e),i=parseInt(r.substring(0,10),16)%100,o=0,s=0;s<t.length;s++){if(i>=o&&i<o+t[s])return s;o+=t[s]}return t.length-1},e}();t.Experiment=s},function(e,t){"use strict";t.__esModule=!0,t["default"]={disableScrolling:function(){document.addEventListener("touchmove",function(e){e.preventDefault()})},fixHeight:function(){if(navigator.userAgent.match(/iPad;.*CPU.*OS 7_\d/i)&&window.innerHeight!=document.documentElement.clientHeight){var e=function(){document.documentElement.style.height=window.innerHeight+"px",0!==document.body.scrollTop&&window.scrollTo(0,0)};window.addEventListener("scroll",e,!1),window.addEventListener("orientationchange",e,!1),e(),document.body.style.webkitTransform="translate3d(0,0,0)"}}},e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}t.__esModule=!0;var o=n(35),a=r(o),s=n(3),l=r(s),u=["navigationStart","fetchStart","domainLookupStart","domainLookupEnd","connectStart","connectEnd","requestStart","responseStart","responseEnd","domLoading","domInteractive","domContentLoadedEventEnd","domComplete","loadEventEnd"],c=["firstPaintTime","firstPaintAfterLoadTime"],d=["getGodexInstanceStart","godexConnectStart","godexConnectEnd","godexReady"],p=u.concat(c).concat(d),f=u.concat(d),h=function(){function e(t){i(this,e),this.measurements=[],this.measurementsIndex={},this._measurementsRegistered={},this.zero=window.performance.timing[u[0]],this.facets=t}return e.supported=function(){return window.performance&&window.performance.timing},e.prototype.sort=function(){this.measurements.sort(function(e,t){return e.value-t.value})},e.prototype.fetchStandardEvents=function(){if(!window.performance||!window.performance.timing)return null;for(var e=window.performance.timing,t=u,n=Array.isArray(t),r=0,t=n?t:t[Symbol.iterator]();;){var i;if(n){if(r>=t.length)break;i=t[r++]}else{if(r=t.next(),r.done)break;i=r.value}var o=i,a=e[o];if(0!==a){var s=a-this.zero;this.registerEvent(o,s)}}if(window.chrome&&window.chrome.loadTimes)for(var l=window.chrome.loadTimes(),d=c,p=Array.isArray(d),f=0,d=p?d:d[Symbol.iterator]();;){var h;if(p){if(f>=d.length)break;h=d[f++]}else{if(f=d.next(),f.done)break;h=f.value}var m=h,a=1e3*l[m];if(0!==a){var s=Math.round(a-this.zero);this.registerEvent(m,s)}}},e.prototype.registerEvent=function(e){var t=arguments.length<=1||void 0===arguments[1]?(new Date).valueOf()-this.zero:arguments[1];if(-1===p.indexOf(e))throw new Error("Unexpected custom event '"+e+"'");return void 0!==this.measurementsIndex[e]?void console.warn("Attempt to register event '"+e+"' more than once"):(this.measurementsIndex[e]=t,this.measurements.push({event:e,value:t}),void this._uploadIfComplete())},e.prototype.get=function(){return this.sort(),this.measurements},e.prototype._uploadIfComplete=function(){var e=this;if(!this._uploaded){for(var t=f,n=Array.isArray(t),r=0,t=n?t:t[Symbol.iterator]();;){var i;if(n){if(r>=t.length)break;i=t[r++]}else{if(r=t.next(),r.done)break;i=r.value}var o=i;if(void 0===this.measurementsIndex[o])return}setTimeout(function(){e._upload()},5e3),this._uploaded=!0}},e.prototype._upload=function(){for(var e={metric:"TTG"},t=p,n=Array.isArray(t),r=0,t=n?t:t[Symbol.iterator]();;){var i;if(n){if(r>=t.length)break;i=t[r++]}else{if(r=t.next(),r.done)break;i=r.value}var o=i,s=this.measurementsIndex[o];void 0===s&&(s=""),e[o]=s}e=l["default"].extend(e,this.facets);var u=p.concat(Object.keys(this.facets).sort());a["default"].info(e,"learning_environment_performance",u)},e}();t["default"]=h,e.exports=t["default"]},function(e,t){"use strict";t.__esModule=!0;var n=null,r=null;t["default"]={save:function(){if(n=document.activeElement,n&&window.getSelection){var e=window.getSelection();r="Range"===e.type?e.getRangeAt(0):null}},restore:function(){if(n&&(n.focus(),r&&window.getSelection)){var e=window.getSelection();e.rangeCount>0&&e.removeAllRanges(),e.addRange(r)}}},e.exports=t["default"]},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e){for(var t=o,n=Array.isArray(t),r=0,t=n?t:t[Symbol.iterator]();;){var i;if(n){if(r>=t.length)break;i=t[r++]}else{if(r=t.next(),r.done)break;i=r.value}var a=i;if(a.test(e))return a}return null}t.__esModule=!0,t.recognize=r;var i={USER_ERROR:"USER_ERROR",BAD_TERMINAL_INSTANCE:"BAD_TERMINAL_INSTANCE",NETWORK_ISSUES:"NETWORK_ISSUES",UNKNOWN_CAUSE:"UNKNOWN_CAUSE"};t.causes=i;var o=[],a=function(){function e(t,r,i){n(this,e),this.id=t,this.matcher=r,this.probableCause=i}return e.prototype.test=function(e){return this.matcher.test(e)},e}();o.push(new a("PHANTOMJS_TIMEOUT",/Trying to start PhantomJS again/,i.BAD_TERMINAL_INSTANCE)),o.push(new a("UNKNOWN_ERROR",/.*/,i.UNKNOWN_CAUSE))},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0;var i=n(17);r(i);t["default"]={getInitialState:function(){return{uploadSavepoints:!1,nolock:!1}},handleAdminChange:function(e,t){var n={};n[e]=t.target.checked,this.setState(n)}},e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0;var i=n(1),o=r(i),a=n(620),s=r(a);t["default"]={anonymousUserWallIfNeeded:function(){return this.props.isRegisteredUser?null:o["default"].createElement(s["default"],{signUpForm:this.props.modals.signUp,signInForm:this.props.modals.signIn})}},e.exports=t["default"]},function(e,t){"use strict";t.__esModule=!0,t["default"]={componentShouldBeDisabled:function(e){switch(e){case"Footer":return!!this.state.wall;case"Terminal":case"OutputTerminal":case"WebBrowser":case"PersistentCodeEditor":if(!this.state.backendReady)return!0;default:if(this.isExerciseLocked&&this.isExerciseLocked()||this.state.isAnon||this.state.drawerOpen||this.state.wall)return!0}return!1}},e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0;var i=n(1),o=r(i);t["default"]={getInitialState:function(){},debugWireframe:function(){var e=["red","green","blue","orange","purple","pink"];return this.state.grid.slotsList.map(function(t,n){return o["default"].createElement("div",{key:"slotWireframe"+n,style:{border:"1px solid "+e[n],color:e[n],position:"absolute",pointerEvents:"none",top:100*t.top()+"%",left:100*t.left()+"%",bottom:100-100*t.bottom()+"%",right:100-100*t.right()+"%",padding:10}},o["default"].createElement("div",{style:{position:"absolute",top:"50%",left:"50%",marginTop:-10,marginLeft:-10}},t.id))})},renderDebugLayer:function(){return this.state.showDebugWireframe?this.debugWireframe():null}},e.exports=t["default"]},function(e,t){"use strict";t.__esModule=!0,t["default"]={loadedURL:function(e,t){void 0===t&&(t=1);var n=function(e){var t=document.createElement("a");return t.href=e,t},r=n(this._normalizeURL(e)),i=this.state.history.filter(function(e){var t=n(this._normalizeURL(e.displayURL));return t.hostname===r.hostname&&t.pathname===r.pathname&&t.port===r.port}.bind(this));return i.length>=t},loadedOneOf:function(e,t){for(var n=0;n<e.length;n++)if(this.loadedURL(e[n],t))return!0}},e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0;var i=n(212),o=r(i),a=n(739),s=r(a);t["default"]={codeContains:function(e,t){var n=o["default"].files.filter(function(t){return t.path==e||new RegExp(e).test(t.path)});if(1!==n.length||void 0===n||void 0===n[0].content)return!1;n=n[0];var r=new RegExp(t);return r.test(n.content)},hasOpened:function(e){return s["default"].hasOpened(e)}},e.exports=t["default"]},function(e,t){"use strict";t.__esModule=!0,t["default"]={didRunOneOf:function(e){for(var t=e,n=Array.isArray(t),r=0,t=n?t:t[Symbol.iterator]();;){var i;if(n){if(r>=t.length)break;i=t[r++]}else{if(r=t.next(),r.done)break;i=r.value}var o=i;if(this.didRunCommand(o))return!0}},didRunCommand:function(e){return this.state.fake?this.state.history.some(function(t){return e instanceof RegExp?e.test(t.input):t.input==e},this):this.realTerminalText().search(e)>=0},ranOneOfWithExitCode:function(e,t){return this.didRunOneOf(e)}},e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0;var i=n(624),o=r(i),a=n(1),s=r(a),l=n(5),u=r(l),c=n(738),d=r(c);t["default"]={mixins:[u["default"].connect(d["default"],"activeDiscoveryCues")],getInitialState:function(){return{activeDiscoveryCues:d["default"].getActiveCues()}},componentDidMount:function(){this.unsubscribe=d["default"].listen(this.onCueChange)},componentWillUnmount:function(){this.unsubscribe()},onCueChange:function(e){this.setState({activeDiscoveryCues:e})},discoveryCues:function(){for(var e=[],t=this.state.activeDiscoveryCues,n=0;n<t.length;n++)e.push(s["default"].createElement(o["default"],{key:"cue-"+t[n].target,cue:t[n]}));return e}},e.exports=t["default"]},function(e,t){"use strict";t.__esModule=!0,t["default"]={showErrors:function(e){e&&(e.visible=!0,e.timestamp=(new Date).valueOf(),this.setState({errors:e}))},hideErrors:function(){this.state.errors.visible=!1,this.state.errors.timestamp=(new Date).valueOf(),this.setState({errors:this.state.errors})}},e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0;var i=n(3),o=r(i);t["default"]={setGodexStatus:function(e,t){return"neutral"!==t&&"error"!==t&&"success"!==t?void console.warn('Godex connection status must be one of "neutral", "success", or "error"'):(this.setState({godexStatus:o["default"].extend(this.state.godexStatus,{message:e,type:t,visible:!0})}),void("success"===t?this._godexTimeout=setTimeout(function(){this.hideGodexStatus()}.bind(this),3e3):void 0!==this._godexTimeout&&clearTimeout(this._godexTimeout)))},hideGodexStatus:function(){this.setState({godexStatus:o["default"].extend(this.state.godexStatus,{visible:!1})})}},e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0;var i=n(657),o=r(i),a=n(1),s=r(a),l=n(14);r(l);t["default"]={connection_idle:function(){this.setState({wall:s["default"].createElement(o["default"],null)})}},e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0;var i=n(715),o=r(i),a=n(39);r(a);t["default"]={componentWillMount:function(){var e=this;o["default"].disableScrolling(),o["default"].fixHeight(),window.addEventListener("resize",function(){void 0!==e.state.adapter&&e.state.adapter.trigger("interface:resized")})}},e.exports=t["default"]},function(e,t){"use strict";t.__esModule=!0,t["default"]={resetFilesContent:function(e,t){return{title:"Whoa there!",message:t+" has been moved. This will cause problems with this exercise. Please move "+t+" back to "+e+", or reset your files.",buttons:[{title:"Reset Files",action:function(){var e=this.resetFilesConfirmationContent();this.openSecondaryModal(e)}.bind(this)},{title:"ok",action:this.cancelAndCloseSecondaryModal}]}},resetFilesConfirmationContent:function(){return{title:"Reset Your Files?",message:"This will overwrite your existing files, and reset your progress to the beginning of this exercise",buttons:[{title:"Confirm",action:function(){this.toggleModal("FileTool"),this.props.broadcast("fixFiles")}.bind(this)},{title:"Cancel",action:this.cancelAndCloseSecondaryModal}]}}},e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0;var i=n(1),o=(r(i),n(15)),a=r(o),s=n(360);t["default"]={componentDidMount:function(){document.addEventListener("mousemove",this.onMouseMove),document.addEventListener("mouseup",this.onMouseUp)},componentWillUnmount:function(){document.removeEventListener("mousemove",this.onMouseMove),document.removeEventListener("mouseup",this.onMouseUp)},onMouseDown:function(e){0===e.button&&this.handleMouseDown&&(this._buildPosns(e),this.handleMouseDown(e))},onMouseUp:function(e){if(this.handleMouseUp){if(void 0!==e._dispatchIDs)return;this._buildPosns(e),this.handleMouseUp(e)}},onMouseMove:function(e){if(this.handleMouseMove){if(void 0!==e._dispatchIDs)return;this._buildPosns(e),this.handleMouseMove(e,this.state.lastMouseMoveEvent),this.state.lastMouseMoveEvent=e}},_buildPosns:function(e){var t=a["default"].findDOMNode(this).getBoundingClientRect();e.offsetPosn=new s.Posn(e.pageX-t.left,e.offsetY-t.top),e.pagePosn=new s.Posn(e.pageX,e.pageY)}},e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0;var i=n(3),o=r(i),a=n(14),s=r(a),l=n(38),u=r(l);t["default"]={refreshNav:function(){this.setState({mayProceed:this.canAccessNextExercise()})},navigate:function(e,t,n){this.state.adapter.abortCheckpoints(),0>t&&(e--,t=this.props.course.lessons[this.props.course.lessons_order[e]].exercises_order.length-1);var r=this.props.course.lessons[this.props.course.lessons_order[e]],i=r.exercises[r.exercises_order[t]],a=this.isAccessible(e,t,0);if(a||t===this.state.currentExerciseIndex+1&&this.canAccessNextExercise()){if(t>=this.state.currentLesson.exercises_order.length&&e>=this.state.currentLessonIndex){if(this.props.segment)return this.setState({shouldShowCompletionModal:!0});e++,r=this.props.course.lessons[this.props.course.lessons_order[e]],t=0,i=r.exercises[r.exercises_order[t]],u["default"]("info","No path segment found for '"+this.props.course.slug+"'")}var l=!this.isOnFarthestUnlockedExercise(this.state.progress,e,t);if(l&&a&&this.state.uploadSavepoints)return this.closeDrawer(),void alert("Going backwards with the Upload Savepoints box checked is BAD. Don't do that. :(");var c=this.getAdapter(i);n=o["default"].extend({push:!0},n),n.push&&window.history.pushState({exerciseIndex:t,lessonIndex:e},i.title,i.path+location.search),this.setState({currentExerciseIndex:t,currentExercise:i,currentLessonIndex:e,currentLesson:r,adapter:c,disabled:!1,wall:void 0}),s["default"].track("visit","exercise",{skill:this.props.course.slug,lesson:r.slug,exercise:i.slug}),u["default"]("info","Navigated to exercise '"+i.slug+"'")}else console.warn("Advancement blocked due to insufficient progress")}},e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0;var i=n(662),o=r(i),a=n(1),s=r(a),l=n(14),u=r(l);t["default"]={apologizeForOutage:function(){u["default"].track("visit","outage_apology",{course:this.props.course.slug}),this.setState({wall:s["default"].createElement(o["default"],{courseSlug:this.props.course.slug})})}},e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0;var i=n(716),o=r(i);t["default"]={getInitialState:function(){var e=this;if(!o["default"].supported())return{};var t=new o["default"]({workspace:this.currentWorkspace().slug});return window.onload=function(){setTimeout(function(){e.state.performanceMeasurements.fetchStandardEvents()},5e3)},{performanceMeasurements:t}},registerPerformanceMeasurement:function(e,t){this.state.performanceMeasurements&&this.state.performanceMeasurements.registerEvent(e,t)},getPerformanceMeasurements:function(){return this.state.performanceMeasurements?this.state.performanceMeasurements.get():null}},e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0;var i=n(9),o=r(i);n(22),t["default"]={updateProgress:function(e){var t=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];o["default"].extend({success:function(){},error:function(){}},t),o["default"].ajax({type:"POST",url:"/courses/"+this.props.course.slug+"/projects/"+this.props.project.slug+"/progress",data:{status:e,r:this.props.course.revision},success:t.success,error:t.error})}},e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0;var i=n(9),o=r(i);n(22);var a=n(14),s=(r(a),n(17)),l=(r(s),n(1)),u=r(l),c=n(673),d=r(c);t["default"]={getInitialProgress:function(e){return(void 0===e||void 0===e.current_state||void 0===e.current_state.lesson)&&(e={current_state:{lesson:0,exercise:0,checkpoint:0}}),e},_isStateInOrder:function(e,t){return e.lesson!=t.lesson?e.lesson<t.lesson:e.exercise!=t.exercise?e.exercise<t.exercise:e.checkpoint<t.checkpoint},_isStateEqual:function(e,t){return e.lesson==t.lesson&&e.exercise==t.exercise&&e.checkpoint==t.checkpoint},_compareState:function(e,t){return this._isStateEqual(e,t)?0:this._isStateInOrder(e,t)?-1:1},_compareWithCurrentProgress:function(e,t,n){var r={lesson:e,exercise:t,checkpoint:n};return this._compareState(r,this.state.progress.current_state)},_uploadProgress:function(e,t,n,r,i){var a="/learn/update_progress";o["default"].ajax({type:"POST",url:a,data:{course_id:e.slug,new_progress:n,old_progress:t},success:function(e){e.achievements&&e.achievements.length>0?(this.setState({achievements:e.achievements}),e.achievements.filter(function(e){return/Course Completed/.test(e.name)}).length>0&&this.setState({wall:u["default"].createElement(d["default"],{courseSlug:this.props.course.slug,courseName:this.props.course.title,achievements:e.achievements,dismiss:this._clearWall})})):this.setState({acheivements:{}})}.bind(this),error:i})},getAchievements:function(){return this.state.achievements},farthestCompleteExerciseIndex:function(){return this.props.progress.current_state.exercise},farthestCompleteLessonIndex:function(){return this.props.progress.current_state.lesson},isActiveCheckpoint:function(e,t,n){var r=this.state.progress.current_state;return e===r.lesson&&t===r.exercise&&n===r.checkpoint},isAccessible:function(e,t,n){return this.state.nolock?!0:this._compareWithCurrentProgress(e,t,n)<=0},isCourseStarted:function(){if(void 0===this.state.progress)return!1;var e=this.state.progress.current_state;return!(0===e.lesson&&0===e.exercise&&0===e.checkpoint)},isExerciseComplete:function(e,t){return this.isAccessible(e,t+1,0)},isCheckpointComplete:function(e,t,n){return this._compareWithCurrentProgress(e,t,n)<0},canAccessNextExercise:function(){return this.isAccessible(this.state.currentLessonIndex,this.state.currentExerciseIndex+1,0)},isOnFarthestUnlockedExercise:function(){var e=arguments.length<=0||void 0===arguments[0]?this.state.progress:arguments[0],t=arguments.length<=1||void 0===arguments[1]?this.state.currentLessonIndex:arguments[1],n=arguments.length<=2||void 0===arguments[2]?this.state.currentExerciseIndex:arguments[2];return e.current_state.exercise===n&&e.current_state.lesson===t},numCompletedExercisesForLesson:function(e){var t=this.props.course.lessons_order[e],t=this.props.course.lessons[t];return e<this.state.progress.current_state.lesson?t.exercises_order.length:e===this.state.progress.current_state.lesson?this.state.progress.current_state.exercise:0},handleCheckpointUpdate:function(e){if(this.isOnFarthestUnlockedExercise()){e.state=this.state,e.skill=this.props.course;var t=e.state.currentLessonIndex,n=e.state.adapter.checkpoints||[],r=e.state.currentExerciseIndex,t=e.state.currentLessonIndex,i=0;e.checkpointIndex+1==n.length?e.state.currentExerciseIndex+1>e.state.currentLesson.exercises_order.length-1?(t++,r=0):r=e.state.currentExerciseIndex+1:i=e.checkpointIndex+1,this.setAndUpdateProgressState({lessonIndex:t,exerciseIndex:r,checkpointIndex:i,course:e.course,oldProgress:e.state.progress,success:e.success,error:e.error})}},setAndUpdateProgressState:function(e){e.course=this.props.course,e.oldProgress=this.state.progress;var t={lesson:e.lessonIndex,exercise:e.exerciseIndex,checkpoint:e.checkpointIndex},n=(e.oldProgress.current_state.lesson===t.lesson,e.oldProgress.current_state.lesson+1===t.lesson,{current_state:t});return this._uploadProgress(e.course,this.state.progress,n,e.success,e.error),this.state.progress=n,this.setState({progress:n}),n}},e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0;var i=n(5),o=r(i),a=n(168),s=r(a),l=n(9),u=r(l);n(22);var c=[{target:"course-navigator",orientation:"right-above",content:"Click here to navigate the course."},{target:"discovery-resize-14",orientation_special:"middle-edge",content:"Drag the edges to resize the window."},{target:"discovery-fullscreen",content:"Click here to make this window fullscreen."},{target:"discovery-checklist",content:"In Projects, you can keep track of your progress as you go throught the tasks. Check each item as you complete it!"}];t["default"]=o["default"].createStore({init:function(){this.listenToMany({onCueSeen:s["default"].cueSeen}),this._activeCues=[],this._calculateActives()},onCueSeen:function(e){CCDATA&&CCDATA.current_user&&(CCDATA.current_user.ui_tour_elements[e]=!0,u["default"].post("/users/ui_tour_elements",{ui_tour_item:e},"json")),this._calculateActives(),this.trigger(this._activeCues)},_calculateActives:function(){var e=c;if(CCDATA&&CCDATA.current_user){for(var t in CCDATA.current_user.ui_tour_elements){var n=e.map(function(e){return e.target}).indexOf(t);e.splice(n,1)}this._activeCues=e}},getActiveCues:function(){return this._activeCues}}),e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0;var i=n(5),o=r(i),a=n(101),s=r(a),l=n(213),u=(r(l),n(3));r(u);t["default"]=o["default"].createStore({init:function(){this.history=[],this.listenTo(s["default"].openFile,this.openFile)},openFile:function(e){this.history.push(e.name)},hasOpened:function(e){return this.history.some(function(t){return t==e})}}),e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0;var i=n(5),o=r(i),a=n(336),s=r(a);t["default"]=o["default"].createStore({init:function(){this.listenToMany({setGodexClient:s["default"].setGodexClient})},setGodexClient:function(e){this.client=e,this.trigger(e)}}),e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0;var i=n(5),o=r(i),a=n(168),s=r(a);t["default"]=o["default"].createStore({init:function(){this.listenToMany({onResized:s["default"].resized,onResizing:s["default"].resizing})},onResized:function(){this.trigger()},onResizing:function(){this.trigger()}}),e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0;var i=n(3),o=r(i),a=n(5),s=r(a),l=n(103),u=r(l),c=n(167),d=r(c);t["default"]=s["default"].createStore({init:function(){this.watching=[],u["default"].listen(this.checkWatchedFiles),this.listenTo(d["default"].publishFilenames,this.setDefaultFiles),this.listenTo(d["default"].loadFiles,this.resetOrphanedFiles)},setDefaultFiles:function(e){this.watching=o["default"].pluck(e,"name")},resetOrphanedFiles:function(){this.watching=[],this.trigger([])},checkWatchedFiles:function(e){for(var t=[],n=this.watching,r=Array.isArray(n),i=0,n=r?n:n[Symbol.iterator]();;){var o;if(r){if(i>=n.length)break;o=n[i++]}else{if(i=n.next(),i.done)break;o=i.value}var a=o;void 0===e.getFile(a)&&t.push(a)}this.trigger(t)}}),e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0;var i=n(5),o=r(i),a=n(202),s=r(a),l=n(9),u=r(l),c=n(14),d=r(c),p="/practice/self_assessment_checklist";
t["default"]=o["default"].createStore({init:function(){this.listenToMany({onCheckAssessment:s["default"].checkAssessment,onResetProject:s["default"].resetProject})},getInitialState:function(e){this.allDone=!0,this.assessments=e.projectAssessments,this.projectSlug=e.projectSlug,this.skillSlug=e.skillSlug,this.revision=e.revision,this.userProgress=e.userProgress;for(var t=this.assessments,n=Array.isArray(t),r=0,t=n?t:t[Symbol.iterator]();;){var i;if(n){if(r>=t.length)break;i=t[r++]}else{if(r=t.next(),r.done)break;i=r.value}for(var o=i,a=o.tasks,s=Array.isArray(a),l=0,a=s?a:a[Symbol.iterator]();;){var u;if(s){if(l>=a.length)break;u=a[l++]}else{if(l=a.next(),l.done)break;u=l.value}var c=u;c.done=void 0!==e.userProgress[c.key]&&"true"===e.userProgress[c.key],c.done||(this.allDone=!1)}}return{assessments:this.assessments,allDone:this.allDone}},onCheckAssessment:function(e,t){var n=!1;void 0===this.userProgress[e]&&(n=!0,d["default"].track("project","checklist_click",{project:this.projectSlug,skill:this.skillSlug,self_assessment:e}),d["default"].track("action","submit",{project:this.projectSlug,skill:this.skillSlug,curriculum:this.skillSlug,self_assessment:e,submit_type:"project_checklist_submit"})),this.userProgress[e]=t;for(var r=!0,i=this.assessments,o=Array.isArray(i),a=0,i=o?i:i[Symbol.iterator]();;){var s;if(o){if(a>=i.length)break;s=i[a++]}else{if(a=i.next(),a.done)break;s=a.value}for(var l=s,u=l.tasks,c=Array.isArray(u),p=0,u=c?u:u[Symbol.iterator]();;){var f;if(c){if(p>=u.length)break;f=u[p++]}else{if(p=u.next(),p.done)break;f=p.value}var h=f;h.key===e&&(h.done=t),h.done||(r=!1)}}r&&!this.allDone&&n&&d["default"].track("project","checklist_complete",{project:this.projectSlug,skill:this.skillSlug}),this.allDone=r,this._updateStore()},onResetProject:function(){for(var e=this.assessments,t=Array.isArray(e),n=0,e=t?e:e[Symbol.iterator]();;){var r;if(t){if(n>=e.length)break;r=e[n++]}else{if(n=e.next(),n.done)break;r=n.value}for(var i=r,o=i.tasks,a=Array.isArray(o),s=0,o=a?o:o[Symbol.iterator]();;){var l;if(a){if(s>=o.length)break;l=o[s++]}else{if(s=o.next(),s.done)break;l=s.value}var u=l;u.done=!1}}this.allDone=!1,this._updateStore()},_updateStore:function(){for(var e={},t=this.assessments,n=Array.isArray(t),r=0,t=n?t:t[Symbol.iterator]();;){var i;if(n){if(r>=t.length)break;i=t[r++]}else{if(r=t.next(),r.done)break;i=r.value}for(var o=i,a=o.tasks,s=Array.isArray(a),l=0,a=s?a:a[Symbol.iterator]();;){var c;if(s){if(l>=a.length)break;c=a[l++]}else{if(l=a.next(),l.done)break;c=l.value}var d=c;e[d.key]=d.done}}u["default"].ajax({type:"POST",url:p,data:{id:this.projectSlug,course_id:this.skillSlug,r:this.revision,tasks:e}}),this.trigger(this.assessments,this.allDone)}}),e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}t.__esModule=!0;var o=n(38),a=r(o),s=n(740),l=r(s),u=n(27),c=r(u),d=n(210),p=function(){function e(t){i(this,e),this.slug=t}return e.prototype.persist=function(){var e=this;return new Promise(function(t,n){l["default"].client.persistWorkspace(e.slug,function(e,r){e?n(e):t(r)})}).then(function(e){c["default"].persist.completed()},function(e){c["default"].persist.failed(e)})},e.prototype.initialize=function(){return this.getFileTree()},e.prototype.getFileTree=function(){var e=this;return new Promise(function(t,n){l["default"].client.getListing(e.slug,function(e,r){e?n(e):t(r)})}).then(function(t){t.Files=[t.Files],e.workspace=d.GodexFileTreeToWorkspace(t),c["default"].getFileTree.completed(e.workspace)},function(e){c["default"].getFileTree.failed(e)})},e.prototype.getFiles=function(e){var t=this;return e=e.filter(function(e){return t.workspace.exists(e)}),new Promise(function(n,r){l["default"].client.getFilesByNames(t.slug,e,function(e,t){e?r(e):n(t)})}).then(function(n){n.Files.forEach(function(e){t.workspace.updateFile(d.GodexFileToWorkspaceFile(e))}),c["default"].getFiles.completed(t.workspace.getFiles(e))},function(e){c["default"].getFiles.failed(e)})},e.prototype.getFile=function(e,t){var n=this;return new Promise(function(r,i){l["default"].client.getFile(n.slug,e,t,function(e,t){e?i(e):r(t)})}).then(function(t){var r=d.GodexFileToWorkspaceFile({fileName:e,content:t.Content});n.workspace.updateFile(r),c["default"].getFile.completed(r)},function(e){c["default"].getFile.failed(e)})},e.prototype.deleteFile=function(e){var t=this;return new Promise(function(n,r){l["default"].client.deleteFile(t.slug,e,function(t){t?r(t):n(e)})}).then(function(e){t.workspace.deleteFile(e),c["default"].deleteFile.completed(e)},function(e){c["default"].deleteFile.failed(e)})},e.prototype.updateFiles=function(e){var t=this,n=e.map(d.WorkspaceFileToGodexFile);return new Promise(function(r,i){l["default"].client.updateFiles(t.slug,n,function(t){t?i(t):r(e)})}).then(function(e){t.workspace.updateFiles(e),c["default"].updateFiles.completed(e)},function(e){a["default"]("error","Failed to save files: "+e),c["default"].updateFiles.failed(e)})},e.prototype.createDirectories=function(e){var t=this,n=e.map(d.WorkspaceDirectoryToGodexDirectory);return new Promise(function(r,i){l["default"].client.updateFiles(t.slug,n,function(t){t?i(t):r(e)})}).then(function(e){t.workspace.createDirectories(e.map(function(e){return e.path})),c["default"].createDirectories.completed(e)},function(e){a["default"]("error","Failed to create directories: "+e),c["default"].createDirectories.failed(e)})},e.prototype.rename=function(e,t){var n=this;return new Promise(function(r,i){l["default"].client.renameFile(n.slug,e,t,function(e,t){e?i(e):r(t)})}).then(function(r){n.workspace.rename(e,t),c["default"].rename.completed(e,t)},function(e){c["default"].rename.failed(e)})},e}();t["default"]=p,e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}t.__esModule=!0;var o=n(38),a=r(o),s=n(17),l=r(s),u=n(356),c=r(u),d=n(27),p=r(d),f=n(210),h=(r(f),function(){function e(t){i(this,e),this.slug=t,this.client=new c["default"](l["default"].get("_id"),l["default"].get("authentication_token"))}return e.prototype.persist=function(){return this.client.persist(this.workspace.root.asJSON()).then(function(){p["default"].persist.completed()},function(e){p["default"].persist.failed(e)})},e.prototype.initialize=function(){var e=this;return this.client.fetch(this.slug).then(function(t){e.workspace=t},function(e){throw new Error("Failed to fetch workspace: "+e)})},e.prototype.getFileTree=function(){return p["default"].getFileTree.completed(this.workspace.getFileTree())},e.prototype.getFiles=function(e){return p["default"].getFiles.completed(this.workspace.getFiles(e))},e.prototype.getFile=function(e,t){return p["default"].getFile.completed(this.workspace.getFile(e,t))},e.prototype.deleteFile=function(e){return this.workspace.deleteFile(e),this.client.persist(this.workspace.root).then(function(){p["default"].deleteFile.completed(e)},function(e){p["default"].deleteFile.failed(e)})},e.prototype.updateFiles=function(e){return this.workspace.updateFiles(e),this.client.persist(this.workspace.root.asJSON()).then(function(){p["default"].updateFiles.completed(e)},function(t){p["default"].updateFiles.failed(e)})},e.prototype.createDirectories=function(e){return this.workspace.createDirectories(e),this.client.persist(this.workspace.root.asJSON()).then(function(){p["default"].createDirectories.completed(e)},function(t){p["default"].createDirectories.failed(e)})},e.prototype.rename=function(e,t){var n=this;return this.workspace.rename(e,t),this.client.persist(this.workspace.root.asJSON()).then(function(){var r=n.workspace.getFile(t);p["default"].rename.completed(e,t,r)},function(e){p["default"].rename.failed(e),a["default"]("error","Failed to rename file: "+e)})},e}());t["default"]=h,e.exports=t["default"]},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}var i=n(9),o=r(i);n(793),function(){var e,t,n,r,i,a,s,l,u,c,d,p,f,h,m,g,v,y,_,b,x,w,k,C,M,T,S,E,D,L,P,N,A,R,I,O,F=function(e,t){return function(){return e.apply(t,arguments)}},j=[].slice;A=0,R=1,I=2,C=13,L=9,x=46,b=8,T=37,D=39,P=38,w=40,M=36,k=35,E=33,S=34,l="jqconsole-",r=""+l+"cursor",i=""+l+"header",u=""+l+"prompt",s=""+l+"old-prompt",a=""+l+"input",n=""+l+"blurred",y="keypress",m="<span/>",f="<div/>",h=":empty",N="\n",p=">>> ",d="... ",c=2,t=""+l+"ansi-",g="",v=/\[(\d*)(?:;(\d*))*m/,e=function(){function e(){this.stylize=F(this.stylize,this),this._closeSpan=F(this._closeSpan,this),this._openSpan=F(this._openSpan,this),this.getClasses=F(this.getClasses,this),this._style=F(this._style,this),this._color=F(this._color,this),this._remove=F(this._remove,this),this._append=F(this._append,this),this.klasses=[]}return e.prototype.COLORS=["black","red","green","yellow","blue","magenta","cyan","white"],e.prototype._append=function(e){return e=""+t+e,-1===this.klasses.indexOf(e)?this.klasses.push(e):void 0},e.prototype._remove=function(){var e,n,r,i,o,a;for(r=1<=arguments.length?j.call(arguments,0):[],a=[],i=0,o=r.length;o>i;i++)n=r[i],"fonts"===n||"color"===n||"background-color"===n?a.push(this.klasses=function(){var r,i,o,a;for(o=this.klasses,a=[],r=0,i=o.length;i>r;r++)e=o[r],e.indexOf(n)!==t.length&&a.push(e);return a}.call(this)):(n=""+t+n,a.push(this.klasses=function(){var t,r,i,o;for(i=this.klasses,o=[],t=0,r=i.length;r>t;t++)e=i[t],e!==n&&o.push(e);return o}.call(this)));return a},e.prototype._color=function(e){return this.COLORS[e]},e.prototype._style=function(e){if(""===e&&(e=0),e=parseInt(e),!isNaN(e))switch(e){case 0:return this.klasses=[];case 1:return this._append("bold");case 2:return this._append("lighter");case 3:return this._append("italic");case 4:return this._append("underline");case 5:return this._append("blink");case 6:return this._append("blink-rapid");case 8:return this._append("hidden");case 9:return this._append("line-through");case 10:return this._remove("fonts");case 11:case 12:case 13:case 14:case 15:case 16:case 17:case 18:case 19:return this._remove("fonts"),this._append("fonts-"+(e-10));case 20:return this._append("fraktur");case 21:return this._remove("bold","lighter");case 22:return this._remove("bold","lighter");case 23:return this._remove("italic","fraktur");case 24:return this._remove("underline");case 25:return this._remove("blink","blink-rapid");case 28:return this._remove("hidden");case 29:return this._remove("line-through");case 30:case 31:case 32:case 33:case 34:case 35:case 36:case 37:return this._remove("color"),this._append("color-"+this._color(e-30));case 39:return this._remove("color");case 40:case 41:case 42:case 43:case 44:case 45:case 46:case 47:return this._remove("background-color"),this._append("background-color-"+this._color(e-40));case 49:return this._remove("background-color");case 51:return this._append("framed");case 53:return this._append("overline");case 54:return this._remove("framed");case 55:return this._remove("overline")}},e.prototype.getClasses=function(){return this.klasses.join(" ")},e.prototype._openSpan=function(e){return'<span class="'+this.getClasses()+'">'+e},e.prototype._closeSpan=function(e){return""+e+"</span>"},e.prototype.stylize=function(e){var t,n,r,i,o,a;for(e=this._openSpan(e),r=0;(r=e.indexOf(g,r))&&-1!==r;)if(n=e.slice(r).match(v)){for(a=n.slice(1),i=0,o=a.length;o>i;i++)t=a[i],this._style(t);e=this._closeSpan(e.slice(0,r))+this._openSpan(e.slice(r+1+n[0].length))}else r++;return this._closeSpan(e)},e}(),O=function(e,t){return'<span class="'+e+'">'+(t||"")+"</span>"},_=function(){function t(t,n,r,a){this.container=t,this._HideComposition=F(this._HideComposition,this),this._ShowComposition=F(this._ShowComposition,this),this._UpdateComposition=F(this._UpdateComposition,this),this._EndComposition=F(this._EndComposition,this),this._StartComposition=F(this._StartComposition,this),this._CheckComposition=F(this._CheckComposition,this),this._ProcessMatch=F(this._ProcessMatch,this),this._HandleKey=F(this._HandleKey,this),this._HandleChar=F(this._HandleChar,this),this.isMobile=!!navigator.userAgent.match(/iPhone|iPad|iPod|Android/i),this.isIos=!!navigator.userAgent.match(/iPhone|iPad|iPod/i),this.isAndroid=!!navigator.userAgent.match(/Android/i),this.$window=o["default"](window),this.header=n||"",this.prompt_label_main="string"==typeof r?r:p,this.prompt_label_continue=a||d,this.indent_width=c,this.state=R,this.input_queue=[],this.input_callback=null,this.multiline_callback=null,this.history=[],this.history_index=0,this.history_new="",this.history_active=!1,this.shortcuts={},this.$console=o["default"]('<pre class="jqconsole"/>').appendTo(this.container),this.$console.css({position:"absolute",top:0,bottom:0,right:0,left:0,margin:0,overflow:"auto"}),this.$console_focused=!0,this.$input_container=o["default"](f).appendTo(this.container),this.$input_container.css({position:"relative",width:1,height:0,top:-999999,overflow:"hidden"}),this.$input_source=o["default"]("<textarea/>"),this.$input_source.attr({wrap:"off",autocapitalize:"off",autocorrect:"off",spellcheck:"false",autocomplete:"off"}),this.$input_source.css({position:"absolute",width:2}),this.$input_source.appendTo(this.$input_container),this.$composition=o["default"](f),this.$composition.addClass(""+l+"composition"),this.$composition.css({display:"inline",position:"relative"}),this.matchings={openings:{},closings:{},clss:[]},this.ansi=new e,this._InitPrompt(),this._SetupEvents(),this.Write(this.header,i),o["default"](this.container).data("jqconsole",this)}return t.prototype.ResetHistory=function(){return this.SetHistory([])},t.prototype.ResetShortcuts=function(){return this.shortcuts={}},t.prototype.ResetMatchings=function(){return this.matchings={openings:{},closings:{},clss:[]}},t.prototype.Reset=function(){return this.state!==R&&this.ClearPromptText(!0),this.state=R,this.input_queue=[],this.input_callback=null,this.multiline_callback=null,this.ResetHistory(),this.ResetShortcuts(),this.ResetMatchings(),this.$prompt.detach(),this.$input_container.detach(),this.$console.html(""),this.$prompt.appendTo(this.$console),this.$input_container.appendTo(this.container),void this.Write(this.header,i)},t.prototype.GetHistory=function(){return this.history},t.prototype.SetHistory=function(e){return this.history=e.slice(),this.history_index=this.history.length},t.prototype._CheckKeyCode=function(e){if(e=isNaN(e)?e.charCodeAt(0):parseInt(e,10),!(e>0&&256>e)||isNaN(e))throw new Error("Key code must be a number between 0 and 256 exclusive.");return e},t.prototype._LetterCaseHelper=function(e,t){return t(e),e>=65&&90>=e&&t(e+32),e>=97&&122>=e?t(e-32):void 0},t.prototype.RegisterShortcut=function(e,t){var n,r=this;if(e=this._CheckKeyCode(e),"function"!=typeof t)throw new Error("Callback must be a function, not "+t+".");return n=function(e){return e in r.shortcuts||(r.shortcuts[e]=[]),r.shortcuts[e].push(t)},void this._LetterCaseHelper(e,n)},t.prototype.UnRegisterShortcut=function(e,t){var n,r=this;return e=this._CheckKeyCode(e),n=function(e){return e in r.shortcuts?t?r.shortcuts[e].splice(r.shortcuts[e].indexOf(t),1):delete r.shortcuts[e]:void 0},void this._LetterCaseHelper(e,n)},t.prototype.GetColumn=function(){var e;return this.$prompt_cursor.text(""),e=this.$console.text().split(N),this.$prompt_cursor.html("&nbsp;"),e[e.length-1].length},t.prototype.GetLine=function(){return this.$console.text().split(N).length-1},t.prototype.ClearPromptText=function(e){if(this.state===R)throw new Error("ClearPromptText() is not allowed in output state.");return this.$prompt_before.html(""),this.$prompt_after.html(""),this.$prompt_label.text(e?"":this._SelectPromptLabel(!1)),this.$prompt_left.text(""),void this.$prompt_right.text("")},t.prototype.GetPromptText=function(e){var t,n,r,i,a;if(this.state===R)throw new Error("GetPromptText() is not allowed in output state.");return e?(this.$prompt_cursor.text(""),a=this.$prompt.text(),this.$prompt_cursor.html("&nbsp;"),a):(i=function(e){var t;return t=[],e.children().each(function(){return t.push(o["default"](this).children().last().text())}),t.join(N)},n=i(this.$prompt_before),n&&(n+=N),r=this.$prompt_left.text()+this.$prompt_right.text(),t=i(this.$prompt_after),t&&(t=N+t),n+r+t)},t.prototype.SetPromptText=function(e){if(this.state===R)throw new Error("SetPromptText() is not allowed in output state.");return this.ClearPromptText(!1),this._AppendPromptText(e),void this._ScrollToEnd()},t.prototype.SetPromptLabel=function(e,t){return this.prompt_label_main=e,void(null!=t&&(this.prompt_label_continue=t))},t.prototype.Write=function(e,t,n){var r;return null==n&&(n=!0),n&&(e=this.ansi.stylize(o["default"](m).text(e).html())),r=o["default"](m).html(e),null!=t&&r.addClass(t),this.Append(r)},t.prototype.Append=function(e){var t;return t=o["default"](e).insertBefore(this.$prompt),this._ScrollToEnd(),this.$prompt_cursor.detach().insertAfter(this.$prompt_left),t},t.prototype.Input=function(e){var t,n,r,i,o=this;if(this.state===I)r=this.input_callback,i=this.multiline_callback,n=this.history_active,t=this.async_multiline,this.AbortPrompt(),this.input_queue.unshift(function(){return o.Prompt(n,r,i,t)});else if(this.state!==R)return void this.input_queue.push(function(){return o.Input(e)});return this.history_active=!1,this.input_callback=e,this.multiline_callback=null,this.state=A,this.$prompt.attr("class",a),this.$prompt_label.text(this._SelectPromptLabel(!1)),this.Focus(),void this._ScrollToEnd()},t.prototype.Prompt=function(e,t,n,r){var i=this;return this.state!==R?void this.input_queue.push(function(){return i.Prompt(e,t,n,r)}):(this.history_active=e,this.input_callback=t,this.multiline_callback=n,this.async_multiline=r,this.state=I,this.$prompt.attr("class",u+" "+this.ansi.getClasses()),this.$prompt_label.text(this._SelectPromptLabel(!1)),this.Focus(),void this._ScrollToEnd())},t.prototype.AbortPrompt=function(){if(this.state!==I)throw new Error("Cannot abort prompt when not in prompt state.");return this.Write(this.GetPromptText(!0)+N,s),this.ClearPromptText(!0),this.state=R,this.input_callback=this.multiline_callback=null,void this._CheckInputQueue()},t.prototype.Focus=function(){return void(this.IsDisabled()||this.$input_source.focus())},t.prototype.SetIndentWidth=function(e){return this.indent_width=e},t.prototype.GetIndentWidth=function(){return this.indent_width},t.prototype.RegisterMatching=function(e,t,n){var r;return r={opening_char:e,closing_char:t,cls:n},this.matchings.clss.push(n),this.matchings.openings[e]=r,this.matchings.closings[t]=r},t.prototype.UnRegisterMatching=function(e,t){var n;return n=this.matchings.openings[e].cls,delete this.matchings.openings[e],delete this.matchings.closings[t],this.matchings.clss.splice(this.matchings.clss.indexOf(n),1)},t.prototype.Dump=function(){var e,t;return e=this.$console.find("."+i).nextUntil("."+u),function(){var n,r,i;for(i=[],n=0,r=e.length;r>n;n++)t=e[n],o["default"](t).is("."+s)?i.push(o["default"](t).text().replace(/^\s+/,">>> ")):i.push(o["default"](t).text());return i}().join(" ")},t.prototype.GetState=function(){return this.state===A?"input":this.state===R?"output":"prompt"},t.prototype.Disable=function(){return this.$input_source.attr("disabled",!0),this.$input_source.blur()},t.prototype.Enable=function(){return this.$input_source.attr("disabled",!1)},t.prototype.IsDisabled=function(){return Boolean(this.$input_source.attr("disabled"))},t.prototype.MoveToStart=function(e){return void this._MoveTo(e,!0)},t.prototype.MoveToEnd=function(e){return void this._MoveTo(e,!1)},t.prototype._CheckInputQueue=function(){return this.input_queue.length?this.input_queue.shift()():void 0},t.prototype._InitPrompt=function(){return this.$prompt=o["default"](O(a)).appendTo(this.$console),this.$prompt_before=o["default"](m).appendTo(this.$prompt),this.$prompt_current=o["default"](m).appendTo(this.$prompt),this.$prompt_after=o["default"](m).appendTo(this.$prompt),this.$prompt_label=o["default"](m).appendTo(this.$prompt_current),this.$prompt_left=o["default"](m).appendTo(this.$prompt_current),this.$prompt_right=o["default"](m).appendTo(this.$prompt_current),this.$prompt_right.css({position:"relative"}),this.$prompt_cursor=o["default"](O(r,"&nbsp;")),this.$prompt_cursor.insertBefore(this.$prompt_right),this.$prompt_cursor.css({color:"transparent",display:"inline",zIndex:0}),this.isMobile?void 0:this.$prompt_cursor.css("position","absolute")},t.prototype._SetupEvents=function(){var e,t,r=this;return this.isMobile?this.$console.click(function(e){return e.preventDefault(),r.Focus()}):this.$console.mouseup(function(e){var t;return 2===e.which?r.Focus():(t=function(){return window.getSelection().toString()?void 0:(e.preventDefault(),r.Focus())},setTimeout(t,0))}),this.$input_source.focus(function(){var e,t;return r._ScrollToEnd(),r.$console_focused=!0,r.$console.removeClass(n),t=function(){return r.$console_focused?r.$console.removeClass(n):void 0},setTimeout(t,100),e=function(){return r.isIos&&r.$console_focused?r.$input_source.hide():void 0},setTimeout(e,500)}),this.$input_source.blur(function(){var e;return r.$console_focused=!1,r.isIos&&r.$input_source.show(),e=function(){return r.$console_focused?void 0:r.$console.addClass(n)},setTimeout(e,100)}),t=o["default"].browser.opera?"input":"paste",this.$input_source.bind(t,function(){var e;return e=function(){return r.in_composition?void 0:(r._AppendPromptText(r.$input_source.val()),r.$input_source.val(""),r.Focus())},setTimeout(e,0)}),this.$input_source.keypress(this._HandleChar),this.$input_source.keydown(this._HandleKey),this.$input_source.keydown(this._CheckComposition),null!=o["default"].browser.mozilla&&(this.$input_source.bind("compositionstart",this._StartComposition),this.$input_source.bind("compositionend",this._EndCommposition),this.$input_source.bind("text",this._UpdateComposition)),null!=o["default"].browser.opera?(e=function(){return r.in_composition?void 0:r.$input_source.val().length?r._StartComposition():void 0},setInterval(e,200)):void 0},t.prototype._HandleChar=function(e){var t,n;return this.state===R||e.metaKey||e.ctrlKey?!0:(t=e.which,8===t||9===t||13===t?!1:(n=String.fromCharCode(t),0===n.length?!0:(this.$prompt_left.text(this.$prompt_left.text()+n),this._ScrollToEnd(),!1)))},t.prototype._HandleKey=function(e){var t;if(this.state===R)return!0;if(t=e.keyCode||e.which,setTimeout(o["default"].proxy(this._CheckMatchings,this),0),e.altKey)return!0;if(e.ctrlKey||e.metaKey)return this._HandleCtrlShortcut(t);if(e.shiftKey){switch(t){case C:this._HandleEnter(!0);break;case L:this._Unindent();break;case P:this._MoveUp();break;case w:this._MoveDown();break;case E:this._ScrollUp();break;case S:this._ScrollDown();break;default:return!0}return!1}switch(t){case C:this._HandleEnter(!1);break;case L:this._Indent();break;case x:this._Delete(!1);break;case b:this._Backspace(!1);break;case T:this._MoveLeft(!1);break;case D:this._MoveRight(!1);break;case P:this._HistoryPrevious();break;case w:this._HistoryNext();break;case M:this.MoveToStart(!1);break;case k:this.MoveToEnd(!1);break;case E:this._ScrollUp();break;case S:this._ScrollDown();break;default:return!0}return!1},t.prototype._HandleCtrlShortcut=function(e){var t,n,r,i;switch(e){case x:this._Delete(!0);break;case b:this._Backspace(!0);break;case T:this._MoveLeft(!0);break;case D:this._MoveRight(!0);break;case P:this._MoveUp();break;case w:this._MoveDown();break;case k:this.MoveToEnd(!0);break;case M:this.MoveToStart(!0);break;default:if(e in this.shortcuts){for(i=this.shortcuts[e],n=0,r=i.length;r>n;n++)t=i[n],t.call(this);return!1}return!0}return!1},t.prototype._HandleEnter=function(e){var t,n,r=this;return e?this._InsertNewLine(!0):(n=this.GetPromptText(),t=function(e){var t,i,o,a,s,u;if(e!==!1){for(r.MoveToEnd(!0),r._InsertNewLine(!0),u=[],o=a=0,s=Math.abs(e);s>=0?s>a:a>s;o=s>=0?++a:--a)e>0?u.push(r._Indent()):u.push(r._Unindent());return u}return i=r.state===A?"input":"prompt",r.Write(r.GetPromptText(!0)+N,""+l+"old-"+i),r.ClearPromptText(!0),r.history_active&&(r.history.length&&r.history[r.history.length-1]===n||r.history.push(n),r.history_index=r.history.length),r.state=R,t=r.input_callback,r.input_callback=null,t&&t(n),r._CheckInputQueue()},this.multiline_callback?this.async_multiline?this.multiline_callback(n,t):t(this.multiline_callback(n)):t(!1))},t.prototype._GetDirectionals=function(e){var t,n,r,i,a,s,l,u;return i=e?this.$prompt_left:this.$prompt_right,t=e?this.$prompt_right:this.$prompt_left,r=e?this.$prompt_before:this.$prompt_after,n=e?this.$prompt_after:this.$prompt_before,s=e?o["default"].proxy(this.MoveToStart,this):o["default"].proxy(this.MoveToEnd,this),a=e?o["default"].proxy(this._MoveLeft,this):o["default"].proxy(this._MoveRight,this),u=e?"last":"first",l=e?"prependTo":"appendTo",{$prompt_which:i,$prompt_opposite:t,$prompt_relative:r,$prompt_rel_opposite:n,MoveToLimit:s,MoveDirection:a,which_end:u,where_append:l}},t.prototype._VerticalMove=function(e){var t,n,r,i,o,a,s,l;return l=this._GetDirectionals(e),r=l.$prompt_which,t=l.$prompt_opposite,n=l.$prompt_relative,o=l.MoveToLimit,i=l.MoveDirection,n.is(h)?void 0:(a=this.$prompt_left.text().length,o(),i(),s=r.text(),t.text(e?s.slice(a):s.slice(0,a)),r.text(e?s.slice(0,a):s.slice(a)))},t.prototype._MoveUp=function(){return this._VerticalMove(!0)},t.prototype._MoveDown=function(){return this._VerticalMove()},t.prototype._HorizontalMove=function(e,t){var n,r,i,a,s,l,u,c,d,p,f,g,v,y;if(y=this._GetDirectionals(t),s=y.$prompt_which,r=y.$prompt_opposite,a=y.$prompt_relative,i=y.$prompt_rel_opposite,g=y.which_end,f=y.where_append,c=t?/\w*\W*$/:/^\w*\W*/,d=s.text()){if(e){if(v=d.match(c),!v)return;return v=v[0],p=r.text(),r.text(t?v+p:p+v),u=v.length,s.text(t?d.slice(0,-u):d.slice(u))}return p=r.text(),r.text(t?d.slice(-1)+p:p+d[0]),s.text(t?d.slice(0,-1):d.slice(1))}return a.is(h)?void 0:(l=o["default"](m)[f](i),l.append(o["default"](m).text(this.$prompt_label.text())),l.append(o["default"](m).text(r.text())),n=a.children()[g]().detach(),this.$prompt_label.text(n.children().first().text()),s.text(n.children().last().text()),r.text(""))},t.prototype._MoveLeft=function(e){return this._HorizontalMove(e,!0)},t.prototype._MoveRight=function(e){return this._HorizontalMove(e)},t.prototype._MoveTo=function(e,t){var n,r,i,o,a,s,l;if(s=this._GetDirectionals(t),i=s.$prompt_which,n=s.$prompt_opposite,r=s.$prompt_relative,a=s.MoveToLimit,o=s.MoveDirection,e){for(l=[];!r.is(h)||""!==i.text();)a(!1),l.push(o(!1));return l}return n.text(this.$prompt_left.text()+this.$prompt_right.text()),i.text("")},t.prototype._Delete=function(e){var t,n,r;if(n=this.$prompt_right.text()){if(e){if(r=n.match(/^\w*\W*/),!r)return;return r=r[0],this.$prompt_right.text(n.slice(r.length))}return this.$prompt_right.text(n.slice(1))}return this.$prompt_after.is(h)?void 0:(t=this.$prompt_after.children().first().detach(),this.$prompt_right.text(t.children().last().text()))},t.prototype._Backspace=function(e){var t,n,r;if(setTimeout(o["default"].proxy(this._ScrollToEnd,this),0),n=this.$prompt_left.text()){if(e){if(r=n.match(/\w*\W*$/),!r)return;return r=r[0],this.$prompt_left.text(n.slice(0,-r.length))}return this.$prompt_left.text(n.slice(0,-1))}return this.$prompt_before.is(h)?void 0:(t=this.$prompt_before.children().last().detach(),this.$prompt_label.text(t.children().first().text()),this.$prompt_left.text(t.children().last().text()))},t.prototype._Indent=function(){var e;return this.$prompt_left.prepend(function(){var t,n,r;for(r=[],e=t=1,n=this.indent_width;n>=1?n>=t:t>=n;e=n>=1?++t:--t)r.push(" ");return r}.call(this).join(""))},t.prototype._Unindent=function(){var e,t,n,r,i;for(e=this.$prompt_left.text()+this.$prompt_right.text(),i=[],t=n=1,r=this.indent_width;(r>=1?r>=n:n>=r)&&/^ /.test(e);t=r>=1?++n:--n)this.$prompt_left.text()?this.$prompt_left.text(this.$prompt_left.text().slice(1)):this.$prompt_right.text(this.$prompt_right.text().slice(1)),i.push(e=e.slice(1));return i},t.prototype._InsertNewLine=function(e){var t,n,r;return null==e&&(e=!1),r=this._SelectPromptLabel(!this.$prompt_before.is(h)),t=o["default"](m).appendTo(this.$prompt_before),t.append(o["default"](m).text(r)),t.append(o["default"](m).text(this.$prompt_left.text())),this.$prompt_label.text(this._SelectPromptLabel(!0)),e&&(n=this.$prompt_left.text().match(/^\s+/))?this.$prompt_left.text(n[0]):this.$prompt_left.text(""),this._ScrollToEnd()},t.prototype._AppendPromptText=function(e){var t,n,r,i,o,a;for(n=e.split(N),this.$prompt_left.text(this.$prompt_left.text()+n[0]),o=n.slice(1),a=[],r=0,i=o.length;i>r;r++)t=o[r],this._InsertNewLine(),a.push(this.$prompt_left.text(t));return a},t.prototype._ScrollUp=function(){var e;return e=this.$console[0].scrollTop-this.$console.height(),this.$console.stop().animate({scrollTop:e},"fast")},t.prototype._ScrollDown=function(){var e;return e=this.$console[0].scrollTop+this.$console.height(),this.$console.stop().animate({scrollTop:e},"fast")},t.prototype._ScrollToEnd=function(){var e,t=this;return this.$console.scrollTop(this.$console[0].scrollHeight),e=function(){var e,n,r,i,o,a,s;if(n=t.$prompt_cursor.height(),s=t.$window.scrollTop(),a=t.$window.scrollLeft(),e=document.documentElement.clientHeight,i=t.$prompt_cursor.offset(),o=t.$prompt_cursor.position(),t.$input_container.css({left:o.left,top:o.top-999999}),r=i.top-2*n,t.isMobile&&"undefined"!=typeof orientation&&null!==orientation){if(s<i.top||s>i.top)return t.$window.scrollTop(r)}else{if(s+e<i.top)return t.$window.scrollTop(i.top-e+n);if(s>r)return t.$window.scrollTop(i.top)}},setTimeout(e,0)},t.prototype._SelectPromptLabel=function(e){return this.state===I?e?" \n"+this.prompt_label_continue:this.prompt_label_main:e?"\n ":" "},t.prototype._outerHTML=function(e){return document.body.outerHTML?e.get(0).outerHTML:o["default"](f).append(e.eq(0).clone()).html()},t.prototype._Wrap=function(e,t,n){var r,i;return i=e.html(),r=i.slice(0,t)+O(n,i[t])+i.slice(t+1),e.html(r)},t.prototype._WalkCharacters=function(e,t,n,r,i){var o,a,s;for(a=i?e.length:0,e=e.split(""),s=function(){var t,n,r,o;return i?(r=e,e=2<=r.length?j.call(r,0,n=r.length-1):(n=0,[]),t=r[n++]):(o=e,t=o[0],e=2<=o.length?j.call(o,1):[]),t&&(a+=i?-1:1),t};o=s();)if(o===t?r++:o===n&&r--,0===r)return{index:a,current_count:r};return{index:-1,current_count:r}},t.prototype._ProcessMatch=function(e,t,n){var r,i,a,s,l,u,c,d,p,f,h,m,g=this;return f=t?[e.closing_char,e.opening_char]:[e.opening_char,e.closing_char],s=f[0],d=f[1],h=this._GetDirectionals(t),a=h.$prompt_which,i=h.$prompt_relative,l=1,u=!1,p=a.html(),t||(p=p.slice(1)),n&&t&&(p=p.slice(0,-1)),m=this._WalkCharacters(p,s,d,l,t),c=m.index,l=m.current_count,c>-1?(this._Wrap(a,c,e.cls),u=!0):(r=i.children(),r=t?Array.prototype.reverse.call(r):r,r.each(function(n,r){var i,a;return i=o["default"](r).children().last(),p=i.html(),a=g._WalkCharacters(p,s,d,l,t),c=a.index,l=a.current_count,c>-1?(t||c--,g._Wrap(i,c,e.cls),u=!0,!1):void 0})),u},t.prototype._CheckMatchings=function(e){var t,n,r,i,a,s,l;for(r=e?this.$prompt_left.text().slice(this.$prompt_left.text().length-1):this.$prompt_right.text()[0],l=this.matchings.clss,a=0,s=l.length;s>a;a++)t=l[a],o["default"]("."+t,this.$console).contents().unwrap();if((n=this.matchings.closings[r])?i=this._ProcessMatch(n,!0,e):(n=this.matchings.openings[r])?i=this._ProcessMatch(n,!1,e):e||this._CheckMatchings(!0),e){if(i)return this._Wrap(this.$prompt_left,this.$prompt_left.html().length-1,n.cls)}else if(i)return this._Wrap(this.$prompt_right,0,n.cls)},t.prototype._HistoryPrevious=function(){return!this.history_active||this.history_index<=0?void 0:(this.history_index===this.history.length&&(this.history_new=this.GetPromptText()),this.SetPromptText(this.history[--this.history_index]))},t.prototype._HistoryNext=function(){return!this.history_active||this.history_index>=this.history.length?void 0:this.history_index===this.history.length-1?(this.history_index++,this.SetPromptText(this.history_new)):this.SetPromptText(this.history[++this.history_index]);
},t.prototype._CheckComposition=function(e){var t;return t=e.keyCode||e.which,null!=o["default"].browser.opera&&this.in_composition&&this._UpdateComposition(),229===t?this.in_composition?this._UpdateComposition():this._StartComposition():void 0},t.prototype._StartComposition=function(){return this.$input_source.bind(y,this._EndComposition),this.in_composition=!0,this._ShowComposition(),setTimeout(this._UpdateComposition,0)},t.prototype._EndComposition=function(){return this.$input_source.unbind(y,this._EndComposition),this.in_composition=!1,this._HideComposition(),this.$input_source.val("")},t.prototype._UpdateComposition=function(e){var t,n=this;return t=function(){return n.in_composition?n.$composition.text(n.$input_source.val()):void 0},setTimeout(t,0)},t.prototype._ShowComposition=function(){return this.$composition.css("height",this.$prompt_cursor.height()),this.$composition.empty(),this.$composition.appendTo(this.$prompt_left)},t.prototype._HideComposition=function(){return this.$composition.detach()},t}(),o["default"].fn.jqconsole=function(e,t,n){return new _(this,e,t,n)},o["default"].fn.jqconsole.JQConsole=_,o["default"].fn.jqconsole.Ansi=e}.call(void 0)},function(e,t,n){/*!
	 * jQuery Migrate - v1.0.0 - 2013-01-14
	 * https://github.com/jquery/jquery-migrate
	 * Copyright 2005, 2013 jQuery Foundation, Inc. and other contributors; Licensed MIT
	 */
"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}var i=n(9),o=r(i);!function(e,t,n){function r(n){o[n]||(o[n]=!0,e.migrateWarnings.push(n),t.console&&console.warn&&!e.migrateMute&&console.warn("JQMIGRATE: "+n))}function i(t,n,i,o){if(Object.defineProperty)try{return void Object.defineProperty(t,n,{configurable:!0,enumerable:!0,get:function(){return r(o),i},set:function(e){r(o),i=e}})}catch(a){}e._definePropertyBroken=!0,t[n]=i}var o={};e.migrateWarnings=[],e.migrateReset=function(){o={},e.migrateWarnings.length=0},"BackCompat"===document.compatMode&&r("jQuery is not compatible with Quirks Mode");var a={},s=e.attr,l=e.attrHooks.value&&e.attrHooks.value.get||function(){return null},u=e.attrHooks.value&&e.attrHooks.value.set||function(){return n},c=/^(?:input|button)$/i,d=/^[238]$/,p=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,f=/^(?:checked|selected)$/i;i(e,"attrFn",a,"jQuery.attrFn is deprecated"),e.attr=function(t,i,o,a){var l=i.toLowerCase(),u=t&&t.nodeType;return a&&(r("jQuery.fn.attr( props, pass ) is deprecated"),t&&!d.test(u)&&e.isFunction(e.fn[i]))?e(t)[i](o):("type"===i&&o!==n&&c.test(t.nodeName)&&r("Can't change the 'type' of an input or button in IE 6/7/8"),!e.attrHooks[l]&&p.test(l)&&(e.attrHooks[l]={get:function(t,r){var i,o=e.prop(t,r);return o===!0||"boolean"!=typeof o&&(i=t.getAttributeNode(r))&&i.nodeValue!==!1?r.toLowerCase():n},set:function(t,n,r){var i;return n===!1?e.removeAttr(t,r):(i=e.propFix[r]||r,i in t&&(t[i]=!0),t.setAttribute(r,r.toLowerCase())),r}},f.test(l)&&r("jQuery.fn.attr("+l+") may use property instead of attribute")),s.call(e,t,i,o))},e.attrHooks.value={get:function(e,t){var n=(e.nodeName||"").toLowerCase();return"button"===n?l.apply(this,arguments):("input"!==n&&"option"!==n&&r("property-based jQuery.fn.attr('value') is deprecated"),t in e?e.value:null)},set:function(e,t){var n=(e.nodeName||"").toLowerCase();return"button"===n?u.apply(this,arguments):("input"!==n&&"option"!==n&&r("property-based jQuery.fn.attr('value', val) is deprecated"),void(e.value=t))}};var h,m,g=e.fn.init,v=/^(?:[^<]*(<[\w\W]+>)[^>]*|#([\w\-]*))$/;e.fn.init=function(t,n,i){var o;return t&&"string"==typeof t&&!e.isPlainObject(n)&&(o=v.exec(t))&&o[1]&&("<"!==t.charAt(0)&&r("$(html) HTML strings must start with '<' character"),n&&n.context&&(n=n.context),e.parseHTML)?g.call(this,e.parseHTML(e.trim(t),n,!0),n,i):g.apply(this,arguments)},e.fn.init.prototype=e.fn,e.uaMatch=function(e){e=e.toLowerCase();var t=/(chrome)[ \/]([\w.]+)/.exec(e)||/(webkit)[ \/]([\w.]+)/.exec(e)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(e)||/(msie) ([\w.]+)/.exec(e)||e.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(e)||[];return{browser:t[1]||"",version:t[2]||"0"}},h=e.uaMatch(navigator.userAgent),m={},h.browser&&(m[h.browser]=!0,m.version=h.version),m.chrome?m.webkit=!0:m.webkit&&(m.safari=!0),e.browser=m,i(e,"browser",m,"jQuery.browser is deprecated"),e.sub=function(){function t(e,n){return new t.fn.init(e,n)}e.extend(!0,t,this),t.superclass=this,t.fn=t.prototype=this(),t.fn.constructor=t,t.sub=this.sub,t.fn.init=function(r,i){return i&&i instanceof e&&!(i instanceof t)&&(i=t(i)),e.fn.init.call(this,r,i,n)},t.fn.init.prototype=t.fn;var n=t(document);return r("jQuery.sub() is deprecated"),t};var y=e.fn.data;e.fn.data=function(t){var i,o,a=this[0];return!a||"events"!==t||1!==arguments.length||(i=e.data(a,t),o=e._data(a,t),i!==n&&i!==o||o===n)?y.apply(this,arguments):(r("Use of jQuery.fn.data('events') is deprecated"),o)};var _=/\/(java|ecma)script/i,b=e.fn.andSelf||e.fn.addBack,x=e.buildFragment;e.fn.andSelf=function(){return r("jQuery.fn.andSelf() replaced by jQuery.fn.addBack()"),b.apply(this,arguments)},e.clean||(e.clean=function(t,n,i,o){n=n||document,n=!n.nodeType&&n[0]||n,n=n.ownerDocument||n,r("jQuery.clean() is deprecated");var a,s,l,u,c=[];if(e.merge(c,e.buildFragment(t,n).childNodes),i)for(l=function(e){return!e.type||_.test(e.type)?o?o.push(e.parentNode?e.parentNode.removeChild(e):e):i.appendChild(e):void 0},a=0;null!=(s=c[a]);a++)e.nodeName(s,"script")&&l(s)||(i.appendChild(s),"undefined"!=typeof s.getElementsByTagName&&(u=e.grep(e.merge([],s.getElementsByTagName("script")),l),c.splice.apply(c,[a+1,0].concat(u)),a+=u.length));return c}),e.buildFragment=function(t,n,o,a){var s,l="jQuery.buildFragment() is deprecated";n=n||document,n=!n.nodeType&&n[0]||n,n=n.ownerDocument||n;try{s=x.call(e,t,n,o,a)}catch(u){s=x.call(e,t,n.nodeType?[n]:n[0],o,a),r(l)}return s.fragment||(i(s,"fragment",s,l),i(s,"cacheable",!1,l)),s};var w=e.event.add,k=e.event.remove,C=e.event.trigger,M=e.fn.toggle,T=e.fn.live,S=e.fn.die,E="ajaxStart|ajaxStop|ajaxSend|ajaxComplete|ajaxError|ajaxSuccess",D=new RegExp("\\b(?:"+E+")\\b"),L=/(?:^|\s)hover(\.\S+|)\b/,P=function(t){return"string"!=typeof t||e.event.special.hover?t:(L.test(t)&&r("'hover' pseudo-event is deprecated, use 'mouseenter mouseleave'"),t&&t.replace(L,"mouseenter$1 mouseleave$1"))};e.event.props&&"attrChange"!==e.event.props[0]&&e.event.props.unshift("attrChange","attrName","relatedNode","srcElement"),i(e.event,"handle",e.event.dispatch,"jQuery.event.handle is undocumented and deprecated"),e.event.add=function(e,t,n,i,o){e!==document&&D.test(t)&&r("AJAX events should be attached to document: "+t),w.call(this,e,P(t||""),n,i,o)},e.event.remove=function(e,t,n,r,i){k.call(this,e,P(t)||"",n,r,i)},e.fn.error=function(){var e=Array.prototype.slice.call(arguments,0);return r("jQuery.fn.error() is deprecated"),e.splice(0,0,"error"),arguments.length?this.bind.apply(this,e):(this.triggerHandler.apply(this,e),this)},e.fn.toggle=function(t,n){if(!e.isFunction(t)||!e.isFunction(n))return M.apply(this,arguments);r("jQuery.fn.toggle(handler, handler...) is deprecated");var i=arguments,o=t.guid||e.guid++,a=0,s=function(n){var r=(e._data(this,"lastToggle"+t.guid)||0)%a;return e._data(this,"lastToggle"+t.guid,r+1),n.preventDefault(),i[r].apply(this,arguments)||!1};for(s.guid=o;a<i.length;)i[a++].guid=o;return this.click(s)},e.fn.live=function(t,n,i){return r("jQuery.fn.live() is deprecated"),T?T.apply(this,arguments):(e(this.context).on(t,this.selector,n,i),this)},e.fn.die=function(t,n){return r("jQuery.fn.die() is deprecated"),S?S.apply(this,arguments):(e(this.context).off(t,this.selector||"**",n),this)},e.event.trigger=function(e,t,n,i){return!n&!D.test(e)&&r("Global events are undocumented and deprecated"),C.call(this,e,t,n||document,i)},e.each(E.split("|"),function(t,n){e.event.special[n]={setup:function(){var t=this;return t!==document&&(e.event.add(document,n+"."+e.guid,function(){e.event.trigger(n,null,t,!0)}),e._data(this,n,e.guid++)),!1},teardown:function(){return this!==document&&e.event.remove(document,n+"."+e._data(this,n)),!1}}})}(o["default"],window)},,,,function(e,t,n){var r,i;/*! Case - v1.3.2 - 2015-12-02
	* Copyright (c) 2015 Nathan Bubna; Licensed MIT, GPL */
(function(){"use strict";var o=function(e,t){return t=t||"",e.replace(/(^|-)/g,"$1\\u"+t).replace(/,/g,"\\u"+t)},a=o("20-2F,3A-40,5B-60,7B-7E,A0-BF,D7,F7","00"),s="a-z"+o("DF-F6,F8-FF","00"),l="A-Z"+o("C0-D6,D8-DE","00"),u="A|An|And|As|At|But|By|En|For|If|In|Of|On|Or|The|To|Vs?\\.?|Via",c=function(e,t,n,r){return e=e||a,t=t||s,n=n||l,r=r||u,{capitalize:new RegExp("(^|["+e+"])(["+t+"])","g"),pascal:new RegExp("(^|["+e+"])+(["+t+n+"])","g"),fill:new RegExp("["+e+"]+(.|$)","g"),sentence:new RegExp('(^\\s*|[\\?\\!\\.]+"?\\s+"?|,\\s+")(['+t+"])","g"),improper:new RegExp("\\b("+r+")\\b","g"),relax:new RegExp("([^"+n+"])(["+n+"]*)(["+n+"])(?=["+t+"]|$)","g"),upper:new RegExp("^[^"+t+"]+$"),hole:/\s/,room:new RegExp("["+e+"]")}},d=c(),p={re:d,unicodes:o,regexps:c,types:[],up:String.prototype.toUpperCase,low:String.prototype.toLowerCase,cap:function(e){return p.up.call(e.charAt(0))+e.slice(1)},decap:function(e){return p.low.call(e.charAt(0))+e.slice(1)},fill:function(e,t){return e&&null!=t?e.replace(d.fill,function(e,n){return n?t+n:""}):e},prep:function(e,t,n,r){if(!e)return e||"";if(!r&&d.upper.test(e)&&(e=p.low.call(e)),!t&&!d.hole.test(e)){var i=p.fill(e," ");d.hole.test(i)&&(e=i)}return n||d.room.test(e)||(e=e.replace(d.relax,p.relax)),e},relax:function(e,t,n,r){return t+" "+(n?n+" ":"")+r}},f={_:p,of:function(e){for(var t=0,n=p.types.length;n>t;t++)if(f[p.types[t]](e)===e)return p.types[t]},flip:function(e){return e.replace(/\w/g,function(e){return(e==p.up.call(e)?p.low:p.up).call(e)})},random:function(e){return e.replace(/\w/g,function(e){return(Math.round(Math.random())?p.up:p.low).call(e)})},type:function(e,t){f[e]=t,p.types.push(e)}},h={snake:function(e){return f.lower(e,"_")},constant:function(e){return f.upper(e,"_")},camel:function(e){return p.decap(f.pascal(e))},kebab:function(e){return f.lower(e,"-")},lower:function(e,t){return p.fill(p.low.call(p.prep(e,t)),t)},upper:function(e,t){return p.fill(p.up.call(p.prep(e,t,!1,!0)),t)},capital:function(e,t){return p.fill(p.prep(e).replace(d.capitalize,function(e,t,n){return t+p.up.call(n)}),t)},pascal:function(e){return p.fill(p.prep(e,!1,!0).replace(d.pascal,function(e,t,n){return p.up.call(n)}),"")},title:function(e){return f.capital(e).replace(d.improper,function(e,t,n,r){return n>0&&n<r.lastIndexOf(" ")?p.low.call(e):e})},sentence:function(e,t){return e=f.lower(e).replace(d.sentence,function(e,t,n){return t+p.up.call(n)}),t&&t.forEach(function(t){e=e.replace(new RegExp("\\b"+f.lower(t)+"\\b","g"),p.cap)}),e}};h.squish=h.pascal;for(var m in h)f.type(m,h[m]);n(1010);r="object"==typeof e&&e.exports?e.exports=f:this.Case=f,i="function"==typeof r?r.call(t,n,t,e):r,!(void 0!==i&&(e.exports=i))}).call(this)},,function(e,t,n){var r,i;/*!
	  Copyright (c) 2016 Jed Watson.
	  Licensed under the MIT License (MIT), see
	  http://jedwatson.github.io/classnames
	*/
!function(){"use strict";function n(){for(var e=[],t=0;t<arguments.length;t++){var r=arguments[t];if(r){var i=typeof r;if("string"===i||"number"===i)e.push(this&&this[r]||r);else if(Array.isArray(r))e.push(n.apply(this,r));else if("object"===i)for(var a in r)o.call(r,a)&&r[a]&&e.push(this&&this[a]||a)}}return e.join(" ")}var o={}.hasOwnProperty;"undefined"!=typeof e&&e.exports?e.exports=n:(r=[],i=function(){return n}.apply(t,r),!(void 0!==i&&(e.exports=i)))}()},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t){!function(){var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",n={rotl:function(e,t){return e<<t|e>>>32-t},rotr:function(e,t){return e<<32-t|e>>>t},endian:function(e){if(e.constructor==Number)return 16711935&n.rotl(e,8)|4278255360&n.rotl(e,24);for(var t=0;t<e.length;t++)e[t]=n.endian(e[t]);return e},randomBytes:function(e){for(var t=[];e>0;e--)t.push(Math.floor(256*Math.random()));return t},bytesToWords:function(e){for(var t=[],n=0,r=0;n<e.length;n++,r+=8)t[r>>>5]|=e[n]<<24-r%32;return t},wordsToBytes:function(e){for(var t=[],n=0;n<32*e.length;n+=8)t.push(e[n>>>5]>>>24-n%32&255);return t},bytesToHex:function(e){for(var t=[],n=0;n<e.length;n++)t.push((e[n]>>>4).toString(16)),t.push((15&e[n]).toString(16));return t.join("")},hexToBytes:function(e){for(var t=[],n=0;n<e.length;n+=2)t.push(parseInt(e.substr(n,2),16));return t},bytesToBase64:function(e){for(var n=[],r=0;r<e.length;r+=3)for(var i=e[r]<<16|e[r+1]<<8|e[r+2],o=0;4>o;o++)8*r+6*o<=8*e.length?n.push(t.charAt(i>>>6*(3-o)&63)):n.push("=");return n.join("")},base64ToBytes:function(e){e=e.replace(/[^A-Z0-9+\/]/gi,"");for(var n=[],r=0,i=0;r<e.length;i=++r%4)0!=i&&n.push((t.indexOf(e.charAt(r-1))&Math.pow(2,-2*i+8)-1)<<2*i|t.indexOf(e.charAt(r))>>>6-2*i);return n}};e.exports=n}()},,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t){e.exports={disabled:"index__disabled___CT5P9"}},,function(e,t){e.exports={hint:"index__hint___19uc6",hintHeader:"index__hintHeader___3jc7L",toggleArrow:"index__toggleArrow___a0-jG",hintHeaderText:"index__hintHeaderText___1gCLv",hintHeaderIcon:"index__hintHeaderIcon___IZjHz",hintBody:"index__hintBody___3kg2J",hintBodyShown:"index__hintBodyShown___1ms0a"}},function(e,t){e.exports={formInputs:"index__formInputs___2Befg",radioOption:"index__radioOption___Kxuxm",optionsTitle:"index__optionsTitle___3FStD",reportForm:"index__reportForm___36ZoF",reportFormText:"index__reportFormText___GmCJB",reportFormTextDisabled:"index__reportFormTextDisabled___aKQLs",reportFormIntroText:"index__reportFormIntroText___3H23t",reportFormIntroLink:"index__reportFormIntroLink___1GzhQ",reportFormButton:"index__reportFormButton___2Cps1",reportFormButtonDisabled:"index__reportFormButtonDisabled___1o9B1",formButtonWrapper:"index__formButtonWrapper___2Xaer",formButton:"index__formButton___1U4ic",errorMessage:"index__errorMessage___284tX",helpText:"index__helpText___3fP43"}},,,,,,,,,,function(e,t){e.exports={editor:"index__editor___OmgoU"}},,,,,,,,,function(e,t){"function"==typeof Object.create?e.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}},function(e,t,n){!function(){var t=n(851),r=n(375).utf8,i=n(904),o=n(375).bin,a=function(e,n){e.constructor==String?e=n&&"binary"===n.encoding?o.stringToBytes(e):r.stringToBytes(e):i(e)?e=Array.prototype.slice.call(e,0):Array.isArray(e)||(e=e.toString());for(var s=t.bytesToWords(e),l=8*e.length,u=1732584193,c=-271733879,d=-1732584194,p=271733878,f=0;f<s.length;f++)s[f]=16711935&(s[f]<<8|s[f]>>>24)|4278255360&(s[f]<<24|s[f]>>>8);s[l>>>5]|=128<<l%32,s[(l+64>>>9<<4)+14]=l;for(var h=a._ff,m=a._gg,g=a._hh,v=a._ii,f=0;f<s.length;f+=16){var y=u,_=c,b=d,x=p;u=h(u,c,d,p,s[f+0],7,-680876936),p=h(p,u,c,d,s[f+1],12,-389564586),d=h(d,p,u,c,s[f+2],17,606105819),c=h(c,d,p,u,s[f+3],22,-1044525330),u=h(u,c,d,p,s[f+4],7,-176418897),p=h(p,u,c,d,s[f+5],12,1200080426),d=h(d,p,u,c,s[f+6],17,-1473231341),c=h(c,d,p,u,s[f+7],22,-45705983),u=h(u,c,d,p,s[f+8],7,1770035416),p=h(p,u,c,d,s[f+9],12,-1958414417),d=h(d,p,u,c,s[f+10],17,-42063),c=h(c,d,p,u,s[f+11],22,-1990404162),u=h(u,c,d,p,s[f+12],7,1804603682),p=h(p,u,c,d,s[f+13],12,-40341101),d=h(d,p,u,c,s[f+14],17,-1502002290),c=h(c,d,p,u,s[f+15],22,1236535329),u=m(u,c,d,p,s[f+1],5,-165796510),p=m(p,u,c,d,s[f+6],9,-1069501632),d=m(d,p,u,c,s[f+11],14,643717713),c=m(c,d,p,u,s[f+0],20,-373897302),u=m(u,c,d,p,s[f+5],5,-701558691),p=m(p,u,c,d,s[f+10],9,38016083),d=m(d,p,u,c,s[f+15],14,-660478335),c=m(c,d,p,u,s[f+4],20,-405537848),u=m(u,c,d,p,s[f+9],5,568446438),p=m(p,u,c,d,s[f+14],9,-1019803690),d=m(d,p,u,c,s[f+3],14,-187363961),c=m(c,d,p,u,s[f+8],20,1163531501),u=m(u,c,d,p,s[f+13],5,-1444681467),p=m(p,u,c,d,s[f+2],9,-51403784),d=m(d,p,u,c,s[f+7],14,1735328473),c=m(c,d,p,u,s[f+12],20,-1926607734),u=g(u,c,d,p,s[f+5],4,-378558),p=g(p,u,c,d,s[f+8],11,-2022574463),d=g(d,p,u,c,s[f+11],16,1839030562),c=g(c,d,p,u,s[f+14],23,-35309556),u=g(u,c,d,p,s[f+1],4,-1530992060),p=g(p,u,c,d,s[f+4],11,1272893353),d=g(d,p,u,c,s[f+7],16,-155497632),c=g(c,d,p,u,s[f+10],23,-1094730640),u=g(u,c,d,p,s[f+13],4,681279174),p=g(p,u,c,d,s[f+0],11,-358537222),d=g(d,p,u,c,s[f+3],16,-722521979),c=g(c,d,p,u,s[f+6],23,76029189),u=g(u,c,d,p,s[f+9],4,-640364487),p=g(p,u,c,d,s[f+12],11,-421815835),d=g(d,p,u,c,s[f+15],16,530742520),c=g(c,d,p,u,s[f+2],23,-995338651),u=v(u,c,d,p,s[f+0],6,-198630844),p=v(p,u,c,d,s[f+7],10,1126891415),d=v(d,p,u,c,s[f+14],15,-1416354905),c=v(c,d,p,u,s[f+5],21,-57434055),u=v(u,c,d,p,s[f+12],6,1700485571),p=v(p,u,c,d,s[f+3],10,-1894986606),d=v(d,p,u,c,s[f+10],15,-1051523),c=v(c,d,p,u,s[f+1],21,-2054922799),u=v(u,c,d,p,s[f+8],6,1873313359),p=v(p,u,c,d,s[f+15],10,-30611744),d=v(d,p,u,c,s[f+6],15,-1560198380),c=v(c,d,p,u,s[f+13],21,1309151649),u=v(u,c,d,p,s[f+4],6,-145523070),p=v(p,u,c,d,s[f+11],10,-1120210379),d=v(d,p,u,c,s[f+2],15,718787259),c=v(c,d,p,u,s[f+9],21,-343485551),u=u+y>>>0,c=c+_>>>0,d=d+b>>>0,p=p+x>>>0}return t.endian([u,c,d,p])};a._ff=function(e,t,n,r,i,o,a){var s=e+(t&n|~t&r)+(i>>>0)+a;return(s<<o|s>>>32-o)+t},a._gg=function(e,t,n,r,i,o,a){var s=e+(t&r|n&~r)+(i>>>0)+a;return(s<<o|s>>>32-o)+t},a._hh=function(e,t,n,r,i,o,a){var s=e+(t^n^r)+(i>>>0)+a;return(s<<o|s>>>32-o)+t},a._ii=function(e,t,n,r,i,o,a){var s=e+(n^(t|~r))+(i>>>0)+a;return(s<<o|s>>>32-o)+t},a._blocksize=16,a._digestsize=16,e.exports=function(e,n){if("undefined"!=typeof e){var r=t.wordsToBytes(a(e,n));return n&&n.asBytes?r:n&&n.asString?o.bytesToString(r):t.bytesToHex(r)}}}()},function(e,t){e.exports=function(e){return!(null==e||!e.constructor||"function"!=typeof e.constructor.isBuffer||!e.constructor.isBuffer(e))}},,function(e,t,n){var r,i,o;r=n(3),i=n(797),o=function(e,t){var n,a,s,l;if(null==t&&(t="camel"),l=e,s=i[t],r.isArray(e))for(l=[],n=0;n<e.length;)l.push(o(e[n],t)),++n;else if(r.isObject(e)){l={};for(a in e)l[s(a)]=o(e[a],t)}return l},e.exports=o},,,,,,,,,,,,,,,function(e,t,n){"use strict";e.exports=n(184)},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t){e.exports=function(e){return e&&"object"==typeof e&&"function"==typeof e.copy&&"function"==typeof e.fill&&"function"==typeof e.readUInt8}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},,function(e,t){function n(e,t,n){var r;return r=t?new i(e,t):new i(e)}var r=function(){return this}(),i=r.WebSocket||r.MozWebSocket;e.exports=i?n:null,i&&(n.prototype=i.prototype)}]);
